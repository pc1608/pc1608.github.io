<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-center-atom.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="天予不取，反受其咎；时至不迎，反受其殃">
<meta property="og:type" content="website">
<meta property="og:title" content="千岁">
<meta property="og:url" content="http://example.com/default-index/index.html">
<meta property="og:site_name" content="千岁">
<meta property="og:description" content="天予不取，反受其咎；时至不迎，反受其殃">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="千岁">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/default-index/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>千岁</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a target="_blank" rel="noopener" href="https://github.com/pc1608" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">千岁</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-随笔">

    <a href="/essay/" rel="section"><i class="fa fa-calendar fa-fw"></i>随笔</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/java/mybatispluss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/java/mybatispluss/" class="post-title-link" itemprop="url">mybatispluss</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-10 23:24:05 / 修改时间：23:25:09" itemprop="dateCreated datePublished" datetime="2022-04-10T23:24:05+08:00">2022-04-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/java/mybatispluss/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/java/mybatispluss/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><ul>
<li>MyBatis-Plus（简称MP）是一个MyBatils的增强工具，在MyBatis的基础上只做增强不做改变，为简化开发、提高效率而生。</li>
<li><a target="_blank" rel="noopener" href="https://baomidou.com/">官网</a></li>
</ul>
<h2 id="1-特点"><a href="#1-特点" class="headerlink" title="1. 特点"></a>1. 特点</h2><ul>
<li><strong>无侵入</strong>：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li>
<li><strong>损耗小</strong>：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li>
<li><strong>强大的 CRUD 操作</strong>：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li>
<li><strong>支持 Lambda 形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li>
<li><strong>支持主键自动生成</strong>：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li>
<li><strong>支持 ActiveRecord 模式</strong>：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li>
<li><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）</li>
<li><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li>
<li><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li>
<li><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li>
<li><strong>内置性能分析插件</strong>：可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li>
<li><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</li>
</ul>
<h2 id="3-支持数据库"><a href="#3-支持数据库" class="headerlink" title="3. 支持数据库"></a>3. 支持数据库</h2><blockquote>
<p>任何能使用 <code>MyBatis</code> 进行 CRUD, 并且支持标准 SQL 的数据库，具体支持情况如下，如果不在下列表查看分页部分教程 PR 您的支持。</p>
</blockquote>
<ul>
<li>MySQL，Oracle，DB2，H2，HSQL，SQLite，PostgreSQL，SQLServer，Phoenix，Gauss ，ClickHouse，Sybase，OceanBase，Firebird，Cubrid，Goldilocks，csiidb</li>
<li>达梦数据库，虚谷数据库，人大金仓数据库，南大通用(华库)数据库，南大通用数据库，神通数据库，瀚高数据库</li>
</ul>
<h2 id="4-框架结构"><a href="#4-框架结构" class="headerlink" title="4. 框架结构"></a>4. 框架结构</h2><p><img src="https://baomidou.com/img/mybatis-plus-framework.jpg"></p>
<h2 id="5-代码托管"><a href="#5-代码托管" class="headerlink" title="5. 代码托管"></a>5. 代码托管</h2><p><strong><a target="_blank" rel="noopener" href="https://gitee.com/baomidou/mybatis-plus">Gitee</a></strong>| <strong><a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus">Github</a></strong></p>
<h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><p>对于Mybatis整合MP常有三种用法，分别是Mybatis+MP、Spring+Mybatis+MP、SpringBoot+Mybatis+MP</p>
<h2 id="1-创建数据库及表"><a href="#1-创建数据库及表" class="headerlink" title="1.创建数据库及表"></a>1.创建数据库及表</h2><pre><code class="mysql">DROP TABLE IF EXISTS user;
#创建表
CREATE TABLE user
(
    id BIGINT(20) NOT NULL COMMENT &#39;主键ID&#39;,
    name VARCHAR(30) NULL DEFAULT NULL COMMENT &#39;姓名&#39;,
    age INT(11) NULL DEFAULT NULL COMMENT &#39;年龄&#39;,
    email VARCHAR(50) NULL DEFAULT NULL COMMENT &#39;邮箱&#39;,
    PRIMARY KEY (id)
);
#插入数据
INSERT INTO user (id, name, age, email) VALUES
(1, &#39;Jone&#39;, 18, &#39;test1@baomidou.com&#39;),
(2, &#39;Jack&#39;, 20, &#39;test2@baomidou.com&#39;),
(3, &#39;Tom&#39;, 28, &#39;test3@baomidou.com&#39;),
(4, &#39;Sandy&#39;, 21, &#39;test4@baomidou.com&#39;),
(5, &#39;Billie&#39;, 24, &#39;test5@baomidou.com&#39;);
</code></pre>
<h2 id="2-导入依赖"><a href="#2-导入依赖" class="headerlink" title="2.导入依赖"></a>2.导入依赖</h2><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;artifactId&gt;demo3&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
        &lt;!--mybatis-plus依赖--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-plus&lt;/artifactId&gt;
            &lt;version&gt;3.1.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--mysql--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;8.0.28&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--连接池--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid&lt;/artifactId&gt;
            &lt;version&gt;1.1.12&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--简化bean代码的工具包--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;version&gt;1.18.22&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;4.13.2&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
            &lt;version&gt;1.7.36&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;
</code></pre>
<h2 id="3-mybatis-MP"><a href="#3-mybatis-MP" class="headerlink" title="3.mybatis+MP"></a>3.mybatis+MP</h2><h3 id="3-1查询"><a href="#3-1查询" class="headerlink" title="3.1查询"></a>3.1查询</h3><ol>
<li><p>将UsersMapper继承BaseMapper，将拥有BaseMapper中的所有方法</p>
<pre><code class="java">public interface UsersMapper extends BaseMapper&lt;Users&gt; &#123;

    List&lt;Users&gt; selectAll();
&#125;
</code></pre>
</li>
<li><p>使用MP中的MybatisSqlSessionFavtoryBuilder进程构建</p>
<pre><code class="java">package cam.it.mp;

import com.baomidou.mybatisplus.core.MybatisSqlSessionFactoryBuilder;
import com.it.domain.Users;
import com.it.mapper.UsersMapper;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.junit.Test;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;

public class TestMybatisPlus &#123;
    @Test
    public void test1() throws IOException &#123;
        InputStream resource = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
        SqlSessionFactory factory = new MybatisSqlSessionFactoryBuilder().build(resource);
        SqlSession sqlSession = factory.openSession();
        UsersMapper mapper = sqlSession.getMapper(UsersMapper.class);
//        List&lt;Users&gt; users = mapper.selectAll();
        //查询所有
        List&lt;Users&gt; users = mapper.selectList(null);
        users.forEach(System.out::println);
    &#125;
&#125;
</code></pre>
</li>
</ol>
<pre><code class="java">package com.it.domain;

import com.baomidou.mybatisplus.annotation.TableName;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@AllArgsConstructor
@NoArgsConstructor
@TableName(&quot;user&quot;)/*使用@Table注解要查哪个表，如果表名和类名一样则不用注解*/
public class Users &#123;
    private Integer id;
    private String name;
    private Integer age;
    private String email;
&#125;
</code></pre>
<h2 id="4-mybatis-MP-spring"><a href="#4-mybatis-MP-spring" class="headerlink" title="4. mybatis+MP+spring"></a>4. mybatis+MP+spring</h2><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=
       &quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;!--扫描包--&gt;
    &lt;context:component-scan base-package=&quot;com.it&quot;/&gt;
    &lt;!--引入数据文件--&gt;
    &lt;context:property-placeholder location=&quot;classpath:*.properties&quot;/&gt;
    &lt;!--数据源--&gt;
    &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt;
        &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
        &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
        &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
        &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
        &lt;property name=&quot;maxActive&quot; value=&quot;10&quot;/&gt;
        &lt;property name=&quot;minIdle&quot; value=&quot;5&quot;/&gt;
    &lt;/bean&gt;
    &lt;!--这里使用MP提供的sqlSessionFactory，完成了Spring与MP的整合--&gt;
    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;&gt;
        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
    &lt;/bean&gt;
    &lt;!--扫描mapper接口，依然使用的mybatis原生的扫描器--&gt;
    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;property name=&quot;basePackage&quot; value=&quot;com.it.mapper&quot;/&gt;
    &lt;/bean&gt;
    
&lt;/beans&gt;
</code></pre>
<h1 id="通用CRUD"><a href="#通用CRUD" class="headerlink" title="通用CRUD"></a>通用CRUD</h1><h2 id="1-插入操作"><a href="#1-插入操作" class="headerlink" title="1.插入操作"></a>1.插入操作</h2><pre><code class="java">// 插入一条记录
int insert(T entity);
</code></pre>
<table>
<thead>
<tr>
<th>类型</th>
<th>参数名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>T</td>
<td>entity</td>
<td>实体对象</td>
</tr>
</tbody></table>
<div align="center"><font color="red">自增长的id会回填到对象中</font></div>

<h2 id="2-更新操作"><a href="#2-更新操作" class="headerlink" title="2.更新操作"></a>2.更新操作</h2><pre><code class="java">// 根据 UpdateWrapper 条件，更新记录 需要设置sqlset
boolean update(Wrapper&lt;T&gt; updateWrapper);
// 根据 whereWrapper 条件，更新记录
boolean update(T updateEntity, Wrapper&lt;T&gt; whereWrapper);
// 根据 ID 选择修改
boolean updateById(T entity);
// 根据ID 批量更新
boolean updateBatchById(Collection&lt;T&gt; entityList);
// 根据ID 批量更新
boolean updateBatchById(Collection&lt;T&gt; entityList, int batchSize);
//QueryWrapper条件
QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();
wrapper.eq(&quot;user_name&quot;,&quot;zhangsan&quot;)
</code></pre>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">参数名</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Wrapper<T></T></td>
<td align="center">updateWrapper</td>
<td align="center">实体对象封装操作类 UpdateWrapper</td>
</tr>
<tr>
<td align="center">T</td>
<td align="center">entity</td>
<td align="center">实体对象</td>
</tr>
<tr>
<td align="center">Collection<T></T></td>
<td align="center">entityList</td>
<td align="center">实体对象集合</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center">batchSize</td>
<td align="center">更新批次数量</td>
</tr>
</tbody></table>
<h2 id="3-删除操作"><a href="#3-删除操作" class="headerlink" title="3.删除操作"></a>3.删除操作</h2><pre><code class="java">// 根据 entity 条件，删除记录
int delete(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; wrapper);
// 删除（根据ID 批量删除）
int deleteBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);
// 根据 ID 删除
int deleteById(Serializable id);
// 根据 columnMap 条件，删除记录，多条件之间是and关系
int deleteByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);
</code></pre>
<p>参数说明</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">参数名</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Wrapper<T></T></td>
<td align="center">wrapper</td>
<td align="center">实体对象封装操作类（可以为 null）</td>
</tr>
<tr>
<td align="center">Collection&lt;? extends Serializable&gt;</td>
<td align="center">idList</td>
<td align="center">主键 ID 列表(不能为 null 以及 empty)</td>
</tr>
<tr>
<td align="center">Serializable</td>
<td align="center">id</td>
<td align="center">主键 ID</td>
</tr>
<tr>
<td align="center">Map&lt;String, Object&gt;</td>
<td align="center">columnMap</td>
<td align="center">表字段 map 对象</td>
</tr>
</tbody></table>
<h2 id="4-查询"><a href="#4-查询" class="headerlink" title="4.查询"></a>4.查询</h2><pre><code class="java">// 根据 ID 查询
T selectById(Serializable id);
// 根据 entity 条件，查询一条记录
T selectOne(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 查询（根据ID 批量查询）
List&lt;T&gt; selectBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);
// 根据 entity 条件，查询全部记录
List&lt;T&gt; selectList(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
// 查询（根据 columnMap 条件）
List&lt;T&gt; selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);
// 根据 Wrapper 条件，查询全部记录
List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值
List&lt;Object&gt; selectObjs(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 根据 entity 条件，查询全部记录（并翻页）
IPage&lt;T&gt; selectPage(IPage&lt;T&gt; page, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
// 根据 Wrapper 条件，查询全部记录（并翻页）
IPage&lt;Map&lt;String, Object&gt;&gt; selectMapsPage(IPage&lt;T&gt; page, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
// 根据 Wrapper 条件，查询总记录数
Integer selectCount(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);
</code></pre>
<h4 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h4><table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">参数名</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Serializable</td>
<td align="center">id</td>
<td align="center">主键 ID</td>
</tr>
<tr>
<td align="center">Wrapper<T></T></td>
<td align="center">queryWrapper</td>
<td align="center">实体对象封装操作类（可以为 null）</td>
</tr>
<tr>
<td align="center">Collection&lt;? extends Serializable&gt;</td>
<td align="center">idList</td>
<td align="center">主键 ID 列表(不能为 null 以及 empty)</td>
</tr>
<tr>
<td align="center">Map&lt;String, Object&gt;</td>
<td align="center">columnMap</td>
<td align="center">表字段 map 对象</td>
</tr>
<tr>
<td align="center">IPage<T></T></td>
<td align="center">page</td>
<td align="center">分页查询条件（可以为 RowBounds.DEFAULT）</td>
</tr>
</tbody></table>
<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><h2 id="1-TableField"><a href="#1-TableField" class="headerlink" title="1.@TableField"></a>1.@TableField</h2><p>在MP中通过该注解可以指定字段的一些属性，通常解决两个问题</p>
<ol>
<li>对象中属性名字和字段不一致的问题(非驼峰)</li>
<li>对象中属性字段在表中不存在的问题</li>
</ol>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">必须指定</th>
<th align="left">默认值</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">String</td>
<td align="left">否</td>
<td align="left">“”</td>
<td align="left">数据库字段名</td>
</tr>
<tr>
<td align="left">exist</td>
<td align="left">boolean</td>
<td align="left">否</td>
<td align="left">true</td>
<td align="left">是否为数据库表字段</td>
</tr>
<tr>
<td align="left">select</td>
<td align="left">boolean</td>
<td align="left">否</td>
<td align="left">true</td>
<td align="left">是否进行 select 查询</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/java/spring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/java/spring/" class="post-title-link" itemprop="url">Spring</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-08 21:42:02 / 修改时间：21:43:26" itemprop="dateCreated datePublished" datetime="2022-04-08T21:42:02+08:00">2022-04-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/java/spring/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/java/spring/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><h2 id="1-Spring程序开发步骤"><a href="#1-Spring程序开发步骤" class="headerlink" title="1.Spring程序开发步骤"></a>1.Spring程序开发步骤</h2><ol>
<li>导入Spring开发的基本坐标</li>
<li>编写Dao接口和实现类</li>
<li>创建Spring核心配置文件</li>
<li>在Spring配置文件中配置UserDaoImpl</li>
<li>使用Spring的API获得Bean实例</li>
</ol>
<h2 id="2-Spring配置文件"><a href="#2-Spring配置文件" class="headerlink" title="2.Spring配置文件"></a>2.Spring配置文件</h2><h3 id="2-1-Bean标签基本配置"><a href="#2-1-Bean标签基本配置" class="headerlink" title="2.1 Bean标签基本配置"></a>2.1 Bean标签基本配置</h3><p>用于配置对象交由Spring来创建。<br>默认情况下它调用的是类中的无参构造函数，如君殳有无参构造函数则不能创建成功。<br>基本属性：</p>
<ul>
<li>id：Bean实例在Spring容器中的唯一表示</li>
<li>class：Bean的全限定名称</li>
</ul>
<h3 id="2-2-Bean标签的范围配置"><a href="#2-2-Bean标签的范围配置" class="headerlink" title="2.2 Bean标签的范围配置"></a>2.2 Bean标签的范围配置</h3><ul>
<li><p>scope:指对象的作用范围，取值如下：</p>
<table>
<thead>
<tr>
<th>取值范围</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td>singleton</td>
<td align="left">默认值，单例的</td>
</tr>
<tr>
<td>prototype</td>
<td align="left">多例的</td>
</tr>
<tr>
<td>request</td>
<td align="left">WEB项目中，Spring创建一个Bean对象，将对象存入到requet域中</td>
</tr>
<tr>
<td>session</td>
<td align="left">WEB项目中，Spring创建一个Bean的对象，将对象存在session中</td>
</tr>
<tr>
<td>global session</td>
<td align="left">WEB项目中，应用在Portlet环境，如果没有Portlet环境那么globalSession相当于session</td>
</tr>
</tbody></table>
<ol>
<li>当scope的取值为singleton时<ul>
<li>Bean的实例化个数：1</li>
<li>Bean的实例化时机’当pring核心文件被加载时，实例化配置的Bean实例</li>
<li>Bean的生命周期．<ul>
<li>对象创建：当应用加载，创建容器时，对象就被健了</li>
<li>对象运行：只要容器在对象一直活着</li>
<li>对象销毁：当应用卸载，销毁容器时，对象就被销毁了</li>
</ul>
</li>
</ul>
</li>
<li>当scope的取值为prototype时<ul>
<li>Bean的实例化个数：多个</li>
<li>Bean的实例化时机：当调用getBean0方法时实例化Bean实例<ul>
<li>对象创建：当使用对象时，创健新的对象实例</li>
<li>对象运行：只要对象在使用中，就一直活看</li>
<li>对象销毁：当对象长时间不用时，被Java的垃圾回收器回收了</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="2-3-Bean生命周期配置"><a href="#2-3-Bean生命周期配置" class="headerlink" title="2.3 Bean生命周期配置"></a>2.3 Bean生命周期配置</h3><ul>
<li>init-method:指定类中的初始化方法名称</li>
<li>destory-method:指定类中的销毁方法名称</li>
</ul>
<h3 id="2-4-Bean实例化的三种方式"><a href="#2-4-Bean实例化的三种方式" class="headerlink" title="2.4 Bean实例化的三种方式"></a>2.4 Bean实例化的三种方式</h3><ul>
<li>无参构造方法实例化</li>
<li>工厂静态方法实例化</li>
<li>工厂实例方法实例化</li>
</ul>
<h3 id="2-5-Bean的依赖注入"><a href="#2-5-Bean的依赖注入" class="headerlink" title="2.5 Bean的依赖注入"></a>2.5 Bean的依赖注入</h3><p>依赖注入(Dependencylnjection)：它是Spring框架核心IOC的具体实现。</p>
<p>在编写程序时，通过控制反转，把对像的创健交给了Spring,但是代码中不可能出殳有依赖青况。<br>IOC解耦只是降低他们人关系，但不会消除。例如：业务层仍会调用持久层的方法。</p>
<p>那这种业务层和持久层的依赖关系，在使用Spring之后，就让Spring来维护了。<br>简单的说，就是坐等框架吧持久层对象传入业务层，而不用我们自己去获取。</p>
<p>注入方式</p>
<ol>
<li><p>构造方法</p>
</li>
<li><p>set方法</p>
<p>P命名空间注入本质也是set方法注入，但比起上述的set方法注入更加方便，主要体现在配首文件中，如下：<br>首先，需要引入P命名空间：</p>
<p><code>xmls:p=&quot;http://www.springframework.org/schema/p&quot;</code></p>
<p>其次，需要修改注入方式</p>
<pre><code class="xml">&lt;bean id=&quot;userServce&quot; class=&quot;com.it.service.impl.UserServiceImpl&quot; p:userDao-ref=&quot;userDao&quot;/&gt;
</code></pre>
</li>
</ol>
<h3 id="2-3Bean的依赖注入的数据类型"><a href="#2-3Bean的依赖注入的数据类型" class="headerlink" title="2.3Bean的依赖注入的数据类型"></a>2.3Bean的依赖注入的数据类型</h3><ul>
<li>普通数据类型</li>
<li>引用数据类型</li>
<li>集合数据类型</li>
</ul>
<h3 id="2-4引入其他配置文件‘"><a href="#2-4引入其他配置文件‘" class="headerlink" title="2.4引入其他配置文件‘"></a>2.4引入其他配置文件‘</h3><p>实际开发中，Spring的配置内容非常多，这就导致Spring配置很繁杂且体积很大，所以，可以将部分配首拆解到其他<br>配置文件中，而在Spring主配首文件涌过import标签进行加载</p>
<p><code>import resource=&quot;applicationContext-xxx.xml&quot;</code></p>
<h3 id="2-5-Spring相关API"><a href="#2-5-Spring相关API" class="headerlink" title="2.5 Spring相关API"></a>2.5 Spring相关API</h3><h4 id="2-5-1-AppIicationContext的实现类"><a href="#2-5-1-AppIicationContext的实现类" class="headerlink" title="2.5.1 AppIicationContext的实现类"></a>2.5.1 AppIicationContext的实现类</h4><ol>
<li>ClassPathXmlApplicationContext<ul>
<li>它是类的根路径下加载配首文件推荐使用这种</li>
</ul>
</li>
<li>FiIeSystemXmIApplicationContext<ul>
<li>它是从磁盘路径上加载配置文件，配置文件可以在磁盘的任意位置</li>
</ul>
</li>
<li>Ann0tationConfigApplicationContext<ul>
<li>当使用注解配置容器对象时，需要便用此类来创建spring容器。它用来读取注解</li>
</ul>
</li>
</ol>
<h4 id="2-5-2-getBean-方法使用"><a href="#2-5-2-getBean-方法使用" class="headerlink" title="2.5.2 getBean()方法使用"></a>2.5.2 getBean()方法使用</h4><pre><code class="java">public Object getBean(String name) throws BeansException&#123;
    assertBeanFactoryActive();
    return getBeanFactory().getBean(name);
&#125;

public &lt;T&gt;T getBean(class&lt;T&gt; requiredType) throws BeanException&#123;
    assertBeanFactoryActive();
    return getBeanFactory().getBean(requiredType);
&#125;
</code></pre>
</li>
</ul>
<h1 id="Spring配置数据源"><a href="#Spring配置数据源" class="headerlink" title="Spring配置数据源"></a>Spring配置数据源</h1><h2 id="1-数据源（连接池）的作用"><a href="#1-数据源（连接池）的作用" class="headerlink" title="1.数据源（连接池）的作用"></a>1.数据源（连接池）的作用</h2><ol>
<li>数据源（连接池）是提高程序性能如出现的</li>
<li>事先实例化数据源，初始化部分连接资源</li>
<li>使用连接资源时从数居原中获取</li>
<li>使用完毕后将连接资源归还给数据源</li>
</ol>
<p>==常见的数据源（连接池）：DBCP、C3PO、BoneCP、Druid等==</p>
<h2 id="2-开发步骤"><a href="#2-开发步骤" class="headerlink" title="2. 开发步骤"></a>2. 开发步骤</h2><ol>
<li>导入数据源的坐标和数据库驱动坐标</li>
<li>创建数据源对</li>
<li>设置数据源的基本连接据</li>
<li>使用数据源获取连接资源和归还连接资源</li>
</ol>
<pre><code class="java">import com.alibaba.druid.pool.DruidDataSource;
import com.mchange.v2.c3p0.ComboPooledDataSource;
import lombok.Cleanup;
import org.junit.Test;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.ResourceBundle;


public class DataSourceTest &#123;
    @Test
    //手动创建c3p0数据源
    public void test1() throws Exception &#123;
        ComboPooledDataSource dataSource = new ComboPooledDataSource();
        dataSource.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/mybatis&quot;);
        dataSource.setUser(&quot;root&quot;);
        dataSource.setPassword(&quot;123456&quot;);
        @Cleanup Connection connection = dataSource.getConnection();
        System.out.println(connection);
    &#125;
    @Test
    //手动创建druid数据源
    public void test2() throws Exception &#123;
        DruidDataSource dataSource = new DruidDataSource();
        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/mybatis&quot;);
        dataSource.setUsername(&quot;root&quot;);
        dataSource.setPassword(&quot;123456&quot;);
        @Cleanup Connection connection = dataSource.getConnection();
        System.out.println(connection);
    &#125;
    @Test
    //手动创建c3p0数据源(加载properties配置文件）
    public void test3() throws Exception &#123;
        //读取配置文件
        ResourceBundle rb = ResourceBundle.getBundle(&quot;jdbc&quot;);
        String url = rb.getString(&quot;jdbc.url&quot;);
        String username = rb.getString(&quot;jdbc.username&quot;);
        String password = rb.getString(&quot;jdbc.password&quot;);
        ComboPooledDataSource dataSource = new ComboPooledDataSource();
        dataSource.setJdbcUrl(url);
        dataSource.setUser(username);
        dataSource.setPassword(password);
        @Cleanup Connection connection = dataSource.getConnection();
        System.out.println(connection);

    &#125;
&#125;
</code></pre>
<h3 id="3-Spring配置数据源"><a href="#3-Spring配置数据源" class="headerlink" title="3. Spring配置数据源"></a>3. Spring配置数据源</h3><p>可以将DataSource的创建杈交由Spring容器去完成</p>
<pre><code class="xml">    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis&quot;/&gt;
        &lt;property name=&quot;user&quot; value=&quot;root&quot;/&gt;
        &lt;property name=&quot;password&quot; value=&quot;123456&quot;/&gt;
    &lt;/bean&gt;
</code></pre>
<pre><code class="java">    @Test
    //测试Spring容器产生数据源对象
    public void test4() throws SQLException &#123;
        ApplicationContext app = new ClassPathXmlApplicationContext(&quot;applicationContext-jdbc.xml&quot;);
        DataSource dataSource = app.getBean(DataSource.class);
        @Cleanup Connection connection = dataSource.getConnection();
        System.out.println(connection);
    &#125;
</code></pre>
<p>applicationContextxmI加#jdbc.properties配置文件获得连接信息。</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;
    &lt;!--加载外部的properties文件--&gt;
    &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;
    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
        &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
        &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
        &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</code></pre>
<h1 id="Spring注解开发"><a href="#Spring注解开发" class="headerlink" title="Spring注解开发"></a>Spring注解开发</h1><p>Spring是轻代码而重配首的框架，配首比较繁重，影响开发效率，所以注解开发是一种趋势，汪解代替xml配置<br>文件可以简化配置，提高开发效率。</p>
<h2 id="1-spring原始注解"><a href="#1-spring原始注解" class="headerlink" title="1. spring原始注解"></a>1. spring原始注解</h2><p>Spring原始汪解主要是替代<Bean>的配置</Bean></p>
<table>
<thead>
<tr>
<th>@Component</th>
<th>使用再类上用于实例化Bean</th>
</tr>
</thead>
<tbody><tr>
<td>@Controller</td>
<td>使用在Web层类上用于实例化Bean</td>
</tr>
<tr>
<td>@Service</td>
<td>使用在Service层类上用于实例化Bean</td>
</tr>
<tr>
<td>@Repository</td>
<td>使用在dao层类上用于实例化Bean</td>
</tr>
<tr>
<td>@Autowired</td>
<td>使用在字段上用于根据类型依赖注入</td>
</tr>
<tr>
<td>@Qualifier</td>
<td>结合@Autowired一起使用用于根据名称进行依赖注入</td>
</tr>
<tr>
<td>@Resource</td>
<td>相当于@Autowired+Qualifier，按照名称进行注入</td>
</tr>
<tr>
<td>@Value</td>
<td>注入普通属性</td>
</tr>
<tr>
<td>@Scope</td>
<td>标注Bean的作用范围</td>
</tr>
<tr>
<td>@PostConstruct</td>
<td>使用在方法上标注该方法是Bean的初始化方法</td>
</tr>
<tr>
<td>@PreDestroy</td>
<td>使用在方法上标注该方法是Bean的销毁方法</td>
</tr>
</tbody></table>
<p><font size="4.5" color="green">使用注解进行开发时，需中配置组件扫描，作用是指定哪个包及其子包下的Bean需要进行扫描以便识别使用注解配置的类、字段和方法。</font></p>
<pre><code class="xml">&lt;context:component-scan base-package=&quot;com.it&quot;&gt;&lt;/context:component-scan&gt;
</code></pre>
<h2 id="2-spring新注解"><a href="#2-spring新注解" class="headerlink" title="2.spring新注解"></a>2.spring新注解</h2><table>
<thead>
<tr>
<th>注解</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>@Configuration</td>
<td>用于指定当前类是一个Spring配置类，当创建容器时会从该类上加载注解</td>
</tr>
<tr>
<td>@ComponentScan</td>
<td>用于指定Spring在初始容器中要扫描的包<br>作用和在Spring的xml文件中的<br>&lt;context:component-scan base-package=“com.it”/&gt;一样</td>
</tr>
<tr>
<td>@Bean</td>
<td>使用在方法上，标志该方法的返回值存储到Spring容器中</td>
</tr>
<tr>
<td>@PropertySource</td>
<td>用于加载property文件中的配置</td>
</tr>
<tr>
<td>@Import</td>
<td>用于导入其他配置类</td>
</tr>
</tbody></table>
<h2 id="3-Spring集成Junit"><a href="#3-Spring集成Junit" class="headerlink" title="3. Spring集成Junit"></a>3. Spring集成Junit</h2><ul>
<li>让SpringJunit负责创建Spring容器，但是需要将配首文件的名称告诉它</li>
<li>将需要进行测试Bean直接在则试类中进行注入</li>
</ul>
<ol>
<li>导入spring集成Junit的坐标</li>
<li>使用@Runwith注解替换原来的运行期</li>
<li>使用@contextConfiguration指定配置文件或配置类．</li>
<li>使用@Autowwired注入需要测试的对象</li>
<li>创建测试方法进行测试</li>
</ol>
<pre><code class="java">import com.it.config.SpringConfiguration;
import com.it.service.Service;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import javax.sql.DataSource;
import java.sql.SQLException;

@RunWith(SpringJUnit4ClassRunner.class)
//@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)
@ContextConfiguration(classes = &#123;SpringConfiguration.class&#125;)
public class SpringJunitTest &#123;
    @Autowired
    private Service service;
    @Autowired
    private DataSource dataSource;
    @Test
    public void test1() throws SQLException &#123;
        System.out.println(dataSource.getConnection());
    &#125;
&#125;
</code></pre>
<h1 id="Spring集成Web环境"><a href="#Spring集成Web环境" class="headerlink" title="Spring集成Web环境"></a>Spring集成Web环境</h1><h2 id="1-Spring提供获取应用上下文的工具"><a href="#1-Spring提供获取应用上下文的工具" class="headerlink" title="1.Spring提供获取应用上下文的工具"></a>1.Spring提供获取应用上下文的工具</h2><p>SpringiR供了一个监听器ContextLoaderListener就是对上述功能的封装，该监听器内部加载Spring配置文件，创建应用上下文对象，并存储到ServletContext域中，提供了一个客户端工具WebAppIicationContextUtiIs供使用者获得应用上下文对象。</p>
<p>所以我们需要做的只有两件事：</p>
<ol>
<li>在web.xml中配置ContextLoaderListener监听器（导入spring-web坐标）</li>
<li>使用WebApplicationContextUtiIs获得应用上下文对象AppIicationContext</li>
</ol>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;
         version=&quot;4.0&quot;&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;listener&gt;
        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
    &lt;/listener&gt;
&lt;/web-app&gt;
</code></pre>
<pre><code class="java">    protected void doGet(HttpServletRequest request, HttpServletResponse response) &#123;
        ServletContext context = this.getServletContext();
        ApplicationContext app = WebApplicationContextUtils.getWebApplicationContext(context);
        Service appBean = app.getBean(Service.class);
        appBean.save();
    &#125;
</code></pre>
<h2 id="2-SpringMVC简介"><a href="#2-SpringMVC简介" class="headerlink" title="2. SpringMVC简介"></a>2. SpringMVC简介</h2><ul>
<li>概述<ul>
<li>SpringMVC是一种基于Java的实现MVC设计模型的请求驱动类型的轻量级Web框架，属于<br>SpringFrameWork的后续产品，已经融合在SpringWeb Flow中。</li>
<li>SpringMVC已经成为目前最主流的MVC框架之一一，并且随着Spring3.0的发布，全面超越Struts2,成为最优<br>秀的MVC框架。它通过一套注解，让一个简单的Java类成为处理请求制器，而无需实现任何接口。同时<br>它还支持RESTfuI编程风格的请求。</li>
</ul>
</li>
</ul>
<h2 id="3-步骤"><a href="#3-步骤" class="headerlink" title="3.步骤"></a>3.步骤</h2><ol>
<li>导入springMVC相关坐标</li>
<li>配MSpringMVC核心控制器DispathcerServlet</li>
<li>创建Controller类和视图页面</li>
<li>使用注解配置Controll类中业务方法的映射地址</li>
<li>配MSpringMVC核心文件spring-mvc.xml</li>
<li>客户端发起清求测试</li>
</ol>
<h2 id="4-执行流程"><a href="#4-执行流程" class="headerlink" title="4.执行流程"></a>4.执行流程</h2><ol>
<li><p>用户发送请求至前端控制器DispatcherServlet0</p>
</li>
<li><p>DispatcherServIet收到请求调XHandIerMapping处器映射器</p>
</li>
<li><p>处理器映射器找到具体的处理器（可以根据xml配置、注解进行查找),生成处理器对及处理器拦截器如果</p>
<p>有则生成）一并返回给DispatcherServlet0</p>
</li>
<li><p>DispatcherServlet调XHandIerAdapter处理器适配器</p>
</li>
<li><p>HandlerAdapter经过适配调用具体的处理器(Controller,也叫后端控制器)。</p>
</li>
<li><p>Controller执行完成返回ModelAndView.</p>
</li>
<li><p>HandIerAdapter将controller执行结果ModeIAndView返回给DispatcherServIet.</p>
</li>
<li><p>DispatcherServIet将ModelAndView传给ViewReslover视图解析器</p>
</li>
<li><p>ViewReslover解析后返回具体View.</p>
</li>
<li><p>DispatcherServlet根据View进行渲染视图（朗将模型娄墳充至视图中）。DispatcherServlet响应用户。</p>
</li>
</ol>
<h2 id="5-注解解析"><a href="#5-注解解析" class="headerlink" title="5.注解解析"></a>5.注解解析</h2><p>@RquestMapping:请求映射</p>
<ul>
<li>作用：用于建立请求URL和处理清求方法之间的对应关系</li>
<li>位置<ul>
<li>类上，请求URL的第一级访问目录。此处不写的话，就相当于应用日艮目录</li>
<li>方法上，请求URL的第二级访问目录，与类上的使用@ReqquestMapping标注的一级目录一起组成访问虚拟路径</li>
</ul>
</li>
<li>属性<ul>
<li>value:用于指定清求的URL.它和path属性的作用是一样的</li>
<li>method:用于指定请求的方式</li>
<li>params:用于指定限制清求参数的条件。它支持简单的表达式。要求请求参数的key和value必须和配置的一模一样</li>
</ul>
</li>
</ul>
<h2 id="6-SpringMVC-xml配置解析"><a href="#6-SpringMVC-xml配置解析" class="headerlink" title="6.SpringMVC.xml配置解析"></a>6.SpringMVC.xml配置解析</h2><h3 id="6-1视图解析器"><a href="#6-1视图解析器" class="headerlink" title="6.1视图解析器"></a>6.1视图解析器</h3><p>springMVC有默认组件配置，默认组件都是DisapacherServlet.properties,配置文件中配置的，该配置文件地址<br>ozg/springframework/web/ser    v1et/DisapacherServlet.properties,该文件中配置了默认视图解析器，如下．</p>
<pre><code class="xml">org.springframework.web.servlet.ViewResolver=org.springframework.web.servlet.view.InternalResourceViewResolver
</code></pre>
<h2 id="7-SpringMVC数据响应"><a href="#7-SpringMVC数据响应" class="headerlink" title="7.SpringMVC数据响应"></a>7.SpringMVC数据响应</h2><ol>
<li>页面跳转<ul>
<li>直接返回字符串</li>
<li>通过ModelAndView对象返回</li>
</ul>
</li>
<li>回写数据<ul>
<li>直接返回字符串</li>
<li>返回对象或者集合</li>
</ul>
</li>
</ol>
<h3 id="7-1页面跳转"><a href="#7-1页面跳转" class="headerlink" title="7.1页面跳转"></a>7.1页面跳转</h3><ol>
<li>直接返回字符串：此种方式会将返國字符串与视图解析器的前后经并接后啭。</li>
<li>返回ModeIAndView对象</li>
</ol>
<pre><code class="java">import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class UserController &#123;
    @RequestMapping(&quot;/quick&quot;)
    public String save()&#123;
        System.out.println(&quot;Controller save running...&quot;);
        return &quot;success&quot;;
    &#125;
    @RequestMapping(&quot;/quick2&quot;)
    public ModelAndView save2()&#123;
        /*
            Model:模型
            View:视图
         */
        ModelAndView modelAndView = new ModelAndView();
        //设置模型数据
        modelAndView.addObject(&quot;username&quot;,&quot;it&quot;);
        //设置视图名称
        modelAndView.setViewName(&quot;success&quot;);
        return modelAndView;
    &#125;
        public ModelAndView save3(ModelAndView modelAndView)&#123;
        //设置模型数据
        modelAndView.addObject(&quot;username&quot;,&quot;king&quot;);
        //设置视图名称
        modelAndView.setViewName(&quot;success&quot;);
        return modelAndView;
    &#125;
        @RequestMapping(&quot;/quick4&quot;)
    public String save4(Model model)&#123;
        model.addAttribute(&quot;username&quot;,&quot;queen&quot;);
        return &quot;success&quot;;
    &#125;
        @RequestMapping(&quot;/quick5&quot;)
    public String save5(HttpServletRequest request)&#123;
        request.setAttribute(&quot;username&quot;,&quot;千岁&quot;);
        return &quot;success&quot;;
    &#125;
&#125;
</code></pre>
<h3 id="7-2-回写数据"><a href="#7-2-回写数据" class="headerlink" title="7.2 回写数据"></a>7.2 回写数据</h3><ol>
<li>直接返回字符串<ul>
<li>将需要回写的字符串直接返回，但此时需要通过@ResponseBody注解告知SpringMVC框架，方法返回的字符串不是跳转是直接在hp响应体中返回。</li>
</ul>
</li>
</ol>
<pre><code class="java">@RequestMapping(&quot;/quick6&quot;)
public void save6(HttpServletResponse response) throws IOException &#123;
    response.getWriter().print(&quot;hello word&quot;);
&#125;
</code></pre>
<ol start="2">
<li><p>返回对象或集合</p>
<ul>
<li><p>在方法上忝加@ResponseBody就可以返回Json格式字符串，但是这样配置比较麻烦，配置的代码比较多因此，我们可以使用mvc的注解驱动代替上述配置。</p>
<p><code>&lt;mvc:annotation-driven/&gt;</code></p>
</li>
</ul>
</li>
</ol>
<pre><code class="xml">    &lt;!-- 配置处理映射器   --&gt;
    &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;
        &lt;property name=&quot;messageConverters&quot;&gt;
            &lt;list&gt;
                &lt;bean class=&quot;com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter&quot;/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
</code></pre>
<pre><code class="java">    @RequestMapping( &quot;/quick8&quot;)
    @ResponseBody
    public String save8() &#123;
        User user = new User(&quot;lisi&quot;,18);
        return JSON.toJSONString(user);
    &#125;
    @RequestMapping( &quot;/quick9&quot;)
    @ResponseBody
    public User save9() &#123;
        return new User(&quot;lisi&quot;,18);
    &#125;
</code></pre>
<pre><code class="xml">            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
            &lt;version&gt;2.13.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;version&gt;2.13.2.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;
            &lt;version&gt;2.13.2&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<h2 id="8-获得请求数据"><a href="#8-获得请求数据" class="headerlink" title="8.获得请求数据"></a>8.获得请求数据</h2><h3 id="8-1-获得请求参数"><a href="#8-1-获得请求参数" class="headerlink" title="8.1 获得请求参数"></a>8.1 获得请求参数</h3><p>客户端请求参数的格式是：name=value&amp;name=value..<br>服务器端要获得请求的参数，有时还需要进行数据的封装，SpringMVC可以接收以下类型的参数．</p>
<ul>
<li>基本类型数据</li>
<li>POJO类型参数</li>
<li>数组类型参数</li>
<li>集合类型参数</li>
</ul>
<h3 id="8-2获得基本类型参数"><a href="#8-2获得基本类型参数" class="headerlink" title="8.2获得基本类型参数"></a>8.2获得基本类型参数</h3><p>Controller中的业务方法的参数名称要与请求参数如name一致，参数值会自动映射匹配。</p>
<pre><code class="java">    @RequestMapping( &quot;/quick10&quot;)
    @ResponseBody
    public void save10(String username,int age) &#123;
        String s = new String(username.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);
        System.out.println(s);
        System.out.println(age);
    
</code></pre>
<h3 id="8-3-获得POJO类型参数"><a href="#8-3-获得POJO类型参数" class="headerlink" title="8.3 获得POJO类型参数"></a>8.3 获得POJO类型参数</h3><p>Controller中的业务方法的POJO参数的属性名与请求参数的name一致，参数值会自动适配</p>
<pre><code class="java">@RequestMapping( &quot;/quick11&quot;)
@ResponseBody
public void save11(User user) &#123;
    System.out.println(user);
&#125;
</code></pre>
<h3 id="8-4-获得数组参数"><a href="#8-4-获得数组参数" class="headerlink" title="8.4 获得数组参数"></a>8.4 获得数组参数</h3><p>Controller中的业务方法数组名称与请求参数的name一致，参数值会自动匹配。</p>
<h3 id="8-5-获得集合类型参数"><a href="#8-5-获得集合类型参数" class="headerlink" title="8.5 获得集合类型参数"></a>8.5 获得集合类型参数</h3><p>获得集合参数时，要将集合参数包装到一个POJO中才可以。</p>
<p>当使用ajax提交时，可以指定contentType为json形式，那么在方法参数位首使用@RequestBody可以<br>直接接收集合数据而无需使用P劊O进行包装。</p>
<h3 id="8-6请求数据乱码问题"><a href="#8-6请求数据乱码问题" class="headerlink" title="8.6请求数据乱码问题"></a>8.6请求数据乱码问题</h3><pre><code class="xml">&lt;!-- 配置全局过滤的filter   --&gt;
&lt;filter&gt;
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;encoding&lt;/param-name&gt;
        &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</code></pre>
<h3 id="8-7参数绑定注解-RequestParam"><a href="#8-7参数绑定注解-RequestParam" class="headerlink" title="8.7参数绑定注解@RequestParam"></a>8.7参数绑定注解@RequestParam</h3><p>当请求的参数名称与Controller的业务方法参数名称不一致时，就需要通过@RequestParam注解显示的绑定。</p>
<p>注解@RequestParam还有如下参数可以使用</p>
<ul>
<li>value：与请求参数名称</li>
<li>required:此在指定的请求参数是否必须包括，默认是true,提交时如果没有此参数则报错</li>
<li>defaultValue:当没有指定请求参数时，则使用指定的默认值赋值</li>
</ul>
<h3 id="8-8获得Restful风格的参数"><a href="#8-8获得Restful风格的参数" class="headerlink" title="8.8获得Restful风格的参数"></a>8.8获得Restful风格的参数</h3><p>Resful是一种软件架构风格、设计风格，而不是标准，只是供了一组设计原则和约束条件。主要用于客户揣和服务<br>器交互类的软件，基于汶个风格设计的软件可以更简洁，更有层次，更易于实现缓存机锩。</p>
<p>Restful风格的请求是使用“url+请求方式’表示一次请求目的的，HTTP协议里面四个表示操作方式的动词如下：</p>
<ul>
<li>GET:用于获取资源</li>
<li>POST:用于新建资源</li>
<li>PUT:用于更新资源</li>
<li>DELETE:用于删除资源</li>
</ul>
<h3 id="8-9自定义类型转换器"><a href="#8-9自定义类型转换器" class="headerlink" title="8.9自定义类型转换器"></a>8.9自定义类型转换器</h3><ul>
<li><p>SpringMVC默认已经提供了一些常用的类型转换器，例如客户端提交的字符转换成int型进行参数设首。</p>
</li>
<li><p>但是不是所有的数据类型都提供了转换器，没有提共的就需要自定义转换器，例如：日期类型的数据就需要自<br>定义转换器。</p>
</li>
<li><p>步骤</p>
</li>
<li><ol>
<li>自定义转换器类实现Converter接口</li>
<li>在配置文件中声明转换器</li>
<li>在<annotation-driven>中引用转换器</annotation-driven></li>
</ol>
<pre><code class="java">import org.springframework.core.convert.converter.Converter;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
public class DateConverter implements Converter&lt;String, Date&gt; &#123;

    @Override
    public Date convert(String source) &#123;
        //将日期字符串转换成真正的日期对象进行返回
        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
        Date date = null;
        try &#123;
            date = format.parse(source);
        &#125; catch (ParseException e) &#123;
            e.printStackTrace();
        &#125;
        return date;
    &#125;
&#125;
</code></pre>
</li>
</ul>
<pre><code class="xml">&lt;!-- mvc注解驱动   --&gt;
&lt;mvc:annotation-driven conversion-service=&quot;conversionService2&quot;/&gt;
&lt;!--  声明转换器  --&gt;
&lt;bean id=&quot;conversionService2&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;
    &lt;property name=&quot;converters&quot;&gt;
        &lt;list&gt;
            &lt;bean class=&quot;com.it.converter.DateConverter&quot;/&gt;
        &lt;/list&gt;
    &lt;/property&gt;
&lt;/bean&gt;
</code></pre>
<h3 id="8-10-获得Servlet相关API"><a href="#8-10-获得Servlet相关API" class="headerlink" title="8.10 获得Servlet相关API"></a>8.10 获得Servlet相关API</h3><p>SpringMVC支持使用原始ServletAPI对象作为控制器的参数进行注入，常用的对象如下．</p>
<ul>
<li>HttpServIetRequest</li>
<li>HttpServIetResponse</li>
<li>HttpSession</li>
</ul>
<h3 id="8-11-获得请求头"><a href="#8-11-获得请求头" class="headerlink" title="8.11 获得请求头"></a>8.11 获得请求头</h3><ol>
<li>@RequestHeader<ul>
<li>使用@RequestHeader可以获得请求头信息，相当于web阶段学习的request.getHeader(name)<br>@RequestHeader注解的属性如下<ul>
<li>value:请求头的名称</li>
<li>required:是否必须带此请求头</li>
</ul>
</li>
</ul>
</li>
<li>@CookieVaIue<br>使用@CookieValue可以获得指定Cookie的值<br>@CookieValue注解的属性如下<ul>
<li>value:指定Cookie的名称</li>
<li>required:是否必须带此cookie</li>
</ul>
</li>
</ol>
<pre><code class="java">@RequestMapping( &quot;/quick13&quot;)
@ResponseBody
public void save13(@RequestHeader(value = &quot;User-Agent&quot;,required = false)String userAgent) &#123;
    System.out.println(userAgent);
&#125;
    @RequestMapping( &quot;/quick14&quot;)
    @ResponseBody
    public void save14(@CookieValue(value = &quot;Idea-8296eb32&quot;,required = false)String cookie) &#123;
        System.out.println(cookie);
    &#125;
</code></pre>
<h3 id="8-12文件上传"><a href="#8-12文件上传" class="headerlink" title="8.12文件上传"></a>8.12文件上传</h3><ul>
<li>文件上传客户端三要素<ol>
<li>表单项type=”file”</li>
<li>表单的提交方式是post</li>
<li>表单的enctype属性是多部分表单形式，及enctype=”multipaft/form-data</li>
</ol>
</li>
</ul>
<h4 id="8-12-1单文件上传步骤"><a href="#8-12-1单文件上传步骤" class="headerlink" title="8.12.1单文件上传步骤"></a>8.12.1单文件上传步骤</h4><ol>
<li><p>导入fileupload和i0坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;
    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;
    &lt;version&gt;1.4&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;commons-io&lt;/groupId&gt;
    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
    &lt;version&gt;20030203.000550&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>配置文件上传解析器</p>
<pre><code class="xml">&lt;!--配置文件上传解析器 --&gt;
&lt;bean id=&quot;commonsMultipartResolver&quot;
      class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;
    &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;
    &lt;property name=&quot;maxInMemorySize&quot; value=&quot;500000&quot;/&gt;
&lt;/bean&gt;
</code></pre>
</li>
<li><p>编写文件上传代码</p>
<pre><code class="java">@RequestMapping( &quot;/quick15&quot;)
@ResponseBody
public void save15(String username, MultipartFile upload) &#123;
    System.out.println(username);
    System.out.println(upload);
&#125;
</code></pre>
</li>
</ol>
<h4 id="8-12-2多文件上传"><a href="#8-12-2多文件上传" class="headerlink" title="8.12.2多文件上传"></a>8.12.2多文件上传</h4><p>名字相同用多参数接，名称一样用数组接</p>
<h1 id="SpringJdbcTempIate基本使用"><a href="#SpringJdbcTempIate基本使用" class="headerlink" title="SpringJdbcTempIate基本使用"></a>SpringJdbcTempIate基本使用</h1><h2 id="1-JdbcTempIate概述"><a href="#1-JdbcTempIate概述" class="headerlink" title="1.JdbcTempIate概述"></a>1.JdbcTempIate概述</h2><p>它是spring框架啊是供的一个对象，是对原始繁琐的JdbcAPl对的简单封装。spring框架为我们超共了很多的操作模板类。例如：操作关系型数据划居的JdbcTemplate和lGbernateTemplate,操作nosql数据库的RedisTempIate,操作消息队列的JmsTempte等等。</p>
<h1 id="SpringMVC拦截器"><a href="#SpringMVC拦截器" class="headerlink" title="SpringMVC拦截器"></a>SpringMVC拦截器</h1><h2 id="1-作用"><a href="#1-作用" class="headerlink" title="1. 作用"></a>1. 作用</h2><p>SpringMVC的拦截器类似于Servlet开发中的过滤器Filter,用于对处理器进行预处理和后处理。</p>
<p>将拦截器按一定的顺序联结成一条链，这条链称为拦截器链0nterceptorChain）。在访问被拦截的方法或字段时，拦截器链中的拦截器就会按其之前定义顺序被调用。拦截器也是AOP思想的具体实现。</p>
<h2 id="2-拦截器和过滤器的区别"><a href="#2-拦截器和过滤器的区别" class="headerlink" title="2.拦截器和过滤器的区别"></a>2.拦截器和过滤器的区别</h2><table>
<thead>
<tr>
<th>区别</th>
<th>过滤器</th>
<th>拦截器</th>
</tr>
</thead>
<tbody><tr>
<td>使用范围</td>
<td>是servlet规范中的一部分，任何<br>JavaWeb工程都可以使用</td>
<td>是SpringMVC框架自己的，只有使用了<br>SpringMVC框架的工程才能用</td>
</tr>
<tr>
<td>拦截范围</td>
<td>在url-pattern中配置了／*之后，可<br>以对所有要访问的资源拦截</td>
<td>在&lt;mvc:mappingpath=&lt;”/&gt;中配置了/**之<br>后，也可以多所有资源进行拦截，但是可以通<br>过&lt;mvc:exclude-mappingpath=<br>”/&gt;标签<br>排除不需要拦截的资源</td>
</tr>
</tbody></table>
<h2 id="3-入门"><a href="#3-入门" class="headerlink" title="3.入门"></a>3.入门</h2><p>自定义拦截器很简单，只有如下三步：</p>
<ol>
<li>创建拦截器类实现Handlerlnterceptor接口</li>
<li>配置拦截器</li>
<li>测试拦截器的拦截效果</li>
</ol>
<pre><code class="java">import org.springframework.web.servlet.HandlerInterceptor;
import org.springframework.web.servlet.ModelAndView;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class MYInterceptor1 implements HandlerInterceptor &#123;
    //目标方法执行之前执行
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;
        System.out.println(&quot;preHandle...&quot;);
        return true;
    &#125;

    //目标方法执行之后，视图对象返回之前
    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123;
        System.out.println(&quot;postHandle...&quot;);
    &#125;

    //目标方法执行完毕之后执行
    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123;
        System.out.println(&quot;afterCompletion。。。&quot;);
    &#125;
&#125;
</code></pre>
<p>配置拦截器</p>
<pre><code class="xml">&lt;!--配置拦截器--&gt;
&lt;mvc:interceptors&gt;
    &lt;mvc:interceptor&gt;
        &lt;!--对哪些资源进行拦截--&gt;
        &lt;mvc:mapping path=&quot;/**&quot;/&gt;
        &lt;bean class=&quot;com.it.interceptor.MYInterceptor1&quot;/&gt;
    &lt;/mvc:interceptor&gt;
&lt;/mvc:interceptors&gt;
</code></pre>
<p>==多个拦截器，先过去的后执行==</p>
<h2 id="4-拦截器方法说明"><a href="#4-拦截器方法说明" class="headerlink" title="4.拦截器方法说明"></a>4.拦截器方法说明</h2><table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>preHandle()</td>
<td>方法将在清求处理之前进行调用，该方法的返回值是布尔Boolean类型的，<br>当它返回为false时，表示清求结束后续的lnterceptor和Controller都不会<br>再执行：当返回值为true时就会继续调用下一个lnterceptor的preHandle方法</td>
</tr>
<tr>
<td>postHandle()</td>
<td>该方法是在当前清求进行处理之后被调用，前提是preHandle方法的返回值为true时才能被调用，且它会在DispatcherServlet进行视图返回渲染之前被调用，所以我们可以在这个方法中对Controoller处理之后的ModelAndView对象进行操作</td>
</tr>
<tr>
<td>afterCompletion()</td>
<td>在最后操作</td>
</tr>
</tbody></table>
<h1 id="SpringMVC处理异常"><a href="#SpringMVC处理异常" class="headerlink" title="SpringMVC处理异常"></a>SpringMVC处理异常</h1><h2 id="1-思路"><a href="#1-思路" class="headerlink" title="1.思路"></a>1.思路</h2><p>系统中异常包括两类：预期和运行时RuntimeException，前者通i甫获异常从取异常信息，后<br>者主要通过规范代码开发、测试等手段减少运行时异常的发生。</p>
<p>系统的Dao、Service、Contro11er出现都通过throws Exception向上抛出，最后由SpringMVC前寸器空制器交<br>由异常处理器进行异常处理，如下图：</p>
<h2 id="2-异常处理方式"><a href="#2-异常处理方式" class="headerlink" title="2.异常处理方式"></a>2.异常处理方式</h2><ol>
<li><p>使用SpringMVC提供的简单异常处理器SimpleMappingExceptionResoIver</p>
<pre><code class="xml">&lt;!--配置简单映射异常处理器--&gt;
&lt;bean
    class=&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;&gt;
    &lt;property name=&quot;defaultErrorView/*默认异常视图*/&quot; value=&quot;error&quot;/&gt;
    &lt;property name=&quot;exceptionMappings&quot;&gt;
        &lt;map&gt;
            &lt;entry key=&quot;异常名称&quot; value=&quot;跳转视图&quot;/&gt;
        &lt;/map&gt;
    &lt;/property&gt;
&lt;/bean&gt;
</code></pre>
</li>
<li><p>实现Spring的异常处理接口HandlerExceptionResolver自定义自己的异常处理器</p>
<ol>
<li>创建异常处理器类实现HandIerExceptionResolver</li>
<li>配置异常处理器</li>
<li>编写异常页面</li>
</ol>
<pre><code class="java">import org.springframework.web.servlet.HandlerExceptionResolver;
import org.springframework.web.servlet.ModelAndView;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class MyExceptionResolver implements HandlerExceptionResolver &#123;
    /**
     * @param e 异常对象
     * @return 跳转的错误视图信息
     */
    public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception e) &#123;
        ModelAndView modelAndView = new ModelAndView();
        if (e instanceof ClassCastException)&#123;
            modelAndView.addObject(&quot;info&quot;,&quot;类转换异常&quot;);
            return modelAndView;
        &#125;
        modelAndView.addObject(&quot;info&quot;,&quot;默认异常&quot;);
        return modelAndView;
    &#125;
</code></pre>
<pre><code class="xml">&lt;!--自定义异常--&gt;
&lt;bean class=&quot;com.it.resolver.MyExceptionResolver&quot;/&gt;
</code></pre>
</li>
</ol>
<h1 id="SpringAOP"><a href="#SpringAOP" class="headerlink" title="SpringAOP"></a>SpringAOP</h1><p>AOP为AspectOrientedProgramming的缩写，溉思为面向切面编程，是通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。</p>
<p>AOP是OOP的延续，是软件开发中的一个热点，也是Spring框架中的一个重要内容，是函数就编程的一种衍生范型。利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间耦合度低，提哥程序的可重用性，同时提高了开发的效率。</p>
<h2 id="1-作用及优势"><a href="#1-作用及优势" class="headerlink" title="1.作用及优势"></a>1.作用及优势</h2><ul>
<li>作用：在程序运行期间，在不修改源码的情况下下对方法进行功能增强</li>
<li>优势：减少重复代码，提高开发效率，并且便于维护</li>
</ul>
<h2 id="2-底层实现"><a href="#2-底层实现" class="headerlink" title="2.底层实现"></a>2.底层实现</h2><p>实际上，AOP的底层是通过Spring提供的的动态代理技术实现的。运行期间，Spring通过动态代理技术动态的生成代理对象，代寸象方法执行时进行增强功能的介入，在去调用目寸象的方法，从而完成功能的增强。</p>
<p>常用动态代理技术</p>
<ul>
<li>JDK代理：基于接口的动态代理技术</li>
<li>cglib代理：基于父类的动态代理技术</li>
</ul>
<h2 id="3-相关概念"><a href="#3-相关概念" class="headerlink" title="3.相关概念"></a>3.相关概念</h2><p>Spring的AOP实现底层就是对上面的动态代理的代码进行了封装，封装后我们只需要对需要关注的部分进行代码编写，并通过配置的方式完成指定目标的方法增强。<br>在正式讲解AOP的操作之前，我们须i.彗旱AOP的相关术浯，常用的术语如下：</p>
<ul>
<li>Target（目标对象）代理的目标对象</li>
<li>Proxy（代理）：一个类被AOP织入增强后，就产生一个结果代理类</li>
<li>Joinpoint（连接点）：所渭连接点是指那些被拦截到的点。在spring中，这些点指的是方法，因为spring只支持方法类型的连接点</li>
<li>Pointcut（切入点）：所i胃切入“点是指我们要对哪些Joinpoint进行拦截的定义</li>
<li>Advice（通知/增强）所渭通知是指拦截到Joinpoint之后所要做的事情就是通知</li>
<li>Aspect（切面）：是切入点和通知（引介）的结合</li>
<li>Weaving（织入）是指把增强应用到目标对象来创健新的代理对象亘的过程。spring采用动态代理织入，而<br>AspectJ采用编译期织入和类装载期织入</li>
</ul>
<h2 id="4-开发明确事项"><a href="#4-开发明确事项" class="headerlink" title="4.开发明确事项"></a>4.开发明确事项</h2><ol>
<li><p>需要编写的内容</p>
<ul>
<li>核心业务代码（目标类的目标方法）</li>
<li>切面类，切面类中有通知（增强功能方法）</li>
<li>在配置文件中，配置织入关系，即将哪些通知与哪些连接点进行结合</li>
</ul>
</li>
<li><p>AOP技术实现的内容</p>
<p>Spring框架监控切入点方法的执行。一旦监控到切入点方法运行，使用代理机制，动态创健目标对象的代理对象，根据通知类别，在代理对的对应位置，将日对应的功能织入，完成完整代码逻运行。</p>
</li>
<li><p>AOP底层使用哪种代理方式</p>
<p>在spring中，框架会根据目标类是否实现了接口来决定采用哪种动态代理方式。</p>
</li>
</ol>
<p>总结</p>
<ul>
<li>aop:面向切面编程</li>
<li>aop底层实现：基于JDK的态代理和基于CgIib的动态代理</li>
<li>aop的重点概念：<ul>
<li>Pointcut（切入点）被增强的方法</li>
<li>Advice（通知/增强）：封装增强业务逻辑的方法</li>
<li>Aspect（切面）：切点+涌知</li>
<li>Weaving（织入）：将切点与i砌结合的过程</li>
</ul>
</li>
<li>开发明确事项<ul>
<li>谁是切点（切点表达式配置）</li>
<li>谁是通知（切面类中增强方法）</li>
<li>将切点和通知进行织入配置</li>
</ul>
</li>
</ul>
<h2 id="5-基于xml的AOP开发"><a href="#5-基于xml的AOP开发" class="headerlink" title="5.基于xml的AOP开发"></a>5.基于xml的AOP开发</h2><h3 id="5-1-入门"><a href="#5-1-入门" class="headerlink" title="5.1 入门"></a>5.1 入门</h3><ol>
<li><p>导入AOP相关坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
    &lt;version&gt;1.9.9&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>创建目标接口和目标类（内部有切点）</p>
</li>
<li><p>创建切面类（内部有增强方法）</p>
</li>
<li><p>将目标类和切面类的对象创建权交给Spring</p>
</li>
<li><p>在applicationContext.xml中配置织入关系</p>
<pre><code class="xml">&lt;!--目标对象--&gt;
&lt;bean id=&quot;target&quot; class=&quot;com.it.aop.Target&quot;/&gt;
&lt;!--切面对象--&gt;
&lt;bean id=&quot;myAspect&quot; class=&quot;com.it.aop.MyAspect&quot;/&gt;
&lt;!--配置织入：告诉spring哪些方法&lt;切点&gt;需要进行哪些增强&lt;前置、后置...&gt;--&gt;
&lt;aop:config&gt;
    &lt;!--声明切面--&gt;
    &lt;aop:aspect ref=&quot;myAspect&quot;&gt;
        &lt;!--切面：切点+通知--&gt;
        &lt;aop:before method=&quot;before&quot; pointcut=&quot;execution(public void com.it.aop.Target.save())&quot;/&gt;
    &lt;/aop:aspect&gt;
&lt;/aop:config&gt;
</code></pre>
</li>
<li><p>测试代码</p>
<pre><code class="xml">import com.it.aop.TargetImpl;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)
public class AopTest &#123;
    @Autowired
    private TargetImpl target;
    @Test
    public void test()&#123;
        target.save();
    &#125;
&#125;
</code></pre>
</li>
</ol>
<h3 id="5-2xml配置AOP"><a href="#5-2xml配置AOP" class="headerlink" title="5.2xml配置AOP"></a>5.2xml配置AOP</h3><ol>
<li><p>切点表达式写法</p>
<ul>
<li><p>表达式语法</p>
<pre><code class="xml">execution([修饰符]返回值类型 包名.类名.方法名(参数))
</code></pre>
</li>
<li><p>访问修饰符可以省略</p>
</li>
<li><p>返回值类型、包名、类名、方法名可以用星号(*)代表任意</p>
</li>
<li><p>包名与类名之间一个点(.)代表当前包下的类，两个点(..)表示当前包及子包下的类</p>
</li>
<li><p>参数列表可以使用两个点(..)表示任意个数，任意类型的参数列表</p>
</li>
</ul>
</li>
<li><p>通知的类型</p>
<p>通知的配置语法</p>
<p><code>&lt;aop:通知类型 method=&quot;切面类中的方法名&quot; pointcut=&quot;切点表达式&quot;/&gt;</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>标签</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>前置通知</td>
<td><a href="aop:before">aop:before</a></td>
<td>用于配置前置通知，指定增强的方法在切入点之前执行</td>
</tr>
<tr>
<td>后置通知</td>
<td><a href="aop:after-returning">aop:after-returning</a></td>
<td>用于配置后置通知，指定增强的方法在切入点之后执行</td>
</tr>
<tr>
<td>环绕通知</td>
<td><a href="aop:around">aop:around</a></td>
<td>用于配置环绕通知，指定增强的方法在切入点之前和之后都执行</td>
</tr>
<tr>
<td>异常抛出通知</td>
<td><a href="aop:throwing">aop:throwing</a></td>
<td>用于配置异常抛出通知。指定增强的方法在出现异常时执行。</td>
</tr>
<tr>
<td>最终通知</td>
<td><a href="aop:after">aop:after</a></td>
<td>用于配置最终通知。无论增强方式执行是否有异常都会执行</td>
</tr>
</tbody></table>
<p>==环绕增强==</p>
<pre><code class="java">public Object around(ProceedingJoinPoint pro) throws Throwable &#123;
    System.out.println(&quot;环绕前增强&quot;);
    Object o = pro.proceed();
    System.out.println(&quot;环绕后增强&quot;);
    return o;
&#125;
</code></pre>
</li>
<li><p>切点表达式抽取</p>
<p>当多个强的切卢表达式相同时，可以将切点表达式进行抽取，在增强中用pointcut-ref属性代替pointcut属性来引用抽取后的切点表达式。</p>
<pre><code class="xml">        &lt;!--抽取切点表达式--&gt;
            &lt;aop:pointcut id=&quot;myPointcut&quot; expression=&quot;execution(void com.it.aop.Target.save())&quot;/&gt;
            &lt;aop:around method=&quot;around&quot; pointcut-ref=&quot;myPointcut&quot;/&gt;
</code></pre>
</li>
</ol>
<h2 id="6-基于注解的AOP开发"><a href="#6-基于注解的AOP开发" class="headerlink" title="6.基于注解的AOP开发"></a>6.基于注解的AOP开发</h2><h3 id="6-1入门"><a href="#6-1入门" class="headerlink" title="6.1入门"></a>6.1入门</h3><p>基于汪解的aop开发步骤：</p>
<ol>
<li><p>创建目标接囗和目标类（内部有切点）</p>
</li>
<li><p>创建切面类（内部有增强方法）</p>
</li>
<li><p>将目标类和切面类的对创世又交给spring</p>
</li>
<li><p>在切面类中使用汪解配置织入关系</p>
</li>
<li><p>在配置文件中开启组件扫描和AOP的自动代理</p>
<pre><code class="xml">&lt;context:component-scan base-package=&quot;com.it&quot;/&gt;
&lt;!--aop自动代理--&gt;
&lt;aop:aspectj-autoproxy/&gt;
</code></pre>
</li>
<li><p>测试</p>
</li>
</ol>
<h2 id="6-2-注解配置AOP详解"><a href="#6-2-注解配置AOP详解" class="headerlink" title="6.2 注解配置AOP详解"></a>6.2 注解配置AOP详解</h2><ol>
<li><p>注解通知的类型</p>
<p>通知的配置语法<code>@通知注解(&quot;切点表达式&quot;)</code></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>注解</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>前置通知</td>
<td>@Before</td>
<td>用于前置通知，指定增强的方法在切入点之前执行</td>
</tr>
<tr>
<td>后置通知</td>
<td>@AfterReturning</td>
<td>用于后置通知，指定增强的方法在切入点之后执行</td>
</tr>
<tr>
<td>环绕通知</td>
<td>@Around</td>
<td>用于环绕通知，指定增强的方法在切入点<br>之前和之后都执行</td>
</tr>
<tr>
<td>异常抛出通知</td>
<td>@AfterThrowing</td>
<td>用于配置异常抛出通知，<br>指定增强的方法在出现异常时执行</td>
</tr>
<tr>
<td>最终通知</td>
<td>@After</td>
<td>用于配置最终通知，<br>无论增强的方式执行是否有异常都会执行</td>
</tr>
</tbody></table>
</li>
<li><p>关于切点表达式的抽取</p>
<p>同xml配置aop一样，我们可以将切点表达式抽取。抽取方式是在切面定义方法，在该方法上使用@Pointcut注解定义切点表达式，然在在强注解中进行引用。具体如下：</p>
<pre><code class="xml">import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Around;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;
import org.aspectj.lang.annotation.Pointcut;
import org.springframework.stereotype.Component;

@Component(&quot;myAspect&quot;)
@Aspect/*标注MyAspect是一个切面类*/
public class MyAspect &#123;
    //配置前置增强
    @Before(&quot;pointcut()&quot;)
    public void before()&#123;
        System.out.println(&quot;前置增强&quot;);
    &#125;
    @Around(&quot;MyAspect.pointcut()&quot;)
    public Object around(ProceedingJoinPoint pro) throws Throwable &#123;
        System.out.println(&quot;环绕前增强&quot;);
        Object o = pro.proceed();
        System.out.println(&quot;环绕后增强&quot;);
        return o;
    &#125;
    //定义切点表达式
    @Pointcut(&quot;execution(* com.it.aop.*.*(..))&quot;)
    public void pointcut()&#123;

    &#125;
&#125;
</code></pre>
</li>
</ol>
<h1 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h1><h2 id="1-分页查询插件"><a href="#1-分页查询插件" class="headerlink" title="1. 分页查询插件"></a>1. 分页查询插件</h2><p>导入pom.xml坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
    &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;
    &lt;version&gt;5.3.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;
    &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;
    &lt;version&gt;4.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>导入映射文件坐标</p>
<pre><code class="xml">&lt;!--    配置分页助手插件--&gt;
    &lt;plugins&gt;
        &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;/&gt;
    &lt;/plugins&gt;
</code></pre>
<pre><code class="java">import com.github.pagehelper.PageHelper;
import com.it.domain.User;
import com.it.mapper.UserMapper;
import lombok.Cleanup;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.junit.Test;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;


public class MyBatisTest &#123;
    @Test
    public void test2() throws IOException &#123;
        InputStream config = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);
        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(config);
        @Cleanup SqlSession sqlSession = build.openSession();
        UserMapper mapper = sqlSession.getMapper(UserMapper.class);
        PageHelper.startPage(2,3);
        List&lt;User&gt; users = mapper.selectAll();
        users.forEach(System.out::println);
    &#125;
&#125;
</code></pre>
<h2 id="2-标签"><a href="#2-标签" class="headerlink" title="2.标签"></a>2.标签</h2><p>MyBatis核心配置文件常用标签：</p>
<ol>
<li>properties标签：该标签可以加载外部的properties文件</li>
<li>typeAliases标签：设置类型别名</li>
<li>environments标签签：数据源环境配置标签</li>
<li>typeHandlers标签：配置自定义类型处理器</li>
<li>plugins标签．配置MyBatis的插件</li>
</ol>
<h2 id="3-多表操作"><a href="#3-多表操作" class="headerlink" title="3.多表操作"></a>3.多表操作</h2><p>使用resultMap将查到的结果封装到对应的类中</p>
<ol>
<li>id对应主键</li>
<li>association对应对象</li>
<li>collection对应集合</li>
<li>constructor - 用于注入结果到构造方法中</li>
<li>result – 表示一般列</li>
<li>discriminator - 鉴别器：mybatis可以使用discriminator判断某列的值，然后根据某列的值改变封装行为</li>
</ol>
<div align="center"><font size="6">一对一</font></div>

<pre><code class="xml">&lt;resultMap id=&quot;userMap&quot; type=&quot;user&quot;&gt;
    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;
    &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt;
    &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt;
    &lt;!--配置对象信息：
        property：属性名称
        javaType：数据类型
    --&gt;
    &lt;association property=&quot;order&quot; javaType=&quot;order&quot;&gt;
        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;
        &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt;
        &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt;
    &lt;/association&gt;
&lt;/resultMap&gt;
</code></pre>
<div align="center"><font size="6">多对多封装集合</font></div>

<pre><code class="xml">&lt;resultMap id=&quot;userMap&quot; type=&quot;user&quot;&gt;
    &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;
    &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt;
    &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt;
    &lt;!--配置集合信息：
        property：集合名称
        ofType：当前集合中的数据类型
    --&gt;
    &lt;collection property=&quot;orderList&quot; ofType=&quot;order&quot;&gt;
        &lt;!--封装order数据--&gt;
        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;
        &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt;
        &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt;
    &lt;/collection&gt;
&lt;/resultMap&gt;
</code></pre>
<h2 id="4-mybatis注解实现复杂映射开发"><a href="#4-mybatis注解实现复杂映射开发" class="headerlink" title="4.mybatis注解实现复杂映射开发"></a>4.mybatis注解实现复杂映射开发</h2><p>实现复杂关系映射之前我们可以在映射文件中通过配值<resultMap>来实现，使用注解开发后，我们可以使用@Results注解，@ResuIt注解，@One;注解，@Many注解组合完成复杂关系的配置</resultMap></p>
<table>
<thead>
<tr>
<th>注解</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>@Results</td>
<td>代替的是标签<resutMap>该注解可以使用@Request注解<br>也可以采用@Result集合。使用格式：<br>@Result({@Result(),@Result()})或@Result(@Result())</resutMap></td>
</tr>
<tr>
<td>@Result</td>
<td>代替了<id>标签和<result>标签<br>@Result中属性介绍：<br>column：数据库的列名<br>property：需要装配的属性名<br>one：需要使用的@One注解(@result(one=@One)())<br>many：需要使用的@Many注解(@Result(many=@many)())</result></id></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>注解</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>@One一对一</td>
<td>代替了<assocation>标签，是多表查洵的关犍，在注解中用来指定<br>子查询返回单一对象。<br>@One注解属性介绍：指定用来多表查询的sqlmapper<br>使用格式：@Result(Column=“”,property=“”,one=@One(select=“”))</assocation></td>
</tr>
<tr>
<td>@Many(多对一)</td>
<td>代替了<collection>标是是多表查洵的关犍，在注解中用来<br>指定子查洵返回对象集合。<br>使用格式：@Result(property=””.column=””.many=@Many(select=””))</collection></td>
</tr>
</tbody></table>
<h1 id="SSM框架整合"><a href="#SSM框架整合" class="headerlink" title="SSM框架整合"></a>SSM框架整合</h1><h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1.准备工作"></a>1.准备工作</h2><ol>
<li>准备数据库</li>
</ol>
<pre><code class="mysql">create database ssm;
create table account(
    id int primary key auto_increment,
    name varchar(100),
    money double(7,2)
);
</code></pre>
<table>
<thead>
<tr>
<th>id</th>
<th>neme</th>
<th>money</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>tom</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>luncy</td>
<td>5000</td>
</tr>
</tbody></table>
<ol start="2">
<li><p>创建Mavne工程并导入坐标</p>
</li>
<li><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;artifactId&gt;demo2&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
            &lt;version&gt;5.3.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;4.13.2&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;version&gt;1.18.22&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.Springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
            &lt;version&gt;5.3.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.Springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;5.3.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
            &lt;version&gt;3.5.9&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;8.0.28&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;log4j&lt;/groupId&gt;
            &lt;artifactId&gt;log4j&lt;/artifactId&gt;
            &lt;version&gt;1.2.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
            &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;
            &lt;version&gt;5.3.0&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.jsqlparser&lt;/groupId&gt;
            &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;
            &lt;version&gt;4.3&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
            &lt;version&gt;1.8.7&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
            &lt;version&gt;5.3.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;
            &lt;version&gt;5.3.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;
            &lt;version&gt;5.3.17&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
            &lt;version&gt;2.0.3&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;
</code></pre>
</li>
<li><p>编写实体类</p>
<pre><code class="java">@Data
public class Account &#123;
    private Integer id;
    private String name;
    private Double money;
&#125;
</code></pre>
</li>
<li><p>编写Mapper接口</p>
<pre><code class="java">public interface AccountMapper &#123;
    /**
     * 保存数据
     * @param account 需要保存的数据
     */
    void save(Account account);

    /**
     * 查询所有
     * @return 返回Account集合
     */
    List&lt;Account&gt; selectAll();
&#125;
</code></pre>
</li>
<li><p>编写Service接口</p>
<pre><code class="java">public interface AccountService &#123;
    void save(Account account);

    List&lt;Account&gt; selectAll();
&#125;
</code></pre>
</li>
<li><p>编写Service实现</p>
<pre><code class="java">public class AccountServiceImpl implements AccountService &#123;
        private final SqlSessionFactory factory = SqlSessionFactoryUtil.getSqlSessionFactory();

    @Override
    public void save(Account account) &#123;
        @Cleanup SqlSession sqlSession = factory.openSession(false);
        AccountMapper mapper = sqlSession.getMapper(AccountMapper.class);
        mapper.save(account);

    &#125;

    @Override
    public List&lt;Account&gt; selectAll() &#123;
        @Cleanup SqlSession sqlSession = factory.openSession();
        AccountMapper mapper = sqlSession.getMapper(AccountMapper.class);
        return mapper.selectAll();
    &#125;
&#125;
</code></pre>
</li>
<li><pre><code class="java">public class AccountController &#123;
    //保存
    @RequestMapping(&quot;/save&quot;)
    @ResponseBody
    public String save(Account account)&#123;
        accountService.save(account);
        return &quot;保存成功&quot;;
    &#125;
    //查询
    @RequestMapping(&quot;/select&quot;)
    public String selectAll(Model model)&#123;
        List&lt;Account&gt; accounts = accountService.selectAll();
        model.addAttribute(&quot;accounts&quot;,accounts);
        return &quot;accountList&quot;;
    &#125;
&#125;
</code></pre>
</li>
<li><p>搭建环境</p>
<ul>
<li><p>映射文件</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.it.mapper.AccountMapper&quot;&gt;
    &lt;insert id=&quot;save&quot;&gt;
        insert into ssm.account values (null,#&#123;name&#125;,#&#123;money&#125;)
    &lt;/insert&gt;

    &lt;select id=&quot;selectAll&quot; resultType=&quot;com.it.domain.Account&quot;&gt;
        select * from ssm.account
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
</li>
<li><p>核心文件</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;properties resource=&quot;jdbc.properties&quot;/&gt;
    &lt;typeAliases&gt;
        &lt;package name=&quot;com.it.domain&quot;/&gt;
    &lt;/typeAliases&gt;
&lt;!--    配置分页助手插件--&gt;
    &lt;plugins&gt;
        &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;/&gt;
    &lt;/plugins&gt;
    &lt;!--数据源环境--&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;mappers&gt;
        &lt;package name=&quot;com.it.mapper&quot;/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;
</code></pre>
</li>
<li><p>资源文件</p>
<pre><code class="xml">jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/ssm
jdbc.username=root
jdbc.password=123456
</code></pre>
</li>
<li><p>applicationContext.xml</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=
               &quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;!--组件扫描,扫描service和mapper--&gt;
    &lt;context:component-scan base-package=&quot;com.it&quot;&gt;
        &lt;!--排除controller的扫描--&gt;
        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;
    &lt;/context:component-scan&gt;
&lt;/beans&gt;
</code></pre>
</li>
<li><p>spring-mvc.xml</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;

    &lt;!--组件扫描，主要扫描controller--&gt;
    &lt;context:component-scan base-package=&quot;com.it.controller&quot;/&gt;
    &lt;!--配置mvc驱动--&gt;
    &lt;mvc:annotation-driven/&gt;
    &lt;!--内部资源视图解析器--&gt;
    &lt;bean id=&quot;resourceViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name=&quot;prefix&quot; value=&quot;WEB-INF/pages&quot;/&gt;
        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;
    &lt;/bean&gt;
    &lt;!--开放静态资源访问权限--&gt;
    &lt;mvc:default-servlet-handler/&gt;
&lt;/beans&gt;
</code></pre>
</li>
<li><p>配置Web.xml</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;
         version=&quot;4.0&quot;&gt;
    &lt;!--spring监听器--&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;listener&gt;
        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
    &lt;/listener&gt;
    &lt;!--spring前端控制器--&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
            &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;!--乱码过滤器--&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;encoding&lt;/param-name&gt;
            &lt;param-value&gt;UTF-8&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;
&lt;/web-app&gt;
</code></pre>
</li>
</ul>
</li>
</ol>
<h2 id="2-整合"><a href="#2-整合" class="headerlink" title="2.整合"></a>2.整合</h2><ol start="2">
<li><p>将SqlSessionFactpry配置到Spring容器中</p>
<pre><code class="xml">&lt;!--加载properties文件--&gt;
&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;
&lt;!--配置数据源--&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;
    &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
    &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
    &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
    &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
&lt;/bean&gt;
&lt;!--配置sqlSessionFactory--&gt;
&lt;bean id=&quot;factory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
    &lt;!--加载mybatis核心文件--&gt;
    &lt;property name=&quot;configLocation&quot; value=&quot;sqlMapConfig-spring.xml&quot;/&gt;
&lt;/bean&gt;
    &lt;!--扫描mapper所在的包,为mapper创建实现类--&gt;
    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
        &lt;property name=&quot;basePackage&quot; value=&quot;com.it.mapper&quot;/&gt;
    &lt;/bean&gt;
</code></pre>
</li>
<li><p>配置声明式事务控制</p>
<pre><code class="xml">&lt;!--配置事务增强--&gt;
&lt;tx:advice id=&quot;txAdvice&quot;&gt;
    &lt;tx:attributes&gt;
        &lt;tx:method name=&quot;*&quot;/&gt;
    &lt;/tx:attributes&gt;
&lt;/tx:advice&gt;
&lt;!--事务aop织入--&gt;
&lt;aop:config&gt;
    &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut=&quot;execution(* com.it.service.impl.*.*(..)&quot;/&gt;
&lt;/aop:config&gt;
</code></pre>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/bug/java/springmvcwufajiexishitu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/bug/java/springmvcwufajiexishitu/" class="post-title-link" itemprop="url">springMVC无法解析式图</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-08 18:31:39 / 修改时间：18:48:25" itemprop="dateCreated datePublished" datetime="2022-04-08T18:31:39+08:00">2022-04-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bug/" itemprop="url" rel="index"><span itemprop="name">bug</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bug/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/bug/java/springmvcwufajiexishitu/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/bug/java/springmvcwufajiexishitu/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><h1>问题图片</h1></div> 

<p><img src="/images/error/mvc%E6%89%BE%E4%B8%8D%E5%88%B0%E8%A7%86%E5%9B%BE.png"></p>
<div align="center"><h1>问题原理</h1></div> 

<p><img src="/images/error/mvc%E6%89%BE%E4%B8%8D%E5%88%B0%E8%A7%86%E5%9B%BE2.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/zhuoyou/xieranzhonglou/xieranzhonglouxieyueshengqi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/zhuoyou/xieranzhonglou/xieranzhonglouxieyueshengqi/" class="post-title-link" itemprop="url">血染钟楼血月升起</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-07 17:11:12 / 修改时间：17:54:42" itemprop="dateCreated datePublished" datetime="2022-04-07T17:11:12+08:00">2022-04-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/" itemprop="url" rel="index"><span itemprop="name">桌游</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/%E8%A1%80%E6%9F%93%E9%92%9F%E6%A5%BC/" itemprop="url" rel="index"><span itemprop="name">血染钟楼</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/zhuoyou/xieranzhonglou/xieranzhonglouxieyueshengqi/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/zhuoyou/xieranzhonglou/xieranzhonglouxieyueshengqi/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div style="background-color:#afb4db color:" black"">
<div style="background-color:black">
红色字体角色表名该角色技能第一晚不能使用<br>
绿色字体角色名表示该角色技能整局游戏只能生效一次
</div>

<hr>
<style>
    h4 {
        display: flex;
        flex-direction: row;
    }
            
    h4:before,
    h4:after {
        content: "";
        flex: 1 1;
        border-bottom: 2px solid #000;
        margin: auto;
    }        
    table{
        font-size: 18px;
        background: #78cdd1;
        color: #000000;
        margin: 0 10px;
        border-collapse: separate;
        font-family:"Times New Roman", Times, serif;
        overflow-x: hidden;
    }
    .one{
        color: red;
        font-weight: bold;
        text-align: center;
        width: 100px;
    }
    .ef{
        color: green;
        font-weight: bold;
        text-align: center;
        width: 100px;
    }    
    .none{
       text-align: center; 
    }
</style>


<hr>
<h4>村民</h4>

<table border="0">
    <tr>
        <td class="one">祖&emsp;&emsp;母</td>
        <td>游戏开始时，你得知一名善良玩家与他的身份，当恶魔杀害他时，你死亡。
</td>
    </tr>
    <tr>
        <td class="none">水&emsp;&emsp;手</td>
        <td>你不会死亡·每个夜晚，选择一名存活玩家，你和他其中一名醉酒，直到下个黄昏。
</td>
    </tr>
    <tr>
        <td class="none">女&emsp;&emsp;佣</td>
        <td>每个夜晚，选择两名其他存活玩家，你得知今晚他们当中有多少名由于自身的技能被唤醒</td>
    </tr>
    <tr>
        <td class="one">驱&ensp;魔&ensp;师</td>
        <td>每个夜，选择一名玩家（需与上一夜不同）如果你选中了魔，他在今晚不会被喚醒，并得知你是谁。</td>
    </tr>
    <tr>
        <td class="one">旅店老板</td>
        <td>每个夜晚气选择两名玩家，他们在今晚不会死亡，但其中一名会醉酒，到下个黄昏</td>
    </tr>
    <tr>
        <td class="one">赌&emsp;&emsp;徒</td>
        <td>每个夜晚选择名玩家并猜测他的身份，当你猜测错误时，你死亡</td>
    </tr>
    <tr>
        <td class="none">散&ensp;谣&ensp;者</td>
        <td>每个白天，可以做出一项公开声明。如果声明正确。名玩家在今晚死亡</td>
    </tr>
    <tr>
        <td class="ef">侍&emsp;&emsp;臣</td>
        <td>整局游戏限一次，夜晚，选择一个身份，如果该身份在场，对应的玩家醉酒三天三</td>
    </tr>
    <tr>
        <td class="one">教&emsp;&emsp;授</td>
        <td>整局游戏限一次，夜选择一名死亡玩家，如果他是村民，将他复活</td>
    </tr>
    <tr>
        <td class="none">吟游诗人</td>
        <td>当爪牙被处决时，除旅行者外的有玩家醉酒，直到明天的黄昏</td>
    </tr>
    <tr>
        <td class="none">茶&emsp;&emsp;女</td>
        <td>如与你相邻的存活玩家属于善良阵营，他们不会死亡</td>
    </tr>
        <tr>
        <td class="none">调&ensp;停&ensp;者</td>
        <td>当善良玩家被处决时，他可能不会死亡</td>
    </tr>
    <tr>
        <td class="ef">小&emsp;&emsp;丑</td>
        <td>当你第一次死亡时，你不会死亡</td>
    </tr>
</table>

<hr>
<h4>外来者</h4>
<table>
    <tr>
        <td class="none">修补匠</td>
        <td>你随时可能死亡</td>
    </tr>
    <tr>
        <td class="ef">月之子</td>
        <td>当你得知你死亡时，公开选择一名存活玩家，如果他属于善良阵营，今晚，他死亡</td>
    </tr>
    <tr>
        <td class="ef">暴&emsp;徒</td>
        <td>每个夜晚，当第一茨着玩家选择你作为技能目标时，他醉酒，直到下个黄昏。然后坯加入他的阵营</td>
    </tr>
    <tr>
        <td class="ef">狂&emsp;人</td>
        <td>你以为你是恶魔，但其实你不是。恶魔知道你是谁，以及你在每晚选择了谁</td>
    </tr>
</table>

<hr>
<h4>爪牙</h4>

<table>
    <tr>
        <td class="none">教父</td>
        <td>教父：游开始时，你得知本局存在的外来者身份。当一名外来者在白天死亡时，当晚，你选择一名玩家，将他杀害[±1外来者]</td>
    </tr>
    <tr>
        <td class="none">律师</td>
        <td>每个夜晚，选择一名存活玩家（需与上一夜不同），明天疒当他被处决时，他不会死亡</td>
    </tr>
    <tr>
        <td class="one">刺客</td>
        <td>整局游戏限一次，夜晚，选择一名玩家，将他杀害。即使你因为某些原因不能这么做。</td>
    </tr>
    <tr>
        <td class="ef">主谋</td>
        <td>当恶魔死于处决导致游戏结束时，再多进行一天游戏。当这一天有玩家被处决时：该玩家的阵营落</td>
    </tr>
</table>

<hr>
<h4>恶魔</h4>

<table>
    <tr>
        <td class="one">僵&emsp;尸</td>
        <td>每个夜晚，当白天没有玩家死亡时，选择一名玩家，将他杀。当你第一次死亡时，你仍然活着但被视为死亡。</td>
    </tr>
    <tr>
        <td class="none">疫&emsp;魔</td>
        <td>每个夜晚，，选择一名玩家，他中毒。先前已经中毒的玩家死亡并恢复健康</td>
    </tr>
    <tr>
        <td class="one">憎&emsp;恶</td>
        <td>每个夜晚，选择两名玩家，将他们杀害。你上一晚选择的玩家可能会复活。</td>
    </tr>
    <tr>
        <td class="one">迷迭香</td>
        <td>每个夜晚你可以选择一名玩家，将他杀害。如果你上次放弃了选择，你这次改为选择三人。</td>
    </tr>
</table></div>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/zhuoyou/xieranzhonglou/xieranzhonglouanliuyongdong/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/zhuoyou/xieranzhonglou/xieranzhonglouanliuyongdong/" class="post-title-link" itemprop="url">血染钟楼暗流涌动技能</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-07 15:56:35 / 修改时间：16:54:17" itemprop="dateCreated datePublished" datetime="2022-04-07T15:56:35+08:00">2022-04-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/" itemprop="url" rel="index"><span itemprop="name">桌游</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/%E8%A1%80%E6%9F%93%E9%92%9F%E6%A5%BC/" itemprop="url" rel="index"><span itemprop="name">血染钟楼</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/zhuoyou/xieranzhonglou/xieranzhonglouanliuyongdong/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/zhuoyou/xieranzhonglou/xieranzhonglouanliuyongdong/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div style="background-color:#afb4db color:" black"">
<div style="background-color:black">
红色字体角色表名该角色技能第一晚不能使用<br>
绿色字体角色名表示该角色技能整局游戏只能生效一次
</div>

<style>
    h4 {
        display: flex;
        flex-direction: row;
    }
            
    h4:before,
    h4:after {
        content: "";
        flex: 1 1;
        border-bottom: 2px solid #000;
        margin: auto;
    }    
    table{
        font-size: 18px;
        background: #78cdd1;
        color: #000000;
        margin: 0 10px;
        border-collapse: separate;
        font-family:"Times New Roman", Times, serif;
        overflow-x: hidden;
    }
    .one{
        color: red;
        font-weight: bold;
        text-align: center;
    }
    .ef{
        color: green;
        font-weight: bold;
        text-align: center;
        width: 100px;
    }    
    .none{
       text-align: center; 
    }
</style>


<hr>
<h4>村民</h4>

<table border="0">
    <tr>
        <td class="ef">洗&ensp;衣&ensp;妇</td>
        <td>游戏开始时，你得知两名玩家其中一名的村民身份。</td>
    </tr>
    <tr>
        <td class="ef">图书馆员</td>
        <td>游戏开始时，你得知两名玩家其中一名的外来者身份，或得知本局没有外来者</td>
    </tr>
    <tr>
        <td class="ef">调&ensp;查&ensp;员</td>
        <td>游戏开始时，你得知两名玩家其中一名的爪牙身份</td>
    </tr>
    <tr>
        <td class="ef">厨&emsp;&emsp;师</td>
        <td>游戏开始时，你得知有多少对邪恶玩家为邻座</td>
    </tr>
    <tr>
        <td class="none">神&emsp;&emsp;使</td>
        <td>每个夜晚，你得知与你相邻的存活玩家中有多少名属于邪恶阵营</td>
    </tr>
    <tr>
        <td class="none">预&ensp;言&ensp;家</td>
        <td>每个夜晚，你选择两名玩家，得短他们两人中是否有恶魔。有一名善良玩家，你的技能始终会把他误认为恶魔</td>
    </tr>
    <tr>
        <td class="one">送&ensp;葬&ensp;者</td>
        <td>每个夜晚，你得知今天被处决的玩家的身份</td>
    </tr>
    <tr>
        <td class="one">僧&emsp;&emsp;侣</td>
        <td>每个夜晚，你选择一名其他玩家，他在今晚免受恶魔侵害</td>
    </tr>
    <tr>
        <td class="ef">养&ensp;鸦&ensp;人</td>
        <td>当你在夜晚死亡时，你选择一名玩家，得短他的身份</td>
    </tr>
    <tr>
        <td class="ef">处&emsp;&emsp;女</td>
        <td>整局游戏限一次，白天，你可以公开选择一名玩家，如果他是恶魔，他死亡</td>
    </tr>
    <tr>
        <td class="ef">杀&emsp;&emsp;手</td>
        <td>整局游戏限一次，白天，你可以公开选择一名玩家，如果他是恶魔，他死亡</td>
    </tr>
        <tr>
        <td class="none">军&emsp;&emsp;人</td>
        <td>你免受恶魔侵害</td>
    </tr>
    <tr>
        <td class="none">镇&emsp;&emsp;长</td>
        <td>当剩下三名玩家存活，且当天没有玩家被处决时，你的阵营获胜,当你在夜晚死亡时，可能有其他玩家代替你死亡</td>
    </tr>
</table>

<hr>
<h4>外来者</h4>
<table>
    <tr>
        <td class="none">家仆</td>
        <td>每个夜晚，你选择一名其他玩家，明天当他投票时，你才能投票</td>
    </tr>
    <tr>
        <td class="none">酒鬼</td>
        <td>你不知道你是酒鬼，你以为你是一个村民角色，但其实你不是</td>
    </tr>
    <tr>
        <td class="ef">圣徒</td>
        <td>当你被处决时，你的阵营落败</td>
    </tr>
    <tr>
        <td class="none">隐士</td>
        <td>你可能被视为一名邪恶的爪牙或恶魔，即使你已经死亡</td>
    </tr>
</table>

<hr>
<h4>爪牙</h4>

<table>
    <tr>
        <td class="none">毒师</td>
        <td>每个夜晚，选择一名其他玩家，他中毒，直到下个黄昏</td>
    </tr>
    <tr>
        <td class="none">间谍</td>
        <td>每个夜晚，你查看魔典。你可能被视为一名善良的村民或外来者，即使你已经死亡。</td>
    </tr>
    <tr>
        <td class="ef">荡妇</td>
        <td>当存活玩家大于等于5人且恶魔死亡时（不包括旅行者），你成为新的恶魔。</td>
    </tr>
    <tr>
        <td class="none">男爵</td>
        <td>本局游戏存在額外的外来者。[+2外来者]</td>
    </tr>
</table>

<hr>
<h4>恶魔</h4>

<table>
    <tr>
        <td class="one">小恶魔</td>
        <td>每个夜晚，选择一名玩家，将他杀害。当你杀害自己时，一名爪牙变为新的小恶魔。</td>
    </tr>

</table></div>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/zhuoyou/xieranzhonglou/xieranzhongloujiaopaiyuziluolanjineng/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/zhuoyou/xieranzhonglou/xieranzhongloujiaopaiyuziluolanjineng/" class="post-title-link" itemprop="url">血染钟楼教派与紫罗兰技能</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-07 13:20:01 / 修改时间：17:10:16" itemprop="dateCreated datePublished" datetime="2022-04-07T13:20:01+08:00">2022-04-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/" itemprop="url" rel="index"><span itemprop="name">桌游</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/%E8%A1%80%E6%9F%93%E9%92%9F%E6%A5%BC/" itemprop="url" rel="index"><span itemprop="name">血染钟楼</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/zhuoyou/xieranzhonglou/xieranzhongloujiaopaiyuziluolanjineng/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/zhuoyou/xieranzhonglou/xieranzhongloujiaopaiyuziluolanjineng/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div style="background-color:#afb4db color:" black"">
<div style="background-color:black">
红色字体角色表名该角色技能第一晚不能使用<br>
绿色字体角色名表示该角色技能整局游戏只能生效一次
</div>

<hr>
<style>
    h4 {
        display: flex;
        flex-direction: row;
    }
            
    h4:before,
    h4:after {
        content: "";
        flex: 1 1;
        border-bottom: 2px solid #000;
        margin: auto;
    }        
    table{
        font-size: 18px;
        background: #78cdd1;
        color: #000000;
        margin: 0 10px;
        border-collapse: separate;
        font-family:"Times New Roman", Times, serif;
        overflow-x: hidden;
    }
    .one{
        color: red;
        font-weight: bold;
        text-align: center;
        width: 100px;
    }
    .ef{
        color: green;
        font-weight: bold;
        text-align: center;
        width: 100px;
    }    
    .none{
       text-align: center; 
    }
</style>


<hr>
<h4>村民</h4>

<table border="0">
    <tr>
        <td class="ef">钟&ensp;表&ensp;匠</td>
        <td>游戏开始时，你得知恶魔与距他最近的爪牙之间的距离</td>
    </tr>
    <tr>
        <td class="none">入梦人</td>
        <td>每个夜晚，选择一名其他玩家，你得知一个善良身份和一个邪恶身份，其中一个是他的身份</td>
    </tr>
    <tr>
        <td class="none">耍&ensp;蛇&ensp;人</td>
        <td>每个夜晚，选择一名存活玩家，当你选中一名恶魔时，交换你和他的身份以及阵营，然后，他中毒</td>
    </tr>
    <tr>
        <td class="none">数&ensp;学&ensp;家</td>
        <td>每个夜晚，你得知有多少玩家的技能因为其他玩家的技能未正常生效。(从拂晓开始算起)</td>
    </tr>
    <tr>
        <td class="one">花&ensp;艺&ensp;师</td>
        <td>每个夜晚，你得知恶魔在白天是否进行了投票</td>
    </tr>
    <tr>
        <td class="one">传&ensp;令&ensp;员</td>
        <td>每个夜晚，你得知爪牙在白天是否发起了提名</td>
    </tr>
    <tr>
        <td class="one">祭&emsp;&emsp;司</td>
        <td>每个夜晚，你得知死去的玩家有多少名属于邪恶阵营</td>
    </tr>
    <tr>
        <td class="none">学&emsp;&emsp;者</td>
        <td>每个白天，拜访说书人并获得两条信息，其中一条是正确的，一条是错误的</td>
    </tr>
    <tr>
        <td class="ef">裁&emsp;&emsp;缝</td>
        <td>整局游戏限一次，夜晚，选择两名其他玩家，得知他们是否属于同一阵营</td>
    </tr>
    <tr>
        <td class="ef">哲&ensp;学&ensp;家</td>
        <td>整局游戏限一次，夜晚，选择一个善良身份，获得他的技能，如果有玩家为该身份，他醉酒</td>
    </tr>
    <tr>
        <td class="ef">艺&ensp;术&ensp;家</td>
        <td>整局游戏限一次，白天，私下询问说书人一个"是/否"的问题</td>
    </tr>
        <tr>
        <td class="none">贤&emsp;&emsp;者</td>
        <td>当恶魔杀害你时，你得知两名玩家，其中一名是恶魔</td>
    </tr>
    <tr>
        <td class="none">杂技演员</td>
        <td>你的第一天白天，公开猜测之多5名玩家的身份，当晚，你将会得知猜对了多少个</td>
    </tr>
</table>

<hr>
<h4>外来者</h4>
<table>
    <tr>
        <td class="none">变种人</td>
        <td>当你对“我是外来者”疯狂时，你可能会被处决</td>
    </tr>
    <tr>
        <td class="ef">意中人</td>
        <td>当你死亡时，一名玩家醉酒</td>
    </tr>
    <tr>
        <td class="ef">理发师</td>
        <td>如果你死亡，恶魔在当晚可以选择两名玩家交换身份。（不可以交换自己外的其他恶魔）</td>
    </tr>
    <tr>
        <td class="ef">笨&emsp;蛋</td>
        <td>当你得知你死亡时，公开选择一名活着的玩家，如果他属于邪恶阵营，你的阵营落败</td>
    </tr>
</table>

<hr>
<h4>爪牙</h4>

<table>
    <tr>
        <td class="one">女&emsp;&emsp;巫</td>
        <td>每个夜晚选择一名玩家，如果他在明天发起了提名，他死亡。场上剩下三名玩家存活时，你失去该技能</td>
    </tr>
    <tr>
        <td class="one">炼&ensp;药&ensp;师</td>
        <td>每个夜晚，选择一名玩家和一个身份，他变为该身份(如不存在)。如果你创造了一个恶魔，当晚所有恶魔将随机行动</td>
    </tr>
    <tr>
        <td class="ef">黑白双子</td>
        <td>你与一名对立阵营的玩家互知。如果其中的善良玩家被处决，邪恶阵营获胜。当两个双子均存活时善良阵营不能获胜</td>
    </tr>
    <tr>
        <td class="none">洗&ensp;脑&ensp;师</td>
        <td>每个夜晚，选择一名玩家和一个善良身份，明天他需要对“他是这个身份”疯狂，否则他可能会被处决</td>
    </tr>
</table>

<hr>
<h4>恶魔</h4>

<table>
    <tr>
        <td class="one">染&emsp;魂</td>
        <td>每个夜晚选择一名玩家，如果他在明天发起了提名，他死亡。场上剩下三名玩家存活时，你失去该技能</td>
    </tr>
    <tr>
        <td class="one">巫&emsp;妖</td>
        <td>每个夜晚，选择一名玩家和一个身份，他变为该身份(如不存在)。如果你创造了一个恶魔，当晚所有恶魔将随机行动</td>
    </tr>
    <tr>
        <td class="one">混&emsp;沌</td>
        <td>你与一名对立阵营的玩家互知。如果其中的善良玩家被处决，邪恶阵营获胜。当两个双子均存活时善良阵营不能获胜</td>
    </tr>
    <tr>
        <td class="one">蚀魂魔</td>
        <td>每个夜晚，选择一名玩家和一个善良身份，明天他需要对“他是这个身份”疯狂，否则他可能会被处决</td>
    </tr>
</table>



</div>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/zhuoyou/xieranzhonglou/xieranzhonglou/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/zhuoyou/xieranzhonglou/xieranzhonglou/" class="post-title-link" itemprop="url">血染钟楼规则</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-07 09:56:57 / 修改时间：13:19:21" itemprop="dateCreated datePublished" datetime="2022-04-07T09:56:57+08:00">2022-04-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/" itemprop="url" rel="index"><span itemprop="name">桌游</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A1%8C%E6%B8%B8/%E8%A1%80%E6%9F%93%E9%92%9F%E6%A5%BC/" itemprop="url" rel="index"><span itemprop="name">血染钟楼</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/zhuoyou/xieranzhonglou/xieranzhonglou/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/zhuoyou/xieranzhonglou/xieranzhonglou/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="游戏流程"><a href="#游戏流程" class="headerlink" title="游戏流程"></a><font size="8">游戏流程</font></h1><h2 id="第一个夜晚"><a href="#第一个夜晚" class="headerlink" title="第一个夜晚"></a><font color="#00ae9d" size="6"><strong>第一个夜晚</strong></font></h2><p><font size="5" color="#102b6a">&emsp;&emsp;
1. 说书人唤醒恶魔，告知恶魔三个不在场玩家的善良身份(建议7/10/13人局三村民，其它人数配置两村民一外来)，并告知他爪牙是谁<br>&emsp;&emsp;
2. 说书人唤醒所有爪牙，并告知他们恶魔是谁(ps：<font size="4" color="#d3c6a6">线下说书人可以同时唤醒爪牙和恶魔，但不能交流)</font><br>&emsp;&emsp;
3. 说书人按照不同角色技能发动顺序唤醒在第一个晚上拥有技能的玩家并配合他们使用自己的技能
</font></p>

<hr>
<h2 id="第一个白天"><a href="#第一个白天" class="headerlink" title="第一个白天"></a><font color="#00ae9d" size="6"><strong>第一个白天</strong></font></h2><p><font size="5" color="#102b6a">&emsp;&emsp;
1. 每个白天黎明之时，说书人将宣布有关上一个夜晚的死亡信息，之后玩家自由发言并且可以随意私聊，直到说书人宣布进入<font color="#d71345"><b>提名阶段</b></font>。
<br>&emsp;&emsp;
2. <font color="#d71345"><b>提名阶段</b></font>所有玩家保持安静每个人都可以提名自己认为可疑的玩家来听听他们的辩护或者提名自己来讲两句。
<br>&emsp;&emsp;
被提名玩家在30秒的辩护后（<font size="4" color="#d3c6a6">可适当延长</font>）进入<font color="#d71345"><b>投票环节</b></font>，从被提名玩家的上一位玩家开始顺时针投票，并在计票后进行发起下一次提名，直到说书人认为当天的<font color="#d71345"><b>提名阶段</b></font>可以结束了·
<br>&emsp;&emsp;
所有玩家都可以在白天的每一个投票环节中投票，但是死去的玩家只剩下最后一票，也就是他们的遗书。不过死人可以继续参与游戏，并且正常发言。
<br>&emsp;&emsp;
如果被提名玩家得票数达到场上存活人数的一半且在所有被提名者中得票最多，他被处决,如果当天得票最多的被提名者平票，没有人被处决,死人不能提名，但是可以被提名
<br>&emsp;&emsp;
每名玩家在每个白天只能提名一次也只能被提名一次。在处决完成后，白天结束。

<p></p></font></p><p></p>
<p>

<hr>
</p><h2 id="黄昏降临"><a href="#黄昏降临" class="headerlink" title="黄昏降临"></a><font color="#00ae9d" size="6"><strong>黄昏降临</strong></font></h2><p><font size="5" color="#102b6a">&emsp;&emsp;、
有些效果会在这个阶段发动。一些状态被在这个阶段改变·说书人则在这个阶段通过调整魔典上的标记来提醒自己需要注意的事情。
</font></p>

<hr>
<h2 id="其他夜晚"><a href="#其他夜晚" class="headerlink" title="其他夜晚"></a><font color="#00ae9d" size="6"><strong>其他夜晚</strong></font></h2><p><font size="5" color="#102b6a">&emsp;&emsp;
说书人按照不同角色的技能发动顺序唤醒在其他夜晚拥有技能的玩家并配合他们使用自己的技能
</font></p>

<hr>
<h2 id="游戏进行"><a href="#游戏进行" class="headerlink" title="游戏进行"></a><font color="#00ae9d" size="6"><strong>游戏进行</strong></font></h2><p><font size="5" color="#102b6a">&emsp;&emsp;重复234阶段直到游戏结束条件达成
</font></p>

<hr>
<h2 id="游戏结束"><a href="#游戏结束" class="headerlink" title="游戏结束"></a><font color="#00ae9d" size="6"><strong>游戏结束</strong></font></h2><p><font size="5" color="#102b6a">&emsp;&emsp;当场上的恶魔死亡时，善良阵营获胜，当场上的存活玩家为2时（不计算旅行者和传奇身份),邪恶阵营获胜·如果两个阵营同时获胜，则改为善良阵营朕胜
<p><font size="5" color="#102b6a">&emsp;&emsp;
部分角色的技能可能会改变游戏的胜利条件，请按照角色技能结算特殊胜利和特殊落败。
</font></p>
<p><font size="5" color="#102b6a">&emsp;&emsp;
部分角色的效果可能与说明书冲突，冲突处以角色技能优先，
</font></p></font>
</p>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/java/javaweb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/java/javaweb/" class="post-title-link" itemprop="url">javaWeb</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-06 14:30:01 / 修改时间：14:32:46" itemprop="dateCreated datePublished" datetime="2022-04-06T14:30:01+08:00">2022-04-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/java/javaweb/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/java/javaweb/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一、数据类型"><a href="#一、数据类型" class="headerlink" title="一、数据类型"></a>一、数据类型</h1><h2 id="1、数值类型"><a href="#1、数值类型" class="headerlink" title="1、数值类型"></a>1、数值类型</h2><table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>有符号的范围</th>
<th>无符号的范围</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>tinyint</td>
<td>1 byte</td>
<td>(-2^7^,2^7^-1)</td>
<td>(0,2^8^-1)</td>
<td>小整数值</td>
</tr>
<tr>
<td>smallint</td>
<td>2 bytes</td>
<td>(-2^15^,2^15^-1)</td>
<td>(0,2^16^-1)</td>
<td>大整数值</td>
</tr>
<tr>
<td>mediumint</td>
<td>3 bytes</td>
<td>(-2^23^,2^23^-1)</td>
<td>(0,2^24^-1)</td>
<td>大整数值</td>
</tr>
<tr>
<td>int或integer</td>
<td>4 bytes</td>
<td>(-2^31^,2^31^-1)</td>
<td>(0,2^32^-1)</td>
<td>大整数值</td>
</tr>
<tr>
<td>bigint</td>
<td>8 bytes</td>
<td>(-2^63^,2^63^-1)</td>
<td>(0,2^64^-1)</td>
<td>极大整数值</td>
</tr>
<tr>
<td>float</td>
<td>4 bytes</td>
<td></td>
<td></td>
<td>单精度浮点数值</td>
</tr>
<tr>
<td>double</td>
<td>8 bytes</td>
<td></td>
<td></td>
<td>双精度浮点数值</td>
</tr>
<tr>
<td>dectmal</td>
<td></td>
<td>依赖M(精度)和D(标度)的值</td>
<td>依赖M(精度)和D(标度)的值</td>
<td>小数值(精确定点数)</td>
</tr>
</tbody></table>
<h2 id="1、字符串类型"><a href="#1、字符串类型" class="headerlink" title="1、字符串类型"></a>1、字符串类型</h2><table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>0-255 bytes</td>
<td>定长字符串</td>
</tr>
<tr>
<td>varchar</td>
<td>0-65535 bytes</td>
<td>变长字符串</td>
</tr>
<tr>
<td>tinyblob</td>
<td>0-255 bytes</td>
<td>不超过255个字符的二进制数据</td>
</tr>
<tr>
<td>tinytext</td>
<td>0-255 bytes</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>blob</td>
<td>0-65535 bytes</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>text</td>
<td>0-65535 bytes</td>
<td>长文本数据</td>
</tr>
<tr>
<td>mediumblob</td>
<td>0-16777215 bytes</td>
<td>二进制形式的中等长文本数据</td>
</tr>
<tr>
<td>mediumtext</td>
<td>0-16777215 bytes</td>
<td>中等长文本数据</td>
</tr>
<tr>
<td>longblob</td>
<td>0-4294967295 bytes</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>longtext</td>
<td>0-4294967295 bytes</td>
<td>极大文本数据</td>
</tr>
</tbody></table>
<hr>
<h1 id="二、增删改数据库"><a href="#二、增删改数据库" class="headerlink" title="二、增删改数据库"></a>二、增删改数据库</h1><h2 id="1、数据库操作"><a href="#1、数据库操作" class="headerlink" title="1、数据库操作"></a>1、数据库操作</h2><table>
<thead>
<tr>
<th align="center">创建数据库</th>
<th align="left">create database 数据库名</th>
</tr>
</thead>
<tbody><tr>
<td align="center">删除数据库</td>
<td align="left">drop database 数据库名</td>
</tr>
<tr>
<td align="center">展示数据库</td>
<td align="left">show databases 数据库名</td>
</tr>
<tr>
<td align="center">使用数据库</td>
<td align="left">use 数据库名</td>
</tr>
<tr>
<td align="center">展示使用的哪个数据库</td>
<td align="left">select database()；</td>
</tr>
</tbody></table>
<h2 id="2、表操作"><a href="#2、表操作" class="headerlink" title="2、表操作"></a>2、表操作</h2><table>
<thead>
<tr>
<th>展示所有表</th>
<th>show tables;</th>
</tr>
</thead>
<tbody><tr>
<td>创建表</td>
<td>create 表名(字段 字段类型，字段 字段类型)</td>
</tr>
<tr>
<td>查看表</td>
<td>desc 表名</td>
</tr>
<tr>
<td>查看表具体信息</td>
<td>show create table 表名</td>
</tr>
<tr>
<td>修改表</td>
<td>alter table  表名 add</td>
</tr>
<tr>
<td>删除表</td>
<td>drop table 表名</td>
</tr>
</tbody></table>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><pre><code class="mysql">create table emp
(id int comment &#39;编号&#39;,workno varchar(10) comment &#39;工号&#39;,
name varchar(10) comment &#39;姓名&#39;,
gender char(1) comment &#39;性别&#39;,
age tinyint unsigned comment &#39;年龄&#39;,
 idcard char(18) comment &#39;身份证号&#39;,
)comment &#39;员工表&#39;;
</code></pre>
<h3 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h3><table>
<thead>
<tr>
<th align="left">add</th>
<th>modffy</th>
<th>change</th>
<th>drop</th>
<th>rename</th>
</tr>
</thead>
<tbody><tr>
<td align="left">字段名 字段类型</td>
<td>字段名 新数据类型</td>
<td>旧字段名 新字段名 类型 comment 注释</td>
<td>字段名</td>
<td>rename to 新表名</td>
</tr>
<tr>
<td align="left">增加数据</td>
<td>只修改字段类型</td>
<td>修改数据名和数据类型</td>
<td>删除字段名</td>
<td>重命名新表名</td>
</tr>
</tbody></table>
<hr>
<h1 id="三、数据"><a href="#三、数据" class="headerlink" title="三、数据"></a>三、数据</h1><h2 id="1、增删改"><a href="#1、增删改" class="headerlink" title="1、增删改"></a>1、增删改</h2><table>
<thead>
<tr>
<th>给指定字段添加数据</th>
<th>insert into 表名（字段名1，字段名2…) values(值1，值2，…);</th>
</tr>
</thead>
<tbody><tr>
<td>给全部字段添加数据</td>
<td>insert into  表名 values(值1，值2，…);</td>
</tr>
<tr>
<td>批量添加数据</td>
<td>insert into  表名[（字段名1，字段名2,…) ] values(值1，值2，…),(值1，值2，…);</td>
</tr>
<tr>
<td>修改数据</td>
<td>update  表名 set 字段1=值1，字段2=值2 [where 条件]</td>
</tr>
<tr>
<td>删除数据</td>
<td>delete from 表名 [where 条件]</td>
</tr>
</tbody></table>
<hr>
<h2 id="2、查询"><a href="#2、查询" class="headerlink" title="2、查询"></a>2、查询</h2><h3 id="查询表1"><a href="#查询表1" class="headerlink" title="查询表1"></a>查询表1</h3><table>
<thead>
<tr>
<th>查询多个字段</th>
<th>select 字段1，字段2，字段3… from 表名;</th>
</tr>
</thead>
<tbody><tr>
<td>查询所有字段</td>
<td>select *from 表名;</td>
</tr>
<tr>
<td>设置别名</td>
<td>select 字段1[as 别名1],字段2[as 别名2]…from 表名;</td>
</tr>
<tr>
<td>去除重复记录</td>
<td>select distinct 字段列表 from 表名；</td>
</tr>
<tr>
<td>条件查询</td>
<td>select 字段列表 from 表名 where  条件;</td>
</tr>
</tbody></table>
<h3 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h3><table>
<thead>
<tr>
<th>&gt;  &gt;=  &lt;   &lt;=   =   &lt;&gt;或!=</th>
<th>比较运算符</th>
</tr>
</thead>
<tbody><tr>
<td>beyween…and…</td>
<td>在某个范围内 含最大最小值</td>
</tr>
<tr>
<td>in(…)</td>
<td>在in之后的列表中的值，多选一</td>
</tr>
<tr>
<td>like 占位符</td>
<td>模糊匹配（_匹配单个字符，%匹配任意个字符）</td>
</tr>
<tr>
<td>is null</td>
<td>是null</td>
</tr>
</tbody></table>
<p>###逻辑运算符</p>
<table>
<thead>
<tr>
<th>and 或 &amp;&amp;</th>
<th>与</th>
</tr>
</thead>
<tbody><tr>
<td>or 或  ||</td>
<td>或</td>
</tr>
<tr>
<td>not 或 ！</td>
<td>非</td>
</tr>
</tbody></table>
<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><table>
<thead>
<tr>
<th>count</th>
<th>统计数量</th>
</tr>
</thead>
<tbody><tr>
<td>max</td>
<td>最大值</td>
</tr>
<tr>
<td>min</td>
<td>最小值</td>
</tr>
<tr>
<td>avg</td>
<td>平均值</td>
</tr>
<tr>
<td>sun</td>
<td>求和</td>
</tr>
</tbody></table>
<p>语法:select 聚合函数 from 表名</p>
<h3 id="查询表2"><a href="#查询表2" class="headerlink" title="查询表2"></a>查询表2</h3><table>
<thead>
<tr>
<th>分组查询</th>
<th>select 字段列表 from 表名 [where 条件] group by 分组字段名 [having 分组过滤条件]</th>
</tr>
</thead>
<tbody><tr>
<td>排序查询</td>
<td>select 字段列表 from 表名 order by 字段1 排序方式1，字段2，排序方式2；</td>
</tr>
<tr>
<td>排序方式</td>
<td>ASC:升序（默认值）     desc:降序</td>
</tr>
<tr>
<td>分页查询</td>
<td>selete 字段列表 from 表名 limit 起始索引,查询记录数；[^起始索引]</td>
</tr>
</tbody></table>
<p>[^起始索引]:<strong><em>起始索引从0开始，起始索引=（查询页码-1）</em>每页显示记录数,如果查询的是第一页数据，起始索引可以省略，直接简写limit 10</strong></p>
<h3 id="编写顺序"><a href="#编写顺序" class="headerlink" title="编写顺序"></a>编写顺序</h3><p><code>***select from where group by having order by limit***</code></p>
<hr>
<h1 id="四、权限"><a href="#四、权限" class="headerlink" title="四、权限"></a>四、权限</h1><h2 id="1、用户操作"><a href="#1、用户操作" class="headerlink" title="1、用户操作"></a>1、用户操作</h2><p>需要移到mysql数据库</p>
<table>
<thead>
<tr>
<th>查询用户</th>
<th>select* from user;</th>
</tr>
</thead>
<tbody><tr>
<td>创建用户</td>
<td>create user ‘用户名‘@’主机名’ identified by ‘密码’;</td>
</tr>
<tr>
<td>修改用户密码</td>
<td>alter user ‘用户名‘@’主机名’ identified mysql_native_password by ‘新密码’;</td>
</tr>
<tr>
<td>删除用户</td>
<td>drop user ‘用户名‘@’主机名’;</td>
</tr>
</tbody></table>
<h2 id="2、权限操作"><a href="#2、权限操作" class="headerlink" title="2、权限操作"></a>2、权限操作</h2><table>
<thead>
<tr>
<th>查询权限</th>
<th>show grants for ‘用户名‘@’密码’;</th>
</tr>
</thead>
<tbody><tr>
<td>授予权限</td>
<td>grants 权限列表 on 数据库名.表名 to ‘用户名‘@’主机名；</td>
</tr>
<tr>
<td>撤销权限</td>
<td>remove 权限列表 on 数据库名.表名 form ‘用户名‘@’主机名’;</td>
</tr>
</tbody></table>
<hr>
<h1 id="五、函数"><a href="#五、函数" class="headerlink" title="五、函数"></a>五、函数</h1><h2 id="1、数值函数"><a href="#1、数值函数" class="headerlink" title="1、数值函数"></a>1、数值函数</h2><table>
<thead>
<tr>
<th>ceil(x)</th>
<th>向上取整</th>
</tr>
</thead>
<tbody><tr>
<td>floor(x)</td>
<td>向下取整</td>
</tr>
<tr>
<td>mod(x,y)</td>
<td>返回x/y的模 余数</td>
</tr>
<tr>
<td>rand()</td>
<td>返回0~1的随机数</td>
</tr>
<tr>
<td>round(x,y)</td>
<td>求参数四舍五入，保留y位小数</td>
</tr>
</tbody></table>
<h2 id="2、字符串函数"><a href="#2、字符串函数" class="headerlink" title="2、字符串函数"></a>2、字符串函数</h2><table>
<thead>
<tr>
<th>concat(s1,s2,s3…sn)</th>
<th>字符串拼接，将s1,s2…拼成一个字符串</th>
</tr>
</thead>
<tbody><tr>
<td>lower(str)</td>
<td>全部转小写</td>
</tr>
<tr>
<td>upper(str)</td>
<td>全部转大写</td>
</tr>
<tr>
<td>lpad(str,n,pad)</td>
<td>用字符串pad对str左边进行填充，直到到达n个字符串长度</td>
</tr>
<tr>
<td>rpad(str,n,pad)</td>
<td>用字符串pad对str右边进行填充，直到到达n个字符串长度</td>
</tr>
<tr>
<td>trim(str)</td>
<td>去掉字符串头部和尾部的空格</td>
</tr>
<tr>
<td>substring(str,start,len)</td>
<td>返回字符串str从start开始len个长度的字符串</td>
</tr>
</tbody></table>
<h2 id="3、日期函数"><a href="#3、日期函数" class="headerlink" title="3、日期函数"></a>3、日期函数</h2><table>
<thead>
<tr>
<th>curdate()</th>
<th>返回当前日期</th>
</tr>
</thead>
<tbody><tr>
<td>certime()</td>
<td>返回当前时间</td>
</tr>
<tr>
<td>now()</td>
<td>返回当前日期和时间</td>
</tr>
<tr>
<td>year(date)</td>
<td>获取指定date的年份</td>
</tr>
<tr>
<td>month(date)</td>
<td>获取指定date的月份</td>
</tr>
<tr>
<td>day(date)</td>
<td>获取指定date的日期</td>
</tr>
<tr>
<td>date_add(date,interval expr type)</td>
<td>返回一个(日期/时间值)加上一个时间间隔expr之后的时间值[^注释date_add]</td>
</tr>
<tr>
<td>datediff(date1,date2)</td>
<td>返回起始时间date1和结束时间date2之间的天数[^datediff]</td>
</tr>
</tbody></table>
<p>[^注释date_add]: <em><strong>select date_add(now(),interval 70 day )  指当前时间往后推70天</strong></em><br>[^datediff]: <em><strong>差值是 date1 - date2</strong></em></p>
<h2 id="4、流程控制"><a href="#4、流程控制" class="headerlink" title="4、流程控制"></a>4、流程控制</h2><h3 id="流程函数"><a href="#流程函数" class="headerlink" title="流程函数"></a>流程函数</h3><table>
<thead>
<tr>
<th align="left">函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left">if(value,t,f)</td>
<td>如果value为true,则返回f,否则返回t</td>
</tr>
<tr>
<td align="left">ifnull(value1,value2)</td>
<td>如果value1不为空,返回value1,否则返回value2</td>
</tr>
<tr>
<td align="left">case when [val1] then [res1]…else [default] end</td>
<td>如果val1为true，返回res1,…否则返回default默认值</td>
</tr>
<tr>
<td align="left">case [expr] when [val1] then [res1] …else [default] end</td>
<td>如果expr的值等于val1,返回res1,…否则返回default默认值</td>
</tr>
</tbody></table>
<h3 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h3><ul>
<li>统计各个班各个学员的成绩，展示规则如下：</li>
<li><ul>
<li><code>&gt;=85</code>展示优秀</li>
<li><code>&gt;=65</code>展示及格</li>
<li>否则展示不及格</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>math</th>
<th>english</th>
<th>chinese</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>TOM</td>
<td>67</td>
<td>88</td>
<td>95</td>
</tr>
<tr>
<td>2</td>
<td>ROSE</td>
<td>23</td>
<td>66</td>
<td>90</td>
</tr>
<tr>
<td>3</td>
<td>JACK</td>
<td>56</td>
<td>98</td>
<td>76</td>
</tr>
</tbody></table>
<pre><code class="MYSQL">SELECT id,name,
(case when math &lt; 65 then &#39;不及格&#39; when math between 65 and 84 then &#39;及格&#39; else &#39;优秀&#39; end) as &#39;数学&#39;,
(case when english &lt; 65 then &#39;不及格&#39; when english between 65 and 84 then &#39;及格&#39; else &#39;优秀&#39; end) as &#39;英语&#39;,
(case when chinese &lt; 65 then &#39;不及格&#39; when chinese between 65 and 84 then &#39;及格&#39; else &#39;优秀&#39; end) as &#39;语文&#39;
from score
</code></pre>
<hr>
<h1 id="六、约束"><a href="#六、约束" class="headerlink" title="六、约束"></a>六、约束</h1><h2 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h2><ol>
<li><p>概念：约束是作用在表中字段上的规则，用于限制存储在表中的数据</p>
</li>
<li><p>目的：保证数据库中数据的正确、有效和完整性</p>
</li>
<li><p>分类：</p>
<table>
<thead>
<tr>
<th>约束</th>
<th>描述</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>非空约束</td>
<td>限制该字段的数据不能为null</td>
<td>not null</td>
</tr>
<tr>
<td>唯一约束</td>
<td>保证该字段的所有数据都是唯一的、不重复的</td>
<td>unique</td>
</tr>
<tr>
<td>主键约束</td>
<td>主键是一行数据的唯一标识，要求非空且唯一</td>
<td>primary key</td>
</tr>
<tr>
<td>默认约束</td>
<td>保存数据时，如果未指定该字段的值，则为默认值</td>
<td>default</td>
</tr>
<tr>
<td>检查约束</td>
<td>保证字段值满足某一个条件</td>
<td>check</td>
</tr>
<tr>
<td>外键约束</td>
<td>用来让两张数据之间建立连接，保证数据的一致性和完整性</td>
<td>foreign key</td>
</tr>
</tbody></table>
</li>
</ol>
<h2 id="2、约束演示"><a href="#2、约束演示" class="headerlink" title="2、约束演示"></a>2、约束演示</h2><h3 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h3><p>根据需求，完成表结构的创建</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>字段含义</th>
<th>字段类型</th>
<th>约束条件</th>
<th>约束关键字</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>ID唯一标志</td>
<td>int</td>
<td>主键，并且自动增长</td>
<td>primary key,auto_increment</td>
</tr>
<tr>
<td>name</td>
<td>姓名</td>
<td>varchar(10)</td>
<td>不为空且唯一</td>
<td>not null,unique</td>
</tr>
<tr>
<td>age</td>
<td>年龄</td>
<td>int</td>
<td>大于0，并且小于等于120</td>
<td>check</td>
</tr>
<tr>
<td>status</td>
<td>状态</td>
<td>char(1)</td>
<td>如果没有该值，默认为1</td>
<td>default</td>
</tr>
<tr>
<td>gender</td>
<td>性别</td>
<td>char(1)</td>
<td>无</td>
<td></td>
</tr>
</tbody></table>
<p><em><strong>创建表</strong></em></p>
<pre><code class="mysql">create table user(
id int primary key auto_increment comment &#39;主键&#39;,
name varchar(10) not null unique comment &#39;姓名&#39;,
age int unsigned check ( age between 0 and 120) comment &#39;年龄&#39;,
status char(1) default &#39;1&#39; comment &#39;状态&#39;,
gender char(1) comment &#39;性别&#39;
)comment &#39;用户表&#39;
</code></pre>
<hr>
<p><em><strong>插入数据</strong></em></p>
<pre><code class="mysql">insert into user(name,age,status,gender) values
(&#39;TOM1&#39;,25,1,&#39;男&#39;),
(&#39;TOM2&#39;,26,0,&#39;男&#39;)
 insert into user(name,age,gender) values(&#39;TOM3&#39;,19,&#39;男&#39;)
</code></pre>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>age</th>
<th>status</th>
<th>gender</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>TOM1</td>
<td>25</td>
<td>1</td>
<td>男</td>
</tr>
<tr>
<td>2</td>
<td>TOM2</td>
<td>26</td>
<td>0</td>
<td>男</td>
</tr>
<tr>
<td>3</td>
<td>TOM3</td>
<td>19</td>
<td>1</td>
<td>男</td>
</tr>
</tbody></table>
<h2 id="3、外键约束"><a href="#3、外键约束" class="headerlink" title="3、外键约束"></a>3、外键约束</h2><ul>
<li>概念</li>
<li><ul>
<li>用来让两张表之间建立数据连接，从而保证数据的一致性和完整性</li>
</ul>
</li>
<li>语法</li>
<li><ul>
<li>添加外键</li>
</ul>
</li>
</ul>
<pre><code class="mysql">create table 表名(
        字段名 数据类型,
        ...
        [constraint][外键名称] foreign key(外键字段名) references 主表(主表列名)
)
</code></pre>
<pre><code class="mysql">alter table 表名 add constraint 外键名称 foreign key(外键字段名) references 主表(主表列名) 

alter table emp_ add constraint fk_emp_dept_id foreign key (dept_id) references dept(id)
</code></pre>
<ul>
<li><ul>
<li>删除外键</li>
</ul>
</li>
</ul>
<pre><code class="mysql">alter table 表名 drop foreign key 外键名称;

alter table emp_ drop foreign key fk_emp_dept_id;
</code></pre>
<h3 id="删除-更新行为"><a href="#删除-更新行为" class="headerlink" title="删除/更新行为"></a>删除/更新行为</h3><table>
<thead>
<tr>
<th>行为</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>no action</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新(与restrict一致)</td>
</tr>
<tr>
<td>restrict</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新(与no action一致)</td>
</tr>
<tr>
<td>cascade</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有，则也删除/更新外键在子表中的记录</td>
</tr>
<tr>
<td>set null</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键的值为null(这就要求该外键允许取null)</td>
</tr>
<tr>
<td>set default</td>
<td>父表有变更时，子健将外键列设置成一个默认的值(lnnodb不支持)</td>
</tr>
</tbody></table>
<p><em><strong>set null/set null</strong></em></p>
<pre><code class="mysql">alter table 表名 add constraint 外键名称 foreign key(外键字段) references 主表名(主表字段名)
on update (cascade) on delete (cascade);
</code></pre>
<h1 id="七、多表查询"><a href="#七、多表查询" class="headerlink" title="七、多表查询"></a>七、多表查询</h1><h2 id="1、多表关系"><a href="#1、多表关系" class="headerlink" title="1、多表关系"></a>1、多表关系</h2><pre><code class="text">概述

项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构
之间也存在着某种练习，基本上分为三种

&gt;--一对多(多对一)
&gt;--多对多
&gt;--一对一
</code></pre>
<h3 id="案例-3"><a href="#案例-3" class="headerlink" title="案例"></a>案例</h3><h4 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h4><pre><code class="text">部门与员工的关系
关系：一个部门对应多个员工，一个员工对应一个部门
实现：再多的一方设立外键指向单一的一方
</code></pre>
<h4 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h4><pre><code class="text">案例：学生与课程之间的关系
关系：一个学生可以选择多门课程，一门课程也可以供多个学生选择
实现：建立第三张中间表，中间至少包含两个外键，分别关联两方主键
</code></pre>
<h4 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h4><pre><code class="text">案例：用户与用户详情的关系
关系：一对一关系，多用于单表拆分，将一张基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率
实现：任意一方加入外键，关联另一方的主键，并设置外键是唯一的(unique)
</code></pre>
<h3 id="2、多表查询概述"><a href="#2、多表查询概述" class="headerlink" title="2、多表查询概述"></a>2、多表查询概述</h3><pre><code>概述：指从多张表中查询数据
笛卡尔积：笛卡尔积是指在数学中，两个集合A集合和B集合的所有组合情况。(在多表查询时，需要消除无效的笛卡尔积)
</code></pre>
<pre><code class="mysql">select * from emp , dept where emp.dept_id = dept.id;(让他们之间的联系的两个键相等)
</code></pre>
<h4 id="多表查询分类"><a href="#多表查询分类" class="headerlink" title="多表查询分类"></a>多表查询分类</h4><ul>
<li>多表查询分类<ul>
<li>连接查询<ul>
<li>内连接：相当于查询A、B交集部分</li>
<li>外连接：<ul>
<li>左外连接：查询左表所有数据，以及两张表交集部分数据</li>
<li>右外连接：查询右表所有数据，以及两张表交集部分数据</li>
</ul>
</li>
<li>自连接：当前表与自身的连接查询，自连接必须使用别名</li>
</ul>
</li>
<li>子查询</li>
</ul>
</li>
</ul>
<h1 id="八、JDBC"><a href="#八、JDBC" class="headerlink" title="八、JDBC"></a>八、JDBC</h1><p>==JDBC就是使用Java语言操作关系型数据库的一套API==</p>
<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h2><p>概述</p>
<ul>
<li>JDBC就是使用Java语言操作关系型数据库的一套APl</li>
<li>全称：（JavaDataBaseConnectivity）Java数据库连接</li>
</ul>
<p>JDBC本质：</p>
<ul>
<li>官方（sun公司）定义的一套操作所有关系型数据库的规则，即接口</li>
<li>各个数据库厂商去实现这套接口，提供数据库驱动ar包</li>
<li>我们可以使用这套接口（JDBC）编程，真正执行的代码是驱动jar包<br>中的实现类</li>
</ul>
<p>JDBC好处：</p>
<ul>
<li>各数据库厂商使用相同的接口，Java代码不需要针对不同数据库分别开发</li>
<li>可随时替换底层数据库，访问数据库的Java代码基本不变</li>
</ul>
<h2 id="2-入门"><a href="#2-入门" class="headerlink" title="2.入门"></a>2.入门</h2><p>步骤</p>
<ol>
<li>创建工程，导入jar包</li>
<li>注册驱动</li>
<li>获取链接</li>
<li>定义SQL语句</li>
<li>获取SQL对象</li>
<li>执行SQL</li>
<li>处理返回结果</li>
<li>释放资源</li>
</ol>
<pre><code class="java">import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
public class Demo &#123;
    public static void main(String[] args) throws Exception &#123;
        //1.注册驱动
        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);//现在可以不写
        //2.获取连接
        String url = &quot;jdbc:mysql://127.0.0.1:3306/try&quot;;
        String user= &quot;root&quot;;
        String psd = &quot;123456&quot;;
        Connection conn = DriverManager.getConnection(url,user,psd);
        //3.定义sql语句
        String sql = &quot;update emp set age = 20 where id = 000001&quot;;
        //4.获取执行sql的对象
        Statement sta = conn.createStatement();
        //5.执行sql
        int row = sta.executeUpdate(sql);
        System.out.println(row);
        //6.释放资源
        sta.close();
        conn.close();
    &#125;
&#125;
</code></pre>
<h2 id="3-API"><a href="#3-API" class="headerlink" title="3.API"></a>3.API</h2><h3 id="3-1-DriverManager"><a href="#3-1-DriverManager" class="headerlink" title="3.1 DriverManager"></a>3.1 DriverManager</h3><p>作用</p>
<ol>
<li><p>注册驱动</p>
<p><code>Class.forName（com.mysqljdbc.Driver”</code></p>
</li>
<li><p>获取数据库连接</p>
<pre><code class="java">static Connection  getconnection(string uxl，string user,stringpassword）；

url：连接路径；
语法：jdbc:mysql://p地址（域名）：端口号/数据库名称？参数键值对1&amp;参数键值对2.
示例：jdbc:mysql//127.0.0.1：3306/db1
细节：
    如果连接的是本机mysql服务器，并目mysq服务默认端口是3306，则ur可以简写为：jdbcmysql//数据库名称？参数键值对
    配置useSsL=false参数，禁用安全连接方式，解决警告提示
                                 
user：用户名
password：密码
</code></pre>
</li>
</ol>
<h3 id="3-2-Connection"><a href="#3-2-Connection" class="headerlink" title="3.2 Connection"></a>3.2 Connection</h3><p>作用</p>
<ul>
<li><p>获取执行SOL的对象</p>
<ol>
<li><p>普通执行SQL对象</p>
<p><code>StatementO createStatement()</code></p>
</li>
<li><p>预编译SQL的执行SQL对象：防止SQL注入</p>
<p><code>PreparedStatement prepareStatement (sql）</code></p>
</li>
<li><p>执行存储过程的对缘</p>
<p><code>CallableStatement prepareCall(sql）</code></p>
</li>
</ol>
</li>
<li><p>管理事务</p>
<ol>
<li><p>MySQL事务管理</p>
<pre><code class="java">开启事务：BEGIN:/STARTTRANSACTION
提交事务：COMMIT
回滚事务：ROLLBACK
    
MYSQL默认自动提交事务
</code></pre>
</li>
<li><p>JDBC事务管理：Connection接口中定义了3个对应的方法</p>
<pre><code class="java">开启事务：setAutoCommitbooleanautoCommit：true为自动提交事务；false为手动提交事务，即为开启事务
提交事务：commit（）
回滚事务：rollback（）
</code></pre>
</li>
</ol>
<h3 id="3-3-Statement"><a href="#3-3-Statement" class="headerlink" title="3.3 Statement"></a>3.3 Statement</h3><p>作用</p>
<ul>
<li>执行SQL语句</li>
</ul>
<pre><code class="java’">int executeUpdate（sql）：执行DML、DDL语句
返回值：（1）DML语句影响的行数（2）DDL渴句执行后，执行成功也可能返回0

ResultSet executeQueny（sql）：执行DQL语句
返回值：ResultSet结果集对象
</code></pre>
<h3 id="3-4-ResultSet"><a href="#3-4-ResultSet" class="headerlink" title="3.4 ResultSet"></a>3.4 ResultSet</h3><p>作用</p>
<ol>
<li><p>封装了DQL查询语句的结果</p>
<p><code>ResultSetstmt.executeQueny（sql）：执行DQL语句，返回ResultSet对象</code></p>
</li>
<li><p>获取查询结果</p>
<pre><code class="java">boolean next()：（1）将光标从当前位置向前移动一行（2）判断当前行是否为有效行
返回值：
    true：有效行，当前行有数据
    false：无效行，当前行没有数据
</code></pre>
<pre><code class="java">XXX getXxx（参数）：获取数据
Xxx：数据类型；如：intgetint参数）：StinggetString（参数）
参数：
    int：列的编号，从1开始
    String：列的名称
</code></pre>
</li>
</ol>
<p>使用步骤</p>
<ol>
<li><p>游标向下移动一行，并判断该行否有数据：next()</p>
</li>
<li><p>获取数据：getXxx（参数）</p>
<pre><code class="java">循环判断游标是否是最后一行未尾
wnile(rs.next()&#123;
//获取数据
rs.getXxx（参数）；
&#125;
</code></pre>
</li>
</ol>
</li>
</ul>
<pre><code class="java">import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class Demo &#123;
    public static void main(String[] args) throws Exception &#123;

        String url = &quot;jdbc:mysql://127.0.0.1:3306/try&quot;;
        String user= &quot;root&quot;;
        String psd = &quot;123456&quot;;
        String sql = &quot;select id,name,age from emp&quot;;
        try(Connection conn = DriverManager.getConnection(url,user,psd);
            Statement sta = conn.createStatement();) &#123;
            ResultSet rs = sta.executeQuery(sql);
            List&lt;Account&gt; list = new ArrayList&lt;&gt;();
            while (rs.next())&#123;
                int id = rs.getInt(&quot;id&quot;);
                String name = rs.getString(&quot;name&quot;);
                int age = rs.getInt(&quot;age&quot;);
                list.add(new Account(id,name,age));
            &#125;
            System.out.println(list);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
        &#125;
    &#125;
&#125;
</code></pre>
<h3 id="3-3Preparedstatement"><a href="#3-3Preparedstatement" class="headerlink" title="3.3Preparedstatement"></a>3.3Preparedstatement</h3><p>作用</p>
<ul>
<li>预编译SQL语句并执行：预防SQL注入问题</li>
</ul>
<p>SQL注入</p>
<ul>
<li>SQL注入是通过操作输入来修改事先定义好的SQL语句，用以达到执行代码对服务器进行攻击的方法</li>
</ul>
<h3 id="3-4-PreparedStatement"><a href="#3-4-PreparedStatement" class="headerlink" title="3.4 PreparedStatement"></a>3.4 PreparedStatement</h3><p>作用</p>
<ul>
<li>预编译SQL并执行SQL语句</li>
</ul>
<p>步骤</p>
<ol>
<li><p>获取PreparedStatement对象</p>
<pre><code class="java">//SQL语句中的参数值，使用？占位符替代
String sql = “select * from user where username = ? and password = ?；
//通过Connection对象获取，并传入对应的sql语句
PreparedStatement pstmt = conn.prepareStatement
</code></pre>
</li>
<li><p>设置参数值</p>
<pre><code class="java">PreparedStatement对象：setxxx（参数1，参数2）：给？赋值
&gt;Xxx：数据类型；如setlnt（参数1，参数2）
参数：
口 参数1：？的位置编号，从1开始
口 参数2：？的值
</code></pre>
</li>
<li><p>执行SQL</p>
<p><code>executeupdate0:/executeQuery0；：不需要再传递sq</code></p>
</li>
</ol>
<p>好处</p>
<ol>
<li>预编译SQL，性能更高</li>
<li>防止SQL注入：将敏感字符进行转义</li>
</ol>
<p>步骤</p>
<ol>
<li><p>Preparedstatement预编译功能开启：useServerPrepStmts = true</p>
</li>
<li><p>配置MySQL执行日志（重启mysql服务后生效）</p>
<pre><code class="java">log-output=FILE
general-log=1
general_log_file=&quot;D:\mysql.log&quot;
slow-query-log-1
slow_query_log_file=&quot;D\mysql_slow.log&quot;
long_query_time=2
</code></pre>
</li>
</ol>
<p>原理</p>
<ol>
<li>在获取Preparedstatement对象时，将sql语句发送给mysql服务器进行检查，编译（这些步骤很耗时）</li>
<li>执行时就不用再进行这些步骤了，速度更快</li>
<li>如果sqi模板一样，则只需要进行一次检查、编译</li>
</ol>
<h2 id="4-数据连接池"><a href="#4-数据连接池" class="headerlink" title="4.数据连接池"></a>4.数据连接池</h2><h3 id="4-1-简介"><a href="#4-1-简介" class="headerlink" title="4.1 简介"></a>4.1 简介</h3><ul>
<li>数据库连接池是个容器，负责分配、管理数据库连接（Connection）</li>
<li>它允许应用程序重复使用一个现有的数据库连接，而不是再重新建立一个；</li>
<li>释放空闲时间超过最大空闲时间的数据库连接来避免因为没有释放数据库连接而引起的数据库连接遗漏</li>
</ul>
<p>好处</p>
<ul>
<li>资源重用</li>
<li>提升系统响应速度</li>
<li>避免数据库连接遗漏</li>
</ul>
<p>实现</p>
<ul>
<li><p>标准接口：DataSource</p>
<ul>
<li><p>官方（SUN）提供的数据库连接池标准接口，由第三方组织实现此接口。</p>
</li>
<li><p>功能：获取连接</p>
<p>`标准接口：DataSource</p>
<ul>
<li><p>官方（SUN）提供的数据库连接池标准接口，由第三方组织实现此接口。</p>
</li>
<li><p>功能：获取连接</p>
<p><code>Connection getConnection</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>常见的数据库连接池</p>
<ul>
<li>DBCP</li>
<li>C3P0</li>
<li>DRUID</li>
</ul>
<p>DRUID(德鲁伊)</p>
<ul>
<li>Druid连接池是阿里巴巴开源的数据库连接池项目</li>
<li>功能强大，性能优秀，是Java语言最好的数据库连接池之一</li>
</ul>
<h3 id="4-2-案例"><a href="#4-2-案例" class="headerlink" title="4.2 案例"></a>4.2 案例</h3><pre><code class="java">import com.alibaba.druid.pool.DruidDataSourceFactory;
import com.it.Demo;
import lombok.SneakyThrows;
import org.junit.Test;

import javax.sql.DataSource;
import java.io.FileInputStream;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;
import java.util.Properties;

public class BrandTest &#123;
    /*
    查询所有
    1.SQL:select * from tb_brand
    2.参数：不需要
    3.结果：List&lt;Brand&gt;
     */
    @SneakyThrows
    @Test
    public void testSelectAll()&#123;
        Properties pro = new Properties();
        pro.load(new FileInputStream(&quot;src\\com\\it\\druid.properties&quot;));
        DataSource dataSource = DruidDataSourceFactory.createDataSource(pro);
        try (Connection conn = dataSource.getConnection())&#123;
            String sql = &quot;select * from tb_brand&quot;;
            try (PreparedStatement pre = conn.prepareStatement(sql);
                 ResultSet res = pre.executeQuery()) &#123;
                List&lt;Demo&gt; demo = new ArrayList&lt;&gt;();
                Demo d = new Demo();
                while (res.next()) &#123;
                    int id = res.getInt(&quot;id&quot;);
                    String brandName = res.getString(&quot;brand_name&quot;);
                    String companyName = res.getString(&quot;company_name&quot;);
                    int ordered = res.getInt(&quot;ordered&quot;);
                    String description = res.getString(&quot;description&quot;);
                    int status = res.getInt(&quot;STATUS&quot;);
                    d.setId(id);
                    d.setBrandName(brandName);
                    d.setCompanyName(companyName);
                    d.setOrdered(ordered);
                    d.setDescription(description);
                    d.setStatus(status);
                    demo.add(d);
                &#125;
                System.out.println(demo);
            &#125;
        &#125;
    &#125;
&#125;
</code></pre>
<h1 id="MAVEN"><a href="#MAVEN" class="headerlink" title="MAVEN"></a>MAVEN</h1><p>Maven是专门用于管理和构建」ava项目的工具，它的主要功能有：</p>
<ul>
<li>提供了一套标准化目结构</li>
<li>提供了一套标准化的构建流程（编译，测试，打包，发布…）</li>
<li>提供了一套依赖管理机制</li>
</ul>
<p>依赖管理</p>
<ul>
<li>依赖管理其实就是管理亻尔项目所依赖的第三方资源r包、插件….）</li>
</ul>
<h2 id="1-简介-1"><a href="#1-简介-1" class="headerlink" title="1.简介"></a>1.简介</h2><p>ApacheMaven是一个项目管理和构建T具，它基于项目对象模型<br>(POM)的概念，通过一小段描述信息来管理项目的构建、报告和文档<br>官网：<a target="_blank" rel="noopener" href="http://maven.apache.org/">Maven官网</a></p>
<p>仓库分类：</p>
<ul>
<li><p>本地仓库．自己计算机上的一个目录</p>
</li>
<li><p>中央仓库．由团队维护的全球唯一的仓库地址：<a target="_blank" rel="noopener" href="https://rep01.maven.org/maven2/">仓库地址</a></p>
<p>(远程仓库服）：一般由公司团队搭建的私有仓库</p>
</li>
</ul>
<p>当项目中使用坐标引入对应依引包后，首先会查找本地仓库中是否有对应的jar包：</p>
<ul>
<li>如果有，则项目直接引用；</li>
<li>如果没有，则去中央仓库中下载对应的jar包到本地仓库。</li>
<li>还可以搭建远程仓库，将来ja泡的查找顺序<br>本地仓库-&gt;远程仓库-&gt;中央仓库</li>
</ul>
<h2 id="2-常用命令"><a href="#2-常用命令" class="headerlink" title="2.常用命令"></a>2.常用命令</h2><p>Maven常用命令</p>
<ol>
<li>compile·编译</li>
<li>clean:清理</li>
<li>test：测试</li>
<li>package:打包</li>
<li>install:安装</li>
</ol>
<p>Maven生命周期</p>
<ul>
<li>Maven构建项目生命周期描述的是一次构建过程经历经历了多少个事件</li>
<li>Maven对项目构建的生命周期划分为3套<ol>
<li>clean:清理工作</li>
<li>default:核心工作，例如编译，测试，打包，安装等</li>
<li>site:产生报告，发布站点等</li>
<li>同一生命周期内，执行后边的命令，前边的所有命令会自动执行</li>
</ol>
</li>
</ul>
<h2 id="3-Maven坐标"><a href="#3-Maven坐标" class="headerlink" title="3.Maven坐标"></a>3.Maven坐标</h2><p>什么是坐标？</p>
<ul>
<li>Maven中的坐标是资源的唯一标识</li>
<li>使用坐标来定义项目或引入项目中需要的依赖</li>
</ul>
<p>Maven坐标主要组成</p>
<ul>
<li>groupld:定义当前Maven项目隶属组织名称（通常是域名反写，例如：com.itheima)</li>
<li>artifactld，定义当前Maven项目名称（通常是模块名称，例如order-service、goods-service)</li>
<li>version:定义当前项目版本量</li>
</ul>
<p>创建Maven项目</p>
<ol>
<li>创建模块选择Maven,点击Next</li>
<li>填写模块名称，坐标信息，点击finish,创建完成</li>
<li>编写HelloWorId,并运行</li>
</ol>
<p>导入Maven项目</p>
<ol>
<li>选择右侧Maven面板，点击+号</li>
<li>选中对应项目的四m，×m丨文件，双击即可</li>
<li>如果没有Maven面板，选择    ViewAppearanceToolWindowBars</li>
</ol>
<h2 id="4-Maven依赖"><a href="#4-Maven依赖" class="headerlink" title="4.Maven依赖"></a>4.Maven依赖</h2><p>以来范围</p>
<ul>
<li>通过设置坐标的依赖范围(scope),可以设置对应jar包的作用范围：编译境、测试环境、运行环境</li>
</ul>
<table>
<thead>
<tr>
<th>依赖范围</th>
<th align="center">编译classpath</th>
<th align="center">测试classpath</th>
<th align="center">运行classpath</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>compile</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td>logback</td>
</tr>
<tr>
<td>test</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">-</td>
<td>Junit</td>
</tr>
<tr>
<td>provided</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">-</td>
<td>servlet-api</td>
</tr>
<tr>
<td>runtime</td>
<td align="center">-</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td>jdbc驱动</td>
</tr>
<tr>
<td>system</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">-</td>
<td>存储在本地的jar包</td>
</tr>
</tbody></table>
<p>==import: 引入DependencyManagement==</p>
<h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><p>什么EMyBatis?</p>
<ul>
<li>MyBatis是一款优秀的持久层框架，用于简化JDBC开发</li>
<li>MyBatis本是Apache的一个开源项目iBatis,2010年这个项目由apachesoftware</li>
<li>foundation迁移到了goog|ecode,并且改名为MyBatis。2013年11月迁移到Github</li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/index.html">官网</a></li>
</ul>
<p>持久层</p>
<ul>
<li>负责将数据到保存到数据库的那一层代码</li>
<li>JavaEE三层架构：表现层、业务层、持久层</li>
</ul>
<p>框架</p>
<ul>
<li>框架就是一个半成品软件，是一套可重用的、通用的、软件基础代码模型</li>
<li>在框架的基础之上构是簌件编写更加高效、规范、通用、可扩展</li>
</ul>
<p>JDBC缺点</p>
<ol>
<li>硬编码</li>
<li>操作繁琐</li>
</ol>
<h2 id="1-入门"><a href="#1-入门" class="headerlink" title="1.入门"></a>1.入门</h2><pre><code class="java">import com.it.pojo.User;
import lombok.SneakyThrows;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;

import java.io.IOException;
import java.io.InputStream;
import java.util.List;

/**
 * @author Administrator
 */
public class MyBatisDemo &#123;
    @SneakyThrows
    public static void main(String[] args) &#123;
        //1.加载mybatis的核心配置文件，获取sqlSessionFactory
        String resource = &quot;mybatis-config.xml&quot;;
        InputStream inputStream = Resources.getResourceAsStream(resource);
        SqlSessionFactory sqlSessionFactory = new                                 SqlSessionFactoryBuilder().build(inputStream);

        //2.获取sqlSession，执行sql
        SqlSession session = sqlSessionFactory.openSession();
        //3.执行sql
        List&lt;User&gt; user = session.selectList(&quot;test.selectAll&quot;);
        System.out.println(user);
    &#125;
&#125;
</code></pre>
<h2 id="2-Mapper代理"><a href="#2-Mapper代理" class="headerlink" title="2.Mapper代理"></a>2.Mapper代理</h2><p>目的</p>
<ul>
<li>解决原生方式中的硬编码</li>
<li>简化后期执行SQL</li>
</ul>
<p>步骤</p>
<ol>
<li>定义SQL映射文件同名的Mapper借口，并将Mapper接口和SQL映射文件放置在同一目录下</li>
<li>设置SQL映射文件的namespace属性为Mapper接口权限定名</li>
<li>在Mapper接口中定义方法，方法名就是SQL映射文件中sq晤句的id，并保持参数类型和返回值类型一致</li>
<li>编码<ul>
<li>通过SqlSession的getMapper方氵去获取Mapper接口的代理对象</li>
<li>调用对应方法完成sq]的执行</li>
</ul>
</li>
</ol>
<p>==细节：如果Mapper接口名称和SQL映射文件名称相同，并在同一目录下，则可以使用包扫描的方式简化SQL映射文件的加载==</p>
<pre><code class="java">//3.执行UserMapper接口的代理对象
UserMapper mapper = session.getMapper(UserMapper.class);
List&lt;User&gt; users = mapper.selectAll();
System.out.println(users);
</code></pre>
<h2 id="3核心配置文件"><a href="#3核心配置文件" class="headerlink" title="3核心配置文件"></a>3核心配置文件</h2><table>
<thead>
<tr>
<th>代码</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>enenvironments</td>
<td>配置数据库连接环境信息。可以配置多个environment,通过default属性切换不同的environment</td>
</tr>
<tr>
<td>typeAliases</td>
<td>设置别名</td>
</tr>
<tr>
<td>mappers</td>
<td>加载SQL映射文件</td>
</tr>
</tbody></table>
<p>结构</p>
<ul>
<li><p>configuration（配首）</p>
<ul>
<li>properties（属性）</li>
<li>settings（设置〕</li>
<li>typeAliases（类型别名）</li>
<li>typeHandlers（类型处理器〕</li>
<li>objectFactory〔对象工厂）</li>
<li>plugins插件</li>
<li>environments（环境变量）<ul>
<li>environment（环境变量）</li>
<li>transactionManager（事务管理器）</li>
<li>dataSource〔数啹源〕</li>
</ul>
</li>
<li>databaseldProvider（数据库厂商标识）</li>
<li>mappers（映射器）</li>
</ul>
</li>
<li><p>类型别名</p>
<pre><code class="xml">&lt;typeAIiases&gt;
    &lt;packagename=&quot;com/itheima.pojo&quot;/&gt;
&lt;/typeAIiases&gt;
</code></pre>
<p>==配置各个标签时，需要遵守前后顺序==</p>
</li>
</ul>
<h2 id="4-配置文件完成增删改查"><a href="#4-配置文件完成增删改查" class="headerlink" title="4.配置文件完成增删改查"></a>4.配置文件完成增删改查</h2><h3 id="4-1查询"><a href="#4-1查询" class="headerlink" title="4.1查询"></a>4.1查询</h3><p>数据库表的字段名称和实体类的属性名称不一样，则不能自动封装数据</p>
<ul>
<li>起别名：对不一样的列名起别名，让别名和实体类的属性名一样<ul>
<li>缺点：每次查询都要定义一次别名</li>
</ul>
</li>
<li>sql片段<ul>
<li>缺点：不灵活</li>
</ul>
</li>
<li>resu1-tMap：<ol>
<li>定义<resultMap>标签</resultMap></li>
<li>在<select>标签中，使用resultMap属性替换resultType属性</select></li>
</ol>
</li>
</ul>
<pre><code class="xml">&lt;mapper namespace=&quot;com.it.mapper.BrandMapper&quot;&gt;
    &lt;resultMap id=&quot;brandResultMap&quot; type=&quot;Brand&quot;&gt;
        &lt;!--        id:唯一标识
                    type：映射的类型，支持别名
        --&gt;
        &lt;result column=&quot;brand_name&quot; property=&quot;brandName&quot;/&gt;
        &lt;result column=&quot;company_name&quot; property=&quot;companyName&quot;/&gt;
        &lt;!--id：完成主键字段的映射 result：完成一般字段的映射
            colum:列名 property：实体类的属性名
            --&gt;
    &lt;/resultMap&gt;
    &lt;select id=&quot;selectAll&quot; resultMap=&quot;brandResultMap&quot;&gt;
            select * from tb_brand;
    &lt;/select&gt;
    &lt;/select&gt;
        &lt;!--
        参数占位符
           1. #&#123;&#125;：会将其替换为？为了防止sql注入
           2. $&#123;&#125;:拼sql，会存在sql注入问题
           3.使用时机：
                参数传递时用#&#123;&#125;
                表名或者列名不固定的情况下用$&#123;&#125;
        参数类型：parameterType:可以省略
        特殊字符处理：
            1.转义字符
            2.CDATA区：
        --&gt;
    &lt;select id=&quot;selectById&quot; resultMap=&quot;brandResultMap&quot;&gt;
            select * from tb_brand where id= #&#123;id&#125;;
    &lt;/select&gt;
    &lt;select id=&quot;selectByCondition&quot; resultMap=&quot;brandResultMap&quot;&gt;
        select * from tb_brand where status = #&#123;status&#125; 
        and company_name     like #&#123;companyName&#125;
        and brand_name like #&#123;brandName&#125;;
    &lt;/select&gt;
    &lt;select id=&quot;selectByCondition&quot; resultMap=&quot;brandResultMap&quot;&gt;
        /*
        动态条件查询
        *if：条件判断
            *test：逻辑表达式
        *问题：第一个条件为空会报错
            *恒等式，在where后面加上恒等式
            **&lt;![CDATA[
            &lt;where
            ]]&gt;替换where关键字

        */

        select * from tb_brand
        &lt;where&gt;
              &lt;if test=&quot;status != null&quot;&gt;status = #&#123;status&#125;&lt;/if&gt;
              &lt;if test=&quot;companyName !=null and companyName != &#39;&#39;&quot;&gt;and         company_name like #&#123;companyName&#125;&lt;/if&gt;
              &lt;if test=&quot;brandName !=null and brandName != &#39;&#39;&quot;&gt;and             brand_name like #&#123;brandName&#125;&lt;/if&gt;
        &lt;/where&gt;
    &lt;/select&gt;
    &lt;select id=&quot;selectConditionSingle&quot; resultMap=&quot;brandResultMap&quot;&gt;
        select * from tb_brand
        where
        &lt;choose&gt;
            &lt;when test=&quot;status != null&quot;&gt;status = #&#123;status&#125;&lt;/when&gt;
            &lt;when test=&quot;companyName!=null&quot;&gt;company_name like #&#123;companyName&#125;&lt;/when&gt;
            &lt;when test=&quot;brandName!=null&quot;&gt;brand_name like #&#123;brandName&#125;&lt;/when&gt;
            &lt;otherwise&gt;1=1&lt;/otherwise&gt;
        &lt;/choose&gt;
    &lt;/select&gt;
    &lt;insert id=&quot;add&quot;&gt;
        insert into tb_brand (brand_name, company_name, ordered, description, status)
        values (#&#123;brandName&#125;,#&#123;companyName&#125;,#&#123;ordered&#125;,#&#123;description&#125;,#&#123;status&#125;);
    &lt;/insert&gt;
    &lt;update id=&quot;update&quot;&gt;
        update tb_brand
        &lt;set&gt;
            &lt;if test=&quot;brandName != null and brandName != &#39;&#39;&quot;&gt;brand_name = #&#123;brandName&#125;,&lt;/if&gt;
            &lt;if test=&quot;companyName != null and companyName != &#39;&#39;&quot;&gt;company_name = #&#123;companyName&#125;,&lt;/if&gt;
            &lt;if test=&quot;ordered != null and ordered != &#39;&#39;&quot;&gt;ordered = #&#123;ordered&#125;,&lt;/if&gt;
            &lt;if test=&quot;description != null and description != &#39;&#39;&quot;&gt;description = #&#123;description&#125;,&lt;/if&gt;
            &lt;if test=&quot;status != null and status != &#39;&#39;&quot;&gt;status = #&#123;status&#125;&lt;/if&gt;
        &lt;/set&gt;
        where id = #&#123;id&#125;;
    &lt;/update&gt;
    &lt;delete id=&quot;deleteById&quot;&gt;
        delete from tb_brand where id = #&#123;id&#125;;
    &lt;/delete&gt;
    &lt;/delete&gt;
    &lt;delete id=&quot;deleteByIds&quot;&gt;
        /*
         mybatis会将数组参数封装成一个map集合
            *默认 :array=数组
            *使用@paran注解改变map集合默认key的名称
         */
        delete from tb_brand where id
        in
            &lt;foreach collection=&quot;array&quot; item=&quot;id&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;
                #&#123;id&#125;
            &lt;/foreach&gt;
    &lt;/delete&gt;

&lt;/mapper&gt;
</code></pre>
<pre><code class="java">import com.it.pojo.Brand;
import org.apache.ibatis.annotations.Param;

import java.util.List;

/**
 * @author Brand接口
 */
public interface BrandMapper &#123;
    /**
     * 查询所有
     * @return
     * 返回一个Brand类列表
     */
    List&lt;Brand&gt; selectAll();
    /**
     * 查看详情，根据ID查询
     * @return
     * 返回一个Brand类
     * @param id 要查询的id
     */
    Brand selectById(int id);
    /**
     * 条件查询
     * *参数接收
     *      1.散装参数：如果有多个参数需要使用@param(&quot;SQL参数占位符名称&quot;)
     *      2.对象参数
     *      3.map集合参数
     * @param status 根据状态查询
     * @param companyName 根据公司名字查询
     * @param brandName 根据产品名字查询
     * @return 返回Brand列表
     */
    List&lt;Brand&gt; selectByCondition(@Param(&quot;status&quot;) int status, @Param(&quot;companyName&quot;) String companyName, @Param(&quot;brandName&quot;) String brandName);
&#125;
    List&lt;Brand&gt; selectByCondition(Brand brand);
    List&lt;Brand&gt; selectByCondition(Map&lt;Object,Object&gt; map);
    /**
     * 增加数据
     * @param brand 需要添加的数据
     */
    void add(Brand brand);
    /**
     * 修改数据
     * @param brand 需要修改的数据
     */
    void update(Brand brand);
    /**
     * 删除数据
     * @param id 选择删除行的id
     */
    void deleteById(int id);
    /**
     * 批量删除
     * @param ids 要删除的id组成的数组
     */
    void deleteByIds(int[] ids);    
</code></pre>
<p>动态查询</p>
<ul>
<li><p>SQL语句会随着用户的输入或夕卜部条件的变化而变化，我们称为动态SQL</p>
</li>
<li><p>MyBatis对动态SQL有很强大的支撑：</p>
<ul>
<li><p>if</p>
<ul>
<li>用于判断参数是否有值，使用test属性进行条件判断<ul>
<li>存在的问题：第一个条亻牛不需要逻辑运算符</li>
<li>解决方案<ol>
<li>使用恒等式让所有条件格式都一</li>
<li>标签替换where关键字</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>choose(when,otherwise)</p>
<ul>
<li>choose：相当于switch</li>
<li>when：相当于case</li>
<li>otherwise：相当于default</li>
</ul>
</li>
<li><p>trim(where，set)</p>
</li>
<li><p>foreach</p>
</li>
</ul>
</li>
</ul>
<h3 id="4-2添加"><a href="#4-2添加" class="headerlink" title="4.2添加"></a>4.2添加</h3><ol>
<li><p>编写接口方法：Mapper接口</p>
<ul>
<li>参数：除了id之外的所有数据</li>
<li>结果：void</li>
</ul>
</li>
<li><p>编写SQL语句：SQL映射文件</p>
</li>
<li><p>执行方法，测试</p>
<pre><code class="java">MyBatis事务：
openSession()：默认开启事务，进行一增删改操榨后需要使用sqlSession.commit();手动提交事务
openSession(true):可以设置为自动提交事务（关闭事务）
</code></pre>
</li>
</ol>
<p>在数据添加成功后，需要获取插入数据库数据的主键的值</p>
<ul>
<li><p>比如：添加订单和订单项</p>
<ol>
<li><p>添加订单</p>
</li>
<li><p>添加订单项，订单项中需要所属订单的id</p>
<pre><code class="xml">&lt;insertid=&quot;addOrdet&#39;useGeneratedKeys=&quot;true&quot;keyProperty=&quot;id&quot;&gt;
    insert intO tb_order(payment,payment_type,status)
    values(#&#123;payment&#125;,#&#123;paymentType&#125;,#&#123;status&#125;)；
&lt;/insert&gt;
</code></pre>
</li>
</ol>
</li>
</ul>
<h3 id="4-3修改"><a href="#4-3修改" class="headerlink" title="4.3修改"></a>4.3修改</h3><ol>
<li>编写接口方法：Mapper接口<ul>
<li>参数：所有数据</li>
<li>结果，void</li>
</ul>
</li>
<li>编写SQL语句：SQL映射文件</li>
<li>执行方法，测试</li>
</ol>
<h3 id="4-4删除"><a href="#4-4删除" class="headerlink" title="4.4删除"></a>4.4删除</h3><ol>
<li>编写接口方法：Mapper接口<ul>
<li>参数：id</li>
<li>结果：void</li>
</ul>
</li>
<li>编写SQL语句：SQL映射文件</li>
<li>执行方法，测试</li>
</ol>
<p>批量删除</p>
<ol>
<li>编写接口方法：Mapper接口<ul>
<li>参数：id数组</li>
<li>结果：void</li>
</ul>
</li>
<li>编写SQL语句：SQL映射文件</li>
<li>执行方法，测试</li>
</ol>
<h2 id="5-参数传递"><a href="#5-参数传递" class="headerlink" title="5.参数传递"></a>5.参数传递</h2><ul>
<li>单个参数：<ol>
<li>POJO类型：直接使用，属性名和参数占位符一致</li>
<li>Map集合：键名和参数占位符一致</li>
<li>ColIection:封装为Map集合,可以使用@param注解，    替换map集合中默认的arg键名<ol>
<li>map.put(“arg0”,ColIection集合)</li>
<li>map.put(“colIection”,colIection集合)</li>
</ol>
</li>
<li>List：封装为Map集合,可以使用@param注解，    替换map集合中默认的arg键名<ol>
<li>map.put(“arg0”,list集合)</li>
<li>map.put(“colIection”,llist集合)</li>
<li>map.put(“llist”,llist集合)</li>
</ol>
</li>
<li>Array：封装为Map集合,可以使用@param注解，    替换map集合中默认的arg键名<ol>
<li>map.put(“arg0”,数组)</li>
<li>map.put(“array”,数组)</li>
</ol>
</li>
<li>其他类型：直接使用</li>
</ol>
</li>
<li>多个参数：,可以使用@param注解，    替换map集合中默认的arg键名<ol>
<li>封装为map集合</li>
<li>map put〔”arg0”，参数值1〕<br>map put〔”arg1”，参数值1）<br>map put〔”param1”，参数值1）<br>map put〔”param2”，参数值2)</li>
</ol>
</li>
</ul>
<p>==MyBatis提供了ParamNameResolver类来进行参数封装==</p>
<p>==建议：将来都使用@Param注解来修改Map集合中默认的键名，并使用修改后的名称来获取值，这样可读性更高！==</p>
<h2 id="6-注解完成增删改查"><a href="#6-注解完成增删改查" class="headerlink" title="6.注解完成增删改查"></a>6.注解完成增删改查</h2><p>使用注解开发会比配置文件开发更加方便</p>
<ul>
<li>注解完成简单功能</li>
<li>配置文件完成复杂功能</li>
</ul>
<pre><code class="java">    /**
     * 按id查询
     * @param id 所需要查询的id
     * @return 返回Brand对象
     */
    @Select(&quot;select * from tb_brand where id = #&#123;id&#125;&quot;)
    Brand selectById(int id);
</code></pre>
<h1 id="HTML文档"><a href="#HTML文档" class="headerlink" title="HTML文档"></a>HTML文档</h1><p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/tags/index.asp">文档</a></p>
<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h2><ul>
<li>HTML是一门语言，所有的网页都是用HTML这门语言编写出来的</li>
<li>HTML(HyperTextMarkupLanguage):超文本标记语言<ul>
<li>超文本：超越了文本的限制，比普通文本更强大。除了文字信息，还可以定义图片、音频、视频等内容</li>
<li>标记语言，由标签构成的语言</li>
</ul>
</li>
<li>HTML运行在浏览器上，HTML标签由浏览器来解析</li>
<li>HTML标签都是预定义好的。例如：使用<img>展示图片</li>
<li>W3C标准：网页主要由三部分组成<ul>
<li>结构：HTML</li>
<li>表现：CSS</li>
<li>行为：JavaScript</li>
</ul>
</li>
</ul>
<h2 id="2-入门-1"><a href="#2-入门-1" class="headerlink" title="2.入门"></a>2.入门</h2><ol>
<li><p>新建文本文件，后缀名改为.html</p>
</li>
<li><p>编写TML结构标</p>
</li>
<li><p>在<body>中定义文字</body></p>
<pre><code class="html">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
</ol>
<h2 id="3-基础标签"><a href="#3-基础标签" class="headerlink" title="3.基础标签"></a>3.基础标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><h1>~<h6></h6></h1></td>
<td>定义标题，h1最大，h6最小</td>
</tr>
<tr>
<td><font></font></td>
<td>定义字体、字体尺寸、字体颜色</td>
</tr>
<tr>
<td><b></b></td>
<td>定义粗体文本</td>
</tr>
<tr>
<td><i></i></td>
<td>定义斜体文本</td>
</tr>
<tr>
<td><u></u></td>
<td>定义文本下划线</td>
</tr>
<tr>
<td><center></center></td>
<td>定义文本居中</td>
</tr>
<tr>
<td><p></p></td>
<td>定义段落</td>
</tr>
<tr>
<td><br></td>
<td>定义换行</td>
</tr>
<tr>
<td><hr></td>
<td>定义水平线</td>
</tr>
</tbody></table>
<p><img src="/.com//%E6%A0%87%E7%AD%BE-164903510278441.png"></p>
<pre><code class="html">&lt;!-- html5 标识 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;!-- 字符集 --&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;html入门&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;我是标题h1&lt;/h1&gt;
    &lt;h2&gt;我是标题h2&lt;/h2&gt;
    &lt;h3&gt;我是标题h3&lt;/h3&gt;
    &lt;h4&gt;我是标题h4&lt;/h4&gt;
    &lt;h5&gt;我是标题h5&lt;/h5&gt;
    &lt;h6&gt;我是标题h6&lt;/h6&gt;
    &lt;hr&gt;
    &lt;!-- 
        html 表示颜色：
            1.英文单词:red,blue
            2.rgb:(值1，值2，值3)，取值范围0~255
            3.#值1值2值3：值得范围是00~FF
     --&gt;
    &lt;font color = #ff0000 face = &quot;楷体&quot; size = &quot;18&quot;&gt;你好吗&lt;/font&gt;
    &lt;hr&gt;
    &lt;p&gt;
        MySQL.com 使用 Oracle SSO 进行身份验证。如果您已有 Oracle Web 帐户，请单击登录链接。
    &lt;/p&gt;
    &lt;p&gt;否则，您可以通过单击“注册”链接并按照说明注册一个免费帐户。&lt;/p&gt;
    &lt;hr&gt;
    &lt;b&gt;离离原上草&lt;/b&gt;&lt;br&gt;&lt;b&gt;一岁一枯荣&lt;/b&gt;
    &lt;i&gt;斜体&lt;/i&gt;&lt;u&gt;下划线&lt;/u&gt;
    &lt;hr&gt;
    &lt;center&gt;居中显示&lt;/center&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="4-图片、音频、视频标签"><a href="#4-图片、音频、视频标签" class="headerlink" title="4.图片、音频、视频标签"></a>4.图片、音频、视频标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><img></td>
<td>定义图片</td>
</tr>
<tr>
<td><dudio></dudio></td>
<td>定义音频</td>
</tr>
<tr>
<td><video></video></td>
<td>定义视频</td>
</tr>
</tbody></table>
<ul>
<li>img:定义图片<ol>
<li>src:规定显示图像的URL（统一资源定位符）</li>
<li>height：定义图像的高度</li>
<li>width：定义图像的宽度</li>
</ol>
</li>
<li>audio:定义音频。支持的音频格式：MP3、WAV、OGG<ul>
<li>src:规走音频的URL</li>
<li>controls:显示播放控件</li>
</ul>
</li>
<li>video：定义视频。支持的音频格式：MP4,WebM、OGG<ul>
<li>src:规定视频的URL</li>
<li>controls:．显示播放控件</li>
</ul>
</li>
</ul>
<pre><code class="html">&lt;!-- html5 标识 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;!-- 字符集 --&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;html入门&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 
        资源路径：
            1.绝对路径：完整路径
            2.相对路径：相对位置关系
                当前目录可以直接写图片名字
                ../ 上一级目录
                /   根目录
        尺寸单位
            1.px：像素
            2.百分比
     --&gt;
    &lt;img src=&quot;乌鸦.jpg&quot; alt=&quot;加载中...&quot; width=&quot;400&quot;&gt;
    &lt;audio src=&quot;音频16 读信.mp3&quot; controls=&quot;controls&quot;&gt;&lt;/audio&gt;
    &lt;video src=&quot;1080p云使结尾视频.mp4&quot; controls=&quot;controls&quot; height=&quot;300&quot;&gt;&lt;/video&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="5-超链接标签"><a href="#5-超链接标签" class="headerlink" title="5.超链接标签"></a>5.超链接标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a></a></td>
<td>定义超链接，用于链接另一个资源</td>
</tr>
</tbody></table>
<ul>
<li>href：指定访问资源的URL</li>
<li>target:指定打开资源方式<ul>
<li>_self:默认值，在当前页面打开</li>
<li>_blank：在空白页面打开</li>
</ul>
</li>
</ul>
<h2 id="6-列表标签"><a href="#6-列表标签" class="headerlink" title="6.列表标签"></a>6.列表标签</h2><ul>
<li>有序列表</li>
<li>无序列表</li>
<li></li><li>设置列表项</li>
<li>type 设置标识符</li>
</ul>
<pre><code class="html">&lt;!-- html5 标识 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;!-- 字符集 --&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;html入门&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 有序列表 --&gt;
    &lt;ol type=&quot;A&quot;&gt;
        &lt;li&gt;咖啡&lt;/li&gt;
        &lt;li&gt;茶&lt;/li&gt;
        &lt;li&gt;牛奶&lt;/li&gt;
    &lt;/ol&gt;
    &lt;!-- 无序列表 --&gt;
    &lt;ul&gt;
        &lt;li&gt;咖啡&lt;/li&gt;
        &lt;li&gt;茶&lt;/li&gt;
        &lt;li&gt;牛奶&lt;/li&gt;       
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="7-表格标签"><a href="#7-表格标签" class="headerlink" title="7.表格标签"></a>7.表格标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><table></table></td>
<td>定义表格</td>
</tr>
<tr>
<td></td></tr><tr>
<td>定义行</td>
</tr>
<tr>
<td></td><td></td>
<td>定义单元格</td>
</tr>
<tr>
<td><th></th></td>
<td>定义表头单元格</td>
</tr>
</tbody></table>
<p>table:定义表格</p>
<ul>
<li>border:规定表格边框的宽度</li>
<li>width：规定表格的宽度</li>
<li>cellspacing：规定单元格之间的空白</li>
</ul>
<p>tr:定义行</p>
<ul>
<li>align：定义表格行的内容对齐方式</li>
</ul>
<p>td：定义单元格</p>
<ul>
<li>rowspan．规定单元格可横跨的行数</li>
<li>colspan．规定单元格可横跨的列数</li>
</ul>
<pre><code class="html">&lt;!-- html5 标识 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;!-- 字符集 --&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;html入门&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
    &lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; width=&quot;500&quot;&gt;
        &lt;tr&gt;
            &lt;th&gt;序号&lt;/th&gt;
            &lt;th&gt;品牌Logo&lt;/th&gt;
            &lt;th&gt;品牌名称&lt;/th&gt;
            &lt;th&gt;企业名称&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr align=&quot;center&quot;&gt;
            &lt;td&gt;010&lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
            &lt;td&gt;三只松鼠&lt;/td&gt;
            &lt;td&gt;三只松鼠&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr align=&quot;center&quot;&gt;
            &lt;td&gt;008&lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
            &lt;td&gt;优衣库&lt;/td&gt;
            &lt;td&gt;优衣库&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr align=&quot;center&quot;&gt;
            &lt;td&gt;008&lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
            &lt;td&gt;小米&lt;/td&gt;
            &lt;td&gt;小米&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    &lt;hr&gt;
    &lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; width=&quot;500&quot;&gt;
        &lt;tr&gt;
            &lt;th colspan=&quot;2&quot;&gt;品牌Logo&lt;/th&gt;
            &lt;th&gt;品牌名称&lt;/th&gt;
            &lt;th&gt;企业名称&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr align=&quot;center&quot;&gt;
            &lt;td&gt;010&lt;/td&gt;
            &lt;td&gt;11111111111&lt;/td&gt;
            &lt;td&gt;三只松鼠&lt;/td&gt;
            &lt;td&gt;三只松鼠&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr align=&quot;center&quot;&gt;
            &lt;td rowspan=&quot;2&quot;&gt;008&lt;/td&gt;
            &lt;td&gt;11111111111&lt;/td&gt;
            &lt;td&gt;优衣库&lt;/td&gt;
            &lt;td&gt;优衣库&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr align=&quot;center&quot;&gt;
            &lt;td&gt;11111111111&lt;/td&gt;
            &lt;td&gt;小米&lt;/td&gt;
            &lt;td&gt;小米&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="8-布局标签"><a href="#8-布局标签" class="headerlink" title="8.布局标签"></a>8.布局标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><div></div></td>
<td>定义HTML文档中的一个区域部分，经常与CSS一起使用，用来布局页面</td>
</tr>
<tr>
<td><span></span></td>
<td>用于组合行内元素</td>
</tr>
</tbody></table>
<h2 id="9-表单标签"><a href="#9-表单标签" class="headerlink" title="9.表单标签"></a>9.表单标签</h2><ul>
<li><p>表单：在网页中主要负责数据采集功能，使用<form>标签定义表单</form></p>
</li>
<li><p>表单项（元素）：不同类型的input元素、下拉列表、文本域等</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><form></form></td>
<td>定义表单</td>
</tr>
<tr>
<td><input></td>
<td>定义表单项，通过tepe属性控制输入形式</td>
</tr>
<tr>
<td><label></label></td>
<td>为表单定义标注</td>
</tr>
<tr>
<td><select></select></td>
<td>定义下拉列表</td>
</tr>
<tr>
<td><option></option></td>
<td>定义下拉列表自的列表项</td>
</tr>
<tr>
<td><textarea></textarea></td>
<td>定义文本域</td>
</tr>
</tbody></table>
</li>
<li><p>form：定义表单</p>
<ul>
<li>action:规定当提交表单时向何处发送表单数据，URL</li>
<li>method：规定用于发送表单数据的方式<ul>
<li>get:浏览器会将数据直接附在表单的actionURL之后。大小有限制</li>
<li>post:浏览器会将数据放到http请求消息体中。大小无限制</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>type取值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>默认值，定义单行输入的字段</td>
</tr>
<tr>
<td>password</td>
<td>定义密码输入字段</td>
</tr>
<tr>
<td>redio</td>
<td>定义单选按钮</td>
</tr>
<tr>
<td>checkbox</td>
<td>定义复选框</td>
</tr>
<tr>
<td>file</td>
<td>定义文件上传按钮</td>
</tr>
<tr>
<td>hidden</td>
<td>定义隐藏的输入手段</td>
</tr>
<tr>
<td>submit</td>
<td>定义提交按钮，提交按钮会把表单数据发送到服务器</td>
</tr>
<tr>
<td>reset</td>
<td>定义重置按钮，重置按钮会清楚表单中的所有数据</td>
</tr>
<tr>
<td>button</td>
<td>定义可点击按钮</td>
</tr>
</tbody></table>
</li>
</ul>
<p><img src="/.com//%E8%A1%A8%E5%8D%95-164903495742140.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;练习页面&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 
        form:
            action:指定表单提交的URL
                *表单项数据要想被提交，则必须指定其name属性
            method：指定表单提交的方式
                1.get：默认值
                    *请求参数会拼接在URL后边
                    *url长度有限制  4KB
                2.post：
                    *请求参数会拼接在http请求协议的请求体中
                    *请求参数无限制
     --&gt;
    &lt;form action=&quot;#&quot; method=&quot;post&quot;&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;123&quot;&gt;
        &lt;label for=&quot;username&quot;&gt;用户名:&lt;/label&gt;
        &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot;&gt;&lt;br&gt; 
        &lt;label for=&quot;psd&quot;&gt;密码：&lt;/label&gt;
        &lt;input type=&quot;password&quot; name=&quot;psd&quot; id=&quot;psd&quot;&gt;&lt;br&gt;
        &lt;br&gt;
        性别：
        &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;1&quot; id=&quot;man&quot;&gt;&lt;label for=&quot;man&quot;&gt;男&lt;/label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;0&quot; id=&quot;woman&quot;&gt;&lt;label for=&quot;woman&quot;&gt;女&lt;/label&gt;&lt;br&gt;
        爱好：
        &lt;input type=&quot;checkbox&quot; value=&quot;1&quot; id=&quot;ly&quot;&gt;&lt;label for=&quot;ly&quot;&gt;旅游&lt;/label&gt;
        &lt;input type=&quot;checkbox&quot; value=&quot;2&quot; id=&quot;moving&quot;&gt;&lt;label for=&quot;moving&quot;&gt;电影&lt;/label&gt;
        &lt;input type=&quot;checkbox&quot; value=&quot;3&quot; id=&quot;game&quot;&gt;&lt;label for=&quot;game&quot;&gt;游戏&lt;/label&gt;
        &lt;br&gt;
        &lt;select name=&quot;city&quot; id=&quot;city&quot;&gt;
            &lt;option value=&quot;BeiJing&quot;&gt;北京&lt;/option&gt;
            &lt;option value=&quot;ShangHai&quot;&gt;上海&lt;/option&gt;
            &lt;option value=&quot;GuangZhou&quot;&gt;广州&lt;/option&gt;
        &lt;/select&gt;
        &lt;br&gt;
        个&lt;label for=&quot;desc&quot;&gt;人描述&lt;/label&gt;
        &lt;textarea name=&quot;desc&quot; id=&quot;desc&quot; cols=&quot;30&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;
        &lt;br&gt;
        头像：
        &lt;input type=&quot;file&quot;&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;input type=&quot;submit&quot; value=&quot;免费注册&quot;&gt;
        &lt;input type=&quot;reset&quot; value=&quot;重置&quot;&gt;
        &lt;input type=&quot;button&quot; value=&quot;这是一个按钮&quot;&gt;
        &lt;br&gt;

    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><ul>
<li>CSS是一门语言，用于控制网页表现<br>CSS(CascadingStyleSheet)：虐叠样式表</li>
<li>W3C标准：网页主要由三部分组成<ul>
<li>结构：HTML</li>
<li>表现：CSS</li>
<li>行为：JavaScript</li>
</ul>
</li>
</ul>
<h2 id="1-css导入方式"><a href="#1-css导入方式" class="headerlink" title="1.css导入方式"></a>1.css导入方式</h2><ul>
<li><p>CSS导入HTML有三种方式</p>
<ol>
<li><p>内联样式：在标签内部使用sty|e属性，属性值是css属性键值对</p>
<p><code>&lt;div style=&quot;color:red&quot;&gt;Hello CSS~&lt;div&gt;</code></p>
</li>
<li><p>内部样式：定义<style>标签，在标签内部定义css样式</p>
<pre><code class="css">&lt;style type=&quot;text/css&quot;&gt;
    div&#123;
        color:red;
&#125;
&lt;/style&gt;
</code></pre>
</li>
<li><p>外部样式：定义link标签，引入外部的css文件</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;demo.css&quot;&gt;</code></p>
<p>==demo.scc==</p>
<pre><code class="css">div&#123;
    color:red;
&#125;
</code></pre>
</li>
</ol>
</li>
</ul>
<h2 id="2-css选择器"><a href="#2-css选择器" class="headerlink" title="2.css选择器"></a>2.css选择器</h2><ul>
<li><p>概念：选择器是选取需设置样式的元素（标签）</p>
</li>
<li><p>分类</p>
<ol>
<li><p>元素选择器</p>
<p><code>元素名称&#123;color:red;&#125;</code></p>
</li>
<li><p>id选择器</p>
<p><code>#id属性值&#123;color:red;&#125;</code></p>
</li>
<li><p>类选择器</p>
<p><code>.class属性值&#123;color:red;&#125;</code></p>
</li>
</ol>
</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;css选择器&lt;/title&gt;
    &lt;style&gt;
        div&#123;
            color: red;
        &#125;
        #name&#123;
            color: blue;
        &#125;
        .name&#123;
            color: pink;
        &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;name&quot;&gt;div1&lt;/div&gt;
    &lt;div id=&quot;name&quot;&gt;div2&lt;/div&gt;
    &lt;div&gt;div3&lt;/div&gt;
    &lt;span class=&quot;name&quot;&gt;span&lt;/span&gt;
&lt;/body&gt;
&lt;/html&gt;    
</code></pre>
<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><ul>
<li>JavaScript是一门跨平台、向对象的脚本语言，来控制网页行为的，它能使网页可交互</li>
<li>W3C标准：网页主要由三部分组成<br>结构：HTML<br>表现：CSS<br>行为：JavaScript</li>
<li>JavaScript和Java是完全不同的语言，不论是概念还是设计。但是基础语法类似。</li>
<li>JavaScript（简称：(S)在1995年由BrendanEich发明，并于1997年成为一部ECMA标准。</li>
<li>ECMAScript6(ES6)是最新的JavaScript版本（发布于2015年）。</li>
</ul>
<h2 id="1-引入方式"><a href="#1-引入方式" class="headerlink" title="1.引入方式"></a>1.引入方式</h2><ol>
<li><p>内部脚本：将jS代码定义在HTML页面中</p>
<ul>
<li>在HTML中，JavaScript代码必须位与<script>标签之间</script></li>
<li>在HTML文档中可以在任意地方，放置任意数量的<script>。</li>
<li>一般把脚本置于<bodY>元素的底部，可改善显示速度，因为脚本执行会拖慢显示</li>
</ul>
</li>
<li><p>外部脚本：将jS代码定义在外部jS文件中，然后引入到HTML页面中</p>
<ul>
<li><p>外部文件：demo.js</p>
</li>
<li><p>引入外部js文件</p>
</li>
<li><p>外部脚本不能包含<script>标签</p>
</li>
<li><script>标签不能自闭合</li>
</ul>
</li>
</ol>
<h2 id="2-基础语法"><a href="#2-基础语法" class="headerlink" title="2.基础语法"></a>2.基础语法</h2><h3 id="2-1书写语法"><a href="#2-1书写语法" class="headerlink" title="2.1书写语法"></a>2.1书写语法</h3><ol>
<li>区分大小写：与」一样，变量名、函数名以及其他一切东西都是区分大小写的</li>
<li>每行结尾的分号可有可无</li>
<li>注释：<ul>
<li>单行注释：/／注释内容</li>
<li>多行注释：/<strong>注释内容</strong>/</li>
</ul>
</li>
<li>大括号表示代码块</li>
</ol>
<h3 id="2-2输出语句"><a href="#2-2输出语句" class="headerlink" title="2.2输出语句"></a>2.2输出语句</h3><ul>
<li>使用window.alert()写入警告框</li>
<li>使用document.write()写入HTML输出</li>
<li>使用console.log()写入浏览器控制台</li>
</ul>
<h3 id="2-3变量"><a href="#2-3变量" class="headerlink" title="2.3变量"></a>2.3变量</h3><ul>
<li><p>JavaScript中．用var关键字(varable的缩写）来声明变量</p>
</li>
<li><p>是一门弱类型语言，父里可以存放不同类型的值</p>
</li>
<li><p>变量名需要遵循如下规则</p>
<ul>
<li><p>组成字符可以是任何字母、数字、下划线（_）或美元符号</p>
</li>
<li><p>数字不能开头</p>
</li>
<li><p>建议使用驼峰命名</p>
</li>
</ul>
</li>
<li><p>ECMAScript6|新增了1et关键字来定义变量。它的用法类似于var但是所声<br>明的变量，只在let关键字所在的代码块内有效，且不允许重复声明</p>
</li>
<li><p>ECMAScript6新增了const关键字，用来声明一个只读的常量。一旦声明常量的值就不能改变。</p>
</li>
</ul>
<h3 id="2-4-基础类型"><a href="#2-4-基础类型" class="headerlink" title="2.4.基础类型"></a>2.4.基础类型</h3><p>JavaScript中分为：原始类型和引用类型<br>5种原始类型：</p>
<ol>
<li>number:数字（整数、小数、NaN(NotaNumber))</li>
<li>string．字符、字符串，单双引皆可</li>
<li>blloean：布尔。true,false</li>
<li>null:对象为空</li>
<li>undefined：当声明的变量未初始化时，该变量的默认值是undefined</li>
</ol>
<p>==使用typeof运算符可以获取类型==</p>
<h3 id="2-5-运算符"><a href="#2-5-运算符" class="headerlink" title="2.5.运算符"></a>2.5.运算符</h3><ul>
<li>一元运算符：++ ，–</li>
<li>算术运算符：+，-，*，/，%</li>
<li>赋值运算符：=，+=，-=…</li>
<li>关系运算符：&gt;，&lt;，&gt;=，&lt;=，！=，==，<code>===</code>…</li>
<li>逻辑运算符：&amp;&amp;，||，！</li>
<li>三元运算符：条件表达式？truevalue：falsevalue</li>
</ul>
<p>==在js中运算符会先进行类型转换，<code>===</code>会先判断类型，类型不一样直接报错==</p>
<p>类型转换</p>
<ul>
<li>其他类型转number<ol>
<li>string：按照字符串的字面值，如果字面值不是数字,则转为NaN。一般使用parseInt</li>
<li>boolean:true转1，false转0</li>
</ol>
</li>
<li>其他类型转boolean<ol>
<li>number:0和NaN转false，其他转true</li>
<li>string：空字符串转为false，其他转为true</li>
<li>null：false</li>
<li>undefined：false</li>
</ol>
</li>
</ul>
<h3 id="2-6-流程控制语句"><a href="#2-6-流程控制语句" class="headerlink" title="2.6.流程控制语句"></a>2.6.流程控制语句</h3><p>if，switch，for:，while:，do…while.</p>
<h3 id="2-7-函数"><a href="#2-7-函数" class="headerlink" title="2.7.函数"></a>2.7.函数</h3><p>函数（方法）是被设计为执行特定任务的代码块<br>关键词进行定义，语法为：</p>
<ul>
<li><p>定义：JavaScript函数通过function关键词进行定义，语法为：</p>
<pre><code class="javascript">function functionName(参数1，参数2...)&#123;
    要执行的代码
&#125;
</code></pre>
<ul>
<li>形式参数不需要类型。因为Javascript是弱类型语言</li>
<li>返回值也不需要定义类型，可以在函数内部直接使用return返回即可</li>
</ul>
</li>
<li><p>调用：函数名称（实际参数列表）</p>
</li>
<li><p>定义方式二、</p>
<pre><code class="javas">var functionName = function(形参列表)&#123;
    要执行的代码
&#125;
</code></pre>
</li>
<li><p>调用：js中，调用函数可以传任意个数参数</p>
</li>
</ul>
<h2 id="3-对象"><a href="#3-对象" class="headerlink" title="3.对象"></a>3.对象</h2><h3 id="3-1-Arrary"><a href="#3-1-Arrary" class="headerlink" title="3.1 Arrary"></a>3.1 Arrary</h3><p>JavaScript Array对象用于定义数组</p>
<ul>
<li><p>定义</p>
<ol>
<li><code>var 变量名 = new Array(元素列表)；//方式一</code></li>
<li><code>var 变量名 = [元素列表]//方式二</code></li>
</ol>
</li>
<li><p>访问</p>
<p><code>arr[索引] = 值；</code></p>
</li>
<li><p>JavaScript类似Java中的集合，长度类型都可变</p>
</li>
</ul>
<p>方法</p>
<ol>
<li>push：添加元素</li>
<li>splice删除元素</li>
</ol>
<h3 id="3-2-History历史记录"><a href="#3-2-History历史记录" class="headerlink" title="3.2 History历史记录"></a>3.2 History历史记录</h3><p>获取：使用window.history获取，其中window.可以省略</p>
<p>方法</p>
<table>
<thead>
<tr>
<th>back()</th>
<th>加载history列表中的前一个URL</th>
</tr>
</thead>
<tbody><tr>
<td>forword()</td>
<td>加载history列表中的后一个URL</td>
</tr>
</tbody></table>
<h3 id="3-3-Location地址栏对象"><a href="#3-3-Location地址栏对象" class="headerlink" title="3.3 Location地址栏对象"></a>3.3 Location地址栏对象</h3><p>获取：使用window.location获取，其中window.可以省略</p>
<p>属性</p>
<table>
<thead>
<tr>
<th>href</th>
<th>设置或返回完整的URL</th>
</tr>
</thead>
</table>
<h2 id="4-DOM"><a href="#4-DOM" class="headerlink" title="4.DOM"></a>4.DOM</h2><p>Document Object Model文档对象模型</p>
<p>将标记语言的各个组成部分封装为对象</p>
<ul>
<li>Document:整个文档对象</li>
<li>Element:元素对象</li>
<li>Attribute:．属性对象．</li>
<li>Text：文本对象</li>
<li>omme：注释对象</li>
</ul>
<p>JavaScript通过DOM,就能够对HTML进行操作了</p>
<ul>
<li><p>改变HTML元素的内容</p>
</li>
<li><p>改变HTML元素的样式（css）</p>
</li>
<li><p>对事件作出反应</p>
</li>
<li><p>添加和删除HTML元素</p>
</li>
<li><p>DOM是W3C（万维网联盟）的标准</p>
</li>
<li><p>DOM定义了访问HTML和文档的标准：</p>
</li>
<li><p>W3cDOM标准被分为3个不同的部分：</p>
<ol>
<li>核心DOM：针对任何结构化文档的标准模型<ul>
<li>Document.整个文档对象</li>
<li>Element:元素对象</li>
<li>Attribute：属性对象</li>
<li>Text:文本对象</li>
<li>comment:注释对象</li>
</ul>
</li>
<li>XMLDOM.针对XML文档的标准模型</li>
<li>HTMLDOM:针对HTML文档的标准模型<ul>
<li>lmage：<img></li>
<li>Button：&lt;inputtype=’button’&gt;</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="4-1-获取Element"><a href="#4-1-获取Element" class="headerlink" title="4.1 获取Element"></a>4.1 获取Element</h3><p>获取：使用对象的方法来获取</p>
<ol>
<li>getElementByl·根据id属性值获取，返回一个Element对象</li>
<li>getElementsByTagName.根据标签名称获取，返回Element对象数组</li>
<li>getElementsByName:根据name属性值获取，返回Element对象数组</li>
<li>getElementsByClassName.根据class属性值获取，返回Element对象数组</li>
</ol>
<h3 id="4-2使用"><a href="#4-2使用" class="headerlink" title="4.2使用"></a>4.2使用</h3><p>常见时间</p>
<table>
<thead>
<tr>
<th>事件名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>onclick</td>
<td>鼠标单机事件</td>
</tr>
<tr>
<td>onblur</td>
<td>元素失去焦点</td>
</tr>
<tr>
<td>onfocus</td>
<td>元素获得焦点</td>
</tr>
<tr>
<td>onload</td>
<td>当某个页面或图像被完全加载</td>
</tr>
<tr>
<td>onsubmit</td>
<td>当表单提交时触发该事件</td>
</tr>
<tr>
<td>onkeydown</td>
<td>某个键盘的键被按下</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标被移到某元素上</td>
</tr>
<tr>
<td>ommouseout</td>
<td>鼠标从某元素离开</td>
</tr>
</tbody></table>
<p>==Event代表事件对象==</p>
<h1 id="Web核心"><a href="#Web核心" class="headerlink" title="Web核心"></a>Web核心</h1><ul>
<li>Web:全球广域网，也称为万维网（www),能够通过浏览器访问的网站</li>
<li>JavaWeb：是用」ava技术来解决相关web互联网领域的技术栈</li>
</ul>
<p>B/S架构Browser/Server,浏览器/服务器架构模式，它的特点是，客户端只需要浏览器，应用程序的逻辑和数据都存储在服务器端。浏览器只需要请求服务器，获取Web资源，服务器把Web资源发送给浏览器即可</p>
<ul>
<li>静态资源：HTML、CSS、JavaScript、图片等。负责页面展现</li>
<li>动态资源：Servlet、JSP等。负责逻辑处理</li>
<li>数据库：负责存储居</li>
</ul>
<h2 id="1、HTTP"><a href="#1、HTTP" class="headerlink" title="1、HTTP"></a>1、HTTP</h2><ul>
<li>概念：HyperTextTransferProtocol,超文本传输协议，规定了浏览器和服务器之间数据传输的规则</li>
</ul>
<p>HTTP协议特点：</p>
<ol>
<li>基于TCP协议：面向连接，安全</li>
<li>基于请求一响应模型的．一次请求对应一次响应</li>
<li>HTTP协议是无状态的协议：对于事务处理没有记忆能力。每次请求一响应都是独立的。<ul>
<li>缺点：多次请求间不能共享数据。Java中使用会技术(Cookie、Session)来解决这个问题</li>
<li>优点：速度快</li>
</ul>
</li>
</ol>
<h3 id="1-1-请求数据格式"><a href="#1-1-请求数据格式" class="headerlink" title="1.1 请求数据格式"></a>1.1 请求数据格式</h3><p>请求数据分为3部分：</p>
<ol>
<li>请求行：请求数据的第一行。其中GET表示请求方式，/<br>表示请求资源路径，HTTP/11表示协议版本</li>
<li>请求头：第二行开始，格式为key，value形式。</li>
<li>请求体：POST请求的最后一部分，存放请求参数</li>
</ol>
<p>常见的HTTP请求头：</p>
<ul>
<li>Host:表示请求的主机名</li>
<li>User-Agent:浏览器版本，例如Chrome浏览器的标识类似Moa/5…Chrome/79,IE浏览器的标识类似Mozilla/5.0 (windowsNT…）likeGeck0,</li>
<li>Accept：表示浏览器能接收的资源类型，如text/*，image/<em>或者</em>/*表示所有，</li>
<li>Accept-Language:表示浏览器偏好的语言，服务器可以据此返回不同语言的网页；</li>
<li>Accept-Encoding.表示浏览器可以支持的压缩类型，例如gzip,deflate等。</li>
</ul>
<p>GET请求和POST请求区别：</p>
<ol>
<li><ul>
<li>GET请求请求参数在请求行中，没有请求体。</li>
<li>POST请求请求乡数在请求体中</li>
</ul>
</li>
<li>GET请求请求参数大小有限制，POST没有</li>
</ol>
<h3 id="1-2-相应数据格式"><a href="#1-2-相应数据格式" class="headerlink" title="1.2 相应数据格式"></a>1.2 相应数据格式</h3><p>响应数据分为3部分：</p>
<ol>
<li>响应行：响应数据的第一行。其中HTTP/I.1表示协议版本，200表示响应状态码，OK表示状态码描述</li>
<li>响应头：第二行开始，格式为key，value形式</li>
<li>响应体：最后一部分。存放响应数据</li>
</ol>
<h2 id="2-Web服务器"><a href="#2-Web服务器" class="headerlink" title="2.Web服务器"></a>2.Web服务器</h2><p>web服务器是一个应该程序（软件），对HTTP协议的操作进行封装，使得程序员不必直接对协议进行操作，让web开发更加便捷。主要功能是”提供网上信息浏览服务”</p>
<h2 id="1-Tomcat"><a href="#1-Tomcat" class="headerlink" title="1. Tomcat"></a>1. Tomcat</h2><ul>
<li>概念，Tomcat是Apache软件基金会一个核心项目，是一个开源免费的轻量级web服务器，支持Servlet/JSP少量JavaEE规范。</li>
<li>JavaEE.JavaEnterpriseEdition,」ava企业版。指」ava企业级开发的技术规范总和。包含13项技术规范：JDBC、JNDlsEJB、RMIJSP、Servlet、XML、JMS、」avaIDL、JTS、JTA、JavaMailsJAF</li>
<li>Tomcat也被称为Web容器、Servlet容器。Servlet需要依赖于Tomcat才能运行</li>
<li><a target="_blank" rel="noopener" href="https://tomcat.apache.org/">官网</a></li>
</ul>
<h2 id="2-Servlt"><a href="#2-Servlt" class="headerlink" title="2.Servlt"></a>2.Servlt</h2><h3 id="1-1-入门"><a href="#1-1-入门" class="headerlink" title="1.1 入门"></a>1.1 入门</h3><ol>
<li><p>创建web项目，导入Servlet坐标</p>
<pre><code class="xml">&lt;&lt;dependency&gt;
    &lt;groupld&gt;javax.servlet&lt;/groupld&gt;
    &lt;artifactld&gt;javax.servlet-api&lt;/artifactld&gt;
    &lt;version&gt;3.1.0&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>创建：定义一个类，实现Servlt接口，并重写接口中的所有方法，并在Servlt中输入一句话</p>
<pre><code class="java">public class ServltDemo1 implements Servlt&#123;
    public void service()&#123;&#125;
&#125;
</code></pre>
</li>
<li><p>配置：再类上使用@WebServelt注解，配置该Servlt的访问路径</p>
<pre><code class="java">@WebServelt(&quot;/demo1&quot;)
public class ServeltDemo1 implements Servelt&#123;&#125;
</code></pre>
</li>
<li><p>访问：启动Tomcat,浏览器输入URL访问该Servelt</p>
<p><code>http://localhost:8080/web-demo/demo1</code></p>
</li>
</ol>
<h3 id="1-2-生命周期"><a href="#1-2-生命周期" class="headerlink" title="1.2 生命周期"></a>1.2 生命周期</h3><p>servlet运行在servlet容器()eb服务器）中，其生命周期由容器来管理，分为4个阶段：</p>
<ol>
<li>加载和实例化：默认情况下，当servlet第一次被访问时，由容器创建servlet对象</li>
<li>初始化：在servlet实例化之后，容器将调用servlet的init()方法初始化这个对象，完成一些如加载配置文件、创建连接等初始化的工作。该方法只调用一次</li>
<li>请求处理：每次请求servlet时，servlet容器都会调用servlet的service0方法对请求进行处理。</li>
<li>服务终止：当需要释放内存或者容器关闭时，容器就会调用serv]et实例的destroy()方法完成资源的释放。在destroy()方法调用之后，容器会释这个servlet。t实例，该实例随后会被Java的垃圾收集器所回收</li>
</ol>
<h3 id="1-3-Servlet方法介绍"><a href="#1-3-Servlet方法介绍" class="headerlink" title="1.3 Servlet方法介绍"></a>1.3 Servlet方法介绍</h3><ol>
<li>getServletInfo()<ul>
<li>获取Servlet信息</li>
</ul>
</li>
<li>getServletConfig()<ul>
<li>获取ServIetConfig对象</li>
</ul>
</li>
<li>void init(ServletConfig servletConfig)<ul>
<li>初始化方法，在Servlet被创建时，只执行一次</li>
</ul>
</li>
<li>void service(ServletRequest servletRequest, ServletResponse servletResponse)<ul>
<li>提供服务方法，每次Servlet被访问，都会调用该方法</li>
</ul>
</li>
<li>public void destroy()<ul>
<li>销毁方法，当servlet被销毁时，调用该方法。在内存释放或服务器关闭时销毁servlet</li>
</ul>
</li>
</ol>
<h3 id="1-4Servlet体系结构"><a href="#1-4Servlet体系结构" class="headerlink" title="1.4Servlet体系结构"></a>1.4Servlet体系结构</h3><ul>
<li>Servlet<ul>
<li>Servlet体系根结构</li>
</ul>
</li>
<li>GenericServlet<ul>
<li>Servlet抽象实现类</li>
</ul>
</li>
<li>HttpServlet<ul>
<li>对HTTP协议封装的Servlet实现类</li>
</ul>
</li>
</ul>
<p>==我们将来开发B/S架构的web项目，都是针对HTTP协议，所以我们自定义Servlet，会继承HttpServlet==</p>
<h3 id="1-5-Servlet-urlPaern配置"><a href="#1-5-Servlet-urlPaern配置" class="headerlink" title="1.5 Servlet urlPaern配置"></a>1.5 Servlet urlPaern配置</h3><ul>
<li>Servlet要想被访问，必须配置其访问路径(urlPattern)</li>
</ul>
<ol>
<li>一个Servlet,可以配置多个urlPattern<br>@WebServlet(urlPatterns={“/demo1”,”/demo2})</li>
<li>urlPattern配置规则<ol>
<li>精确匹配<ul>
<li>配置路径和访问路径必须一样</li>
</ul>
</li>
<li>目录匹配<ul>
<li>配置路径带有通配符</li>
</ul>
</li>
<li>扩展名匹配<ul>
<li>配置路径的扩展名和访问路径的扩展名一样</li>
</ul>
</li>
<li>任意匹配<ul>
<li>配置路径写==/==     <code>或</code>     ==/*==，访问路径随便写都会访问到</li>
</ul>
</li>
<li>/和/*区别：<ol>
<li>当我们的项目中配置了“/*“，意味着匹配任意访问路径<ol>
<li>当我们的项目中的Servlet配置了“/”，会覆盖掉tomcat中的DefaultServlet,当其他的u小pattern都匹配不上时都会走这个Servlet</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="1-6-Request-请求）和Response（响应）"><a href="#1-6-Request-请求）和Response（响应）" class="headerlink" title="1.6 Request(请求）和Response（响应）"></a>1.6 Request(请求）和Response（响应）</h3><ul>
<li><strong>Request</strong>：获取请求数据</li>
<li>Response：设置响应数据</li>
</ul>
<h4 id="1-6-1-Request"><a href="#1-6-1-Request" class="headerlink" title="1.6.1 Request"></a>1.6.1 Request</h4><h5 id="Request继承体系"><a href="#Request继承体系" class="headerlink" title="Request继承体系"></a>Request继承体系</h5><ul>
<li>ServletRequest<ul>
<li>Java提供的请求对象的根接口</li>
</ul>
</li>
<li>HttpServletRequest<ul>
<li>Java提供的对Http协议封装的请求对象接口</li>
</ul>
</li>
<li>RequestFacade<ul>
<li>Tomcat定义的实现类</li>
</ul>
</li>
</ul>
<ol>
<li>Tomcat需要解析请求数据,封装为request对象,并目创建request对象传递到service方法中</li>
<li>使用request对象，查阅JavaEEAPI文档的HttpServIetRequest接口</li>
</ol>
<h5 id="Request获取请求数据"><a href="#Request获取请求数据" class="headerlink" title="Request获取请求数据"></a>Request获取请求数据</h5><ul>
<li>请求数据分为三部分<ol>
<li>请求行<ul>
<li><code>GET/request-demo/req1?username=zhangsan HTTP/1.1</code></li>
<li>String geytMethod():获取请求方式：GET</li>
<li>String getContextPath:获取虚拟目录（项目访问路径）：/request-demo</li>
<li>StringBuffer getRequestURL()：获取URL（统一资源定位符）</li>
<li>String getRequestURI():获取URL(统一资源标识符)：/request-demo/req1</li>
<li>String geyQueryString():获取请求参数(GET方式)：username=zhangsan&amp;password=123</li>
</ul>
</li>
<li>请求头<ul>
<li>String getHeader(String name):根据请求头名称，获取值</li>
</ul>
</li>
<li>请求体<ul>
<li>ServletInputStream getInputStream():获取字节输入流</li>
<li>BufferedReader getReader()：获取字符输入流</li>
</ul>
</li>
</ol>
</li>
</ul>
<h5 id="通用方式获取请求参数"><a href="#通用方式获取请求参数" class="headerlink" title="通用方式获取请求参数"></a>通用方式获取请求参数</h5><ul>
<li><p>请求参数获取方式</p>
<ul>
<li>GET方式</li>
</ul>
<p><code>String get    QueryString()</code></p>
<ul>
<li><p>POST方式</p>
<p><code>bufferedReader getReader()</code></p>
</li>
</ul>
</li>
<li><p>Map&lt;String,String[]&gt;getParameterMap():获取所有参数的Map集合</p>
</li>
<li><p>String getParameterValues(String name)根据名称获得参数值(数组)</p>
</li>
<li><p>String getParameter(String name):根据名称获得参数值(单个值)</p>
</li>
</ul>
<h5 id="Request请求参数中文乱码处理"><a href="#Request请求参数中文乱码处理" class="headerlink" title="Request请求参数中文乱码处理"></a>Request请求参数中文乱码处理</h5><ul>
<li><p>请求参数如果存在中文，则会乱码</p>
</li>
<li><p>解决方案</p>
<ul>
<li><p>post设置输入流的编码</p>
<p><code>req.setCharacterEncoding(&quot;UTF-8&quot;)</code></p>
</li>
<li><p>通用方式（GET/POST)：先编码在解码</p>
<p><code>new String(username.getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8);</code></p>
</li>
</ul>
</li>
</ul>
<p>URL编码</p>
<ol>
<li>将每个字符按编码转为二进制</li>
<li>每个字节按两个16进制数并在前面加上%</li>
</ol>
<p><strong>Tomcat8，0之后，已将GET请求乱码问题解决，设置默认的解码方式为UTF一8</strong></p>
<h5 id="请求转发"><a href="#请求转发" class="headerlink" title="请求转发"></a>请求转发</h5><ul>
<li><p>请求转发：一种在服务器内部的资源跳转方式</p>
</li>
<li><p>实现方式、</p>
<p><code>req.getRequestDispatcher(&quot;资源B路径&quot;).forward(req,resp)</code></p>
</li>
<li><p>请求转发资源间共享数据．使用Request对象</p>
<ul>
<li>void setAttriÄYte(Stringname，Objecto):存储数据到request域中</li>
<li>Objectget Attribute(Stringname):根据key，获取值</li>
<li>void removeAttribute(Stringname):根据key，删除该键值对</li>
</ul>
</li>
<li><p>请求转发特点：</p>
<ol>
<li>浏览器地址栏路径不发生变化</li>
<li>只能转发到当前服务器的内部资源</li>
<li>一次请求，可以在转发的资源间使用request共享数据</li>
</ol>
</li>
</ul>
<h4 id="1-6-2-Response"><a href="#1-6-2-Response" class="headerlink" title="1.6.2 Response"></a>1.6.2 Response</h4><h5 id="Response设置响应数据功能介绍"><a href="#Response设置响应数据功能介绍" class="headerlink" title="Response设置响应数据功能介绍"></a>Response设置响应数据功能介绍</h5><ul>
<li>响应数据分三部分<ol>
<li>响应行<ul>
<li>void    setStatus(int sc):设置响应状态码</li>
</ul>
</li>
<li>响应头<ul>
<li>void    setHeader(String name,String value):设置响应头键值对</li>
</ul>
</li>
<li>响应体<ul>
<li>PringWriter getWriter():获取字符输出流</li>
<li>ServletOutputStream getOutputStream():获取字节输出流</li>
</ul>
</li>
</ol>
</li>
</ul>
<h5 id="Response完成重定向"><a href="#Response完成重定向" class="headerlink" title="Response完成重定向"></a>Response完成重定向</h5><ul>
<li><p>重定向：一种资源跳转方式</p>
</li>
<li><p>实现方式</p>
<pre><code class="java">resp.setStatus(302);
resp.setHeader(&quot;location&quot;,&quot;资源B的路径&quot;)；
</code></pre>
</li>
<li><p>简化方式</p>
<p><code>resp.sendRedirect(&quot;资源路径&quot;)</code></p>
</li>
</ul>
<p>重定向特点：</p>
<ol>
<li>浏览器地址栏路径发生变化</li>
<li>可以重定向到任意亻立置的资源（服务器内部、外部均可）</li>
<li>两次请求，不能在多个资源使用request共享数据</li>
</ol>
<h5 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h5><p>明确路径谁使用？</p>
<ul>
<li>浏览器使用．需要加虚拟目录（项目访问路径）</li>
<li>服务端使用．不需要加虚拟目录</li>
</ul>
<h5 id="Response响应字符数据"><a href="#Response响应字符数据" class="headerlink" title="Response响应字符数据"></a>Response响应字符数据</h5><ul>
<li><p>使用</p>
<ol>
<li><p>通过Response对象获取字符输出流</p>
<p><code>PringWriter writer = resp.getWriter();</code></p>
</li>
<li><p>写数据</p>
<p><code>writer.write(&quot;aaa&quot;);</code></p>
</li>
<li><p>．注意：<br>该流不需要关闭，随着响应结束，response对象销毁，由服务器关闭<br>中文数据乱码：原因通过Response获取的字符输出流默认编码：ISO-8859-1<br><code>resp.setContentType(&quot;text/html;charset=utf-8&quot;);</code></p>
</li>
</ol>
</li>
</ul>
<h5 id="Response响应字节数据"><a href="#Response响应字节数据" class="headerlink" title="Response响应字节数据"></a>Response响应字节数据</h5><ul>
<li><p>使用</p>
<ol>
<li>通过Response对象获取字节输出流<br><code>ServletOutputStream outputStream=resp.getOutputStream();</code></li>
<li>写数据<br><code>outputStream.write(字节数据）；</code></li>
</ol>
</li>
<li><p>IOUtils工具类使用</p>
<ol>
<li><p>导入坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;commons-i0&lt;/groupId&gt;
    &lt;artifactld&gt;commons-io&lt;/artifactld&gt;
    &lt;version&gt;2.6&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>使用</p>
<p><code>IOUtils.copy（输入流，输出流）；</code></p>
</li>
</ol>
</li>
</ul>
<h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><ul>
<li>概念：Java     Server    Pages,Java服务端页面</li>
<li>一种动态的网页技术，其中既可以定义HTML、JS、CSS等静态内容，还可以定义Java代码的动态内容</li>
<li>JSP=HTML+Java</li>
<li>JSP的作用：简化开发，避免了在Servlet中直接输出HTML析筌</li>
</ul>
<h2 id="1-入门-1"><a href="#1-入门-1" class="headerlink" title="1.入门"></a>1.入门</h2><ol>
<li><p>导入JSP坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;javax.servlet.jsp&lt;/groupld&gt;
    &lt;artifactId&gt;jsp-api&lt;/artifactld&gt;
    &lt;version&gt;2.2&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>创建JSP文件</p>
</li>
<li><p>编写HTML标签和Java代码</p>
<pre><code class="xml">&lt;body&gt;
    &lt;h1&gt;hello jsp~&lt;/h1&gt;
    &lt;% System.out.printf(&quot;jsp hello~&quot;);%&gt;
        &lt;/%&gt;
&lt;/body&gt;
</code></pre>
</li>
</ol>
<h2 id="2-JSP脚本"><a href="#2-JSP脚本" class="headerlink" title="2.JSP脚本"></a>2.JSP脚本</h2><ul>
<li><p>JSP脚本用于在JSP页面内定义Java代码</p>
</li>
<li><p>JSP脚本分类</p>
<ol>
<li>&lt;％…％&gt;：内容会直接放到jspServie()方法之中</li>
<li>&lt;％=…％&gt;：内容会放到out.print()中，作为out.print()的参数</li>
<li>&lt;％!…％&gt;：内容会放到jspService()方法之外，被类直接包含</li>
</ol>
</li>
<li><p>由于JSP页面内，既可以定义HTML标签，又可以定义Java代码，造成了以下问题：</p>
<ol>
<li>书写麻烦：特别是复杂的页面</li>
<li>阅读麻烦</li>
<li>复杂度高：运行需要依赖于各种环境，JRE,JSP容器，JavaEE..</li>
<li>占内存和磁盘，JSP会自动生成.java和，class文件占磁盘，运行的是．class文件占内存</li>
<li>调试困难：出错后，需要找到自动生成的.java文件进行调试</li>
<li>不利于团队协作：前端人员不会Java,后端人员不精HTML</li>
</ol>
</li>
</ul>
<h2 id="3-EL表达式"><a href="#3-EL表达式" class="headerlink" title="3.EL表达式"></a>3.EL表达式</h2><ul>
<li><p>ExpressionLanguage表达式语言，用于简化JSP页面内的Java代码</p>
</li>
<li><p>主要功能：获取娄划居</p>
</li>
<li><p>语法：${expression}</p>
<p><code>$&#123;brands&#125;</code>:获取域中存储的key为brands的数据</p>
</li>
</ul>
<p>Javaweb中的四大域对象：</p>
<ol>
<li>page:当前页面有效</li>
<li>request:当前请求有效</li>
<li>session，当前会话有效</li>
<li>application:当前应用有效</li>
</ol>
<p>==el表达式获取数据，会依次从这4个域中寻找，直到找到为止==</p>
<h2 id="4-JSTL标签"><a href="#4-JSTL标签" class="headerlink" title="4.JSTL标签"></a>4.JSTL标签</h2><ul>
<li><p>JSP标准标签库（Jsp    Standarded    Tag    Library)，使用标签取代SP页面上的Java代码</p>
</li>
<li><p>入门</p>
<ol>
<li><p>导入坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;jstl&lt;/groupId&gt;
    &lt;artifactId&gt;jstl&lt;/artifactId&gt;
    &lt;version&gt;l.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;taglibs&lt;/groupId&gt;
    &lt;artifactId&gt;standard&lt;/artifactId&gt;
    &lt;version&gt;l.1.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>在JSP页面上引入JSTL标签库</p>
<p><code>&lt;％@taglib prefix=&quot;c&quot;uri=&quot;http://java.sun.com/jsp/jstl/core&quot;％&gt;</code></p>
</li>
<li><p>使用</p>
<ul>
<li>&lt;C:IF&gt;</li>
</ul>
</li>
</ol>
</li>
<li><p>&lt;c:forEach&gt;:相当于for循环</p>
<ul>
<li>items:被遍历的容器</li>
<li>var:遍历产生的临时变量</li>
<li>varStatus:遍历状态对象<ul>
<li>index:从0开始</li>
<li>count:从1开始</li>
</ul>
</li>
<li>begin:开始数</li>
<li>end:结束数</li>
<li>step:步长</li>
</ul>
</li>
</ul>
<h1 id="MVC模式"><a href="#MVC模式" class="headerlink" title="MVC模式"></a>MVC模式</h1><ul>
<li>MVC是一种分层开发的模式，其中<ul>
<li>M：Model，业务模型，处理业务</li>
<li>V：View：视图，界面展示</li>
<li>C：Controller，控制器，处理请求，调用模型和视图</li>
</ul>
</li>
<li>MVC好处<ul>
<li>职责单一，互不影响</li>
<li>有利于分工协作</li>
<li>有利于组件重用</li>
</ul>
</li>
</ul>
<h1 id="三层架构"><a href="#三层架构" class="headerlink" title="三层架构"></a>三层架构</h1><ul>
<li>表现层<ul>
<li>接收请求，封装数据，调用业务逻辑层，响应数据</li>
</ul>
</li>
<li>业务逻辑层<ul>
<li>对业务逻辑进行封装，组合数据访问层层中基本功能，形成复杂的业务逻辑业务</li>
</ul>
</li>
<li>数据访问层<ul>
<li>对数据库的CRUD基本操作</li>
</ul>
</li>
</ul>
<h1 id="会话跟踪技术"><a href="#会话跟踪技术" class="headerlink" title="会话跟踪技术"></a>会话跟踪技术</h1><ul>
<li>会话：用户打开浏览器，访问web服务器的资源，会话建立，直到有一方断开连接，会话结束。在一次会话中<br>可以包含多次请求和响应</li>
<li>会话跟踪：一种维护浏览器状态的方法，服务器需要识别多次请求是否来自于同一浏览器，以便在同一次会话<br>的多次请求间共享数据</li>
<li>HTTP协议是无状态的，每次浏览器向务器请求时，服务器都会将该请求视为新的请求，因此我们需要会话跟<br>斜支术来实现会话内数据共享</li>
<li>实现方式：<ol>
<li>客尸端会话跟踪技术：Cookie</li>
<li>服务端会话跟踪技术：Session</li>
</ol>
</li>
</ul>
<h2 id="1-Cookie"><a href="#1-Cookie" class="headerlink" title="1.Cookie"></a>1.Cookie</h2><h3 id="1-1基本使用"><a href="#1-1基本使用" class="headerlink" title="1.1基本使用"></a>1.1基本使用</h3><ul>
<li><p>Cookie:客户端会话技术，将数据保存到客户端，以后每次请求都携带Cookie数据进行访问</p>
</li>
<li><p>使用</p>
<ol>
<li><p>创建Cookie对象，设置数据</p>
<p><code>Cookie cookie  = new Cookie(&quot;key&quot;,&quot;value)</code></p>
</li>
<li><p>发送Cookie到客户端，使用response对象</p>
<p><code>response.addCookie(cookie);</code></p>
</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li><p>获取Cookie</p>
<ol>
<li><p>获取客户端携带的所有Cookie，使用request对象</p>
<p><code>Cookie[] cookies = request.getCookies();</code></p>
</li>
<li><p>遍历数组，获取每一个Cookie对象</p>
</li>
<li><p>使用Cookie对象方法获取数据</p>
<p><code>cookie.getName()</code></p>
<p><code>cookie.getValues()</code></p>
</li>
</ol>
</li>
</ul>
<h3 id="1-2原理"><a href="#1-2原理" class="headerlink" title="1.2原理"></a>1.2原理</h3><ul>
<li>Cookie的实现是基于HTTP协议的<ul>
<li>响应头：set-cookie</li>
<li>请求头：cookie</li>
</ul>
</li>
</ul>
<h3 id="1-3使用细节"><a href="#1-3使用细节" class="headerlink" title="1.3使用细节"></a>1.3使用细节</h3><ul>
<li>存活时间<ul>
<li>默认情况下，Cookie存储在浏览器内存中，当浏览器关闭，内存释放，则Cookie被销毁</li>
<li>setMaxAge(intteconds)：设置C00kie存活时间<ol>
<li>正数：将Cookie写入浏览器所在电脑的硬盘，持久化存储。到时间自动删除</li>
<li>负数：默认值，Cookie在当前浏览器内存中，当浏览器关闭，则Cookie被销毁</li>
<li>零：删除对应Cookie</li>
</ol>
</li>
</ul>
</li>
<li>存储中文<ul>
<li>Cookie不能直接存中文</li>
<li>如需要存储，则需要进行转码：URL编码</li>
</ul>
</li>
</ul>
<h2 id="2-Session"><a href="#2-Session" class="headerlink" title="2.Session"></a>2.Session</h2><h3 id="2-1使用"><a href="#2-1使用" class="headerlink" title="2.1使用"></a>2.1使用</h3><ul>
<li><p>服务端会话跟斜支术：将数据保存到服务端</p>
</li>
<li><p>JavaEE提供HttpSession接口，来实现一次会话的多次请求间数据共享功能</p>
</li>
<li><p>使用</p>
<ol>
<li><p>获取Session对象</p>
<p><code>HttpSession session = request.getSession();</code></p>
</li>
<li><p>Session对象功能：</p>
<ol>
<li>void setAttribute(String name,Object o):存储数据到Session域中 </li>
<li>Object getAttribute(String name):根据key，获取值</li>
<li>void removeAttribute(String name):根据key,删除该键值对</li>
</ol>
</li>
</ol>
</li>
</ul>
<h2 id="2-2原理"><a href="#2-2原理" class="headerlink" title="2.2原理"></a>2.2原理</h2><ul>
<li>Session是基于Cookie实现的</li>
</ul>
<h3 id="2-3使用细节"><a href="#2-3使用细节" class="headerlink" title="2.3使用细节"></a>2.3使用细节</h3><ul>
<li><p>Session钝化、活化：</p>
<ul>
<li>服务器重启后，Session中的数据是否还在？</li>
<li>钝化：在服器正常关闭后，Tomcat会自动将Session数据写入硬盘的文件中</li>
<li>活化：再次启动服务器后，从文件中加载数据到Session中</li>
</ul>
</li>
<li><p>Seesion销毁：</p>
<ul>
<li><p>默认情况下，无操作，30min自动销毁</p>
<pre><code class="xml">&lt;session-config&gt;
    &lt;session-timeout&gt;30&lt;/session-timeout&gt;
&lt;/session-config&gt;
</code></pre>
</li>
<li><p>调用Session对象的invalidate()方法</p>
</li>
</ul>
</li>
</ul>
<h3 id="2-4-小结"><a href="#2-4-小结" class="headerlink" title="2.4 小结"></a>2.4 小结</h3><ul>
<li>Cookie和Session都是来完成一次会话内多次请求间数据共享的<ul>
<li>区别：<ul>
<li>存储位置：Cookie是将数据存储在客户端，Session将数据存储在服务端</li>
<li>安全性：Cookie不安全，Session安全</li>
<li>数据大小：Cookie最大3KB，Session无大小限制</li>
<li>存储时间：Cookie可以长期存储，Session默认30分钟</li>
<li>服务器性能：Cookie不占服务器资源，Sessipn占用服务器资源</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h1><ul>
<li>概念，Filter表示过滤器，是JavaWeb三大组亻牛(ServletFilter、Listener)之一</li>
<li>过滤器可以把对资源的请求拦截下来，从而实现一些特殊的功能。</li>
<li>过滤器一般完成一些通用的操作，比如：权限控制、统一编码处理、敏感字符处理等等，</li>
</ul>
<h2 id="1-入门-2"><a href="#1-入门-2" class="headerlink" title="1.入门"></a>1.入门</h2><ol>
<li><p>定义类，实现Filter接口，并重写所有方法</p>
<pre><code class="java">public class FilterDemo implements Filter&#123;
    public void inti (FilterConfig FilterConfig)
    public void doFilter(ServletRequest request
    public void destory()&#123;&#125;
&#125;
</code></pre>
</li>
<li><p>配置Filter拦截资源的路径：在类上定义@WebFilter注解</p>
<pre><code class="java">@WebFilter(&quot;/*&quot;)
public class FilterDemo implements Filter&#123;
</code></pre>
</li>
<li><p>在doFilter方法中输出一句话，并放行</p>
<pre><code class="java">public void doFilter(ServletRequest request,ser
                     System.out.println(&quot;filter 被指行了...&quot;)
                     chain.doFilter(request,response);
                     &#125;
</code></pre>
</li>
</ol>
<h2 id="2-执行流程"><a href="#2-执行流程" class="headerlink" title="2.执行流程"></a>2.执行流程</h2><ul>
<li>放行后访问对应资源，资源访问元成后，还会回到Fi|ter中吗？会</li>
<li>如果回到Filter中，是重头执行还是执行放行后的逻辑呢？</li>
<li>执行放行前逻辑==》放行–&gt;访问资源–&gt;执行放行后逻辑</li>
</ul>
<h2 id="3-使用细节"><a href="#3-使用细节" class="headerlink" title="3.使用细节"></a>3.使用细节</h2><ul>
<li>Filter可以根据需求，配置不同的拦截资源路径<br>@WebFiIte1(“/<code>*</code>”)<br>pubIic class FiIterDemo<ul>
<li>拦截具体源：/index.jsp:只有访问index.jsp时才会被拦截。</li>
<li>目录拦截：/user/<code>*</code>:访问/user下的所有资源，都会被拦截</li>
<li>后缀名拦截：<code>*</code>.jsp:访问后缀名为jsp的资源，都会被拦截</li>
<li>拦截所有：/<code>*</code>：访问所有资源，都会被拦截</li>
</ul>
</li>
<li>过滤器链<ul>
<li>一个web应用，可以配置多个过滤器，这多个过滤器称为过滤器链</li>
<li>注解配置的Filter,优先级按照过些器类名（字符串）的自然排序</li>
</ul>
</li>
</ul>
<h1 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h1><ul>
<li><p>概念Listener表示监听器，是JavaWeb三大组件(Servlet、Filter、Listener)之一</p>
</li>
<li><p>监听器可以监听就是在application,session,request三个对象创建、销毁或者往其中添加修改删除<br>属性时自动执行代码的功能组件</p>
</li>
<li><p>Listener分类：JavaWeb中提供了8个监听器</p>
<table>
<thead>
<tr>
<th>监听器的分类</th>
<th>监听器的名称</th>
<th>使用</th>
</tr>
</thead>
<tbody><tr>
<td>ServletContext监听</td>
<td>ServletContextListener</td>
<td>用于对ServIetContext对象进行监听（创建、悄毁）</td>
</tr>
<tr>
<td></td>
<td>ServletContextAttributeListener</td>
<td>对ServletContext对像中属性的监听（增删改属性）</td>
</tr>
<tr>
<td>session监听</td>
<td>HttpSessionListener</td>
<td>对Session对象的整体状态的监听（创建、销毁）</td>
</tr>
<tr>
<td></td>
<td>HttpSessionAttributeListener</td>
<td>对Session对像中的属性监听（增删改属性）</td>
</tr>
<tr>
<td></td>
<td>HttpSessionBindingListener</td>
<td>监听对象于session的绑定和解除</td>
</tr>
<tr>
<td></td>
<td>HttpSessionActivationListener</td>
<td>对Session数据的钝化活化的监听</td>
</tr>
<tr>
<td>Request监听</td>
<td>rvletReuestListener</td>
<td>对Request对象进行监听（创建、销毁）</td>
</tr>
<tr>
<td></td>
<td>ServletRequestAttributeListener</td>
<td>对Request对象中属性的监听（增删改属性）</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
</ul>
<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><ul>
<li>概念：AJAX(AsynchronousJavaScriptAndXML):异步的JavaScript和XML</li>
<li>作用：<ol>
<li>与服务器进行数据交换：通过AJAx可以给服务器发送请求，并获取服务器响应的数据<ul>
<li>使用了AJAx和服务器进行通信，就可以使用HTML+AJAx来替换JSP页面了</li>
</ul>
</li>
<li>异步交互：可以在不重新加载整个页面的情况下，与服务器交换数据并更新部分网页的技术，如：搜索联想、用<br>户名是否可用校验，等等，</li>
</ol>
</li>
</ul>
<h2 id="1-入门-3"><a href="#1-入门-3" class="headerlink" title="1.入门"></a>1.入门</h2><ol>
<li><p>编写AjaxServlet,并使用response输出字符串</p>
</li>
<li><p>创建XMLHttpRequest对象：用于和服务器交换数据</p>
<pre><code class="javascript">var xmlhttp
if(window XMLHttpRequest)&#123;
//code for IE7+,Firefox,Chorme,Opera,Safari
xmlhttp = new XMLHttpRequest();
&#125;else&#123;
//code for IE6,IE5
xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;)
&#125;
</code></pre>
</li>
<li><p>向服务器发送请求</p>
<pre><code class="javascript">xmlhttp.open(&quot;GET&quot;,&quot;url&quot;);
xml.send();//发送请求
</code></pre>
</li>
<li><p>获取服务器响应数据</p>
<pre><code class="javascript">xmlhttp.onreadystatechange=function()&#123;
    if(xmlhttp.readyState==4&amp;&amp;xmlhttp.status==200)&#123;
        alert(xmlhttp.responseText);
    &#125;
&#125;
</code></pre>
</li>
</ol>
<h2 id="2-Axios异步框架"><a href="#2-Axios异步框架" class="headerlink" title="2.Axios异步框架"></a>2.Axios异步框架</h2><ul>
<li>对原生的AJAX进行封装，简化书写</li>
<li><a target="_blank" rel="noopener" href="http://www,axios-http.cn/">官网</a></li>
</ul>
<ol>
<li><p>引入axios的js文件</p>
<p><code>&lt;script src = &quot;js/axios-0.18.0.js&quot;&gt;&lt;/script&gt;</code></p>
</li>
<li><p>使用axios发送请求，并获取响应结果</p>
<pre><code class="javascript">axios(&#123;
    method:&quot;get&quot;,
    url:&quot;http://localhost:8080/ajax-demo1/aJAXDemo1?username=zhangsan&quot;
&#125;).then(function(resp)&#123;
    alert(resp.data);
&#125;)

axios(&#123;
    method:&quot;post&quot;,
    url:&quot;http://localhost:8080/ajax-demo1/aJAXDemo1?username=zhangsan&quot;
    data:&quot;uaername=zhangsan&quot;
&#125;).then(function(resp)&#123;
    alert(resp.data);
&#125;)
</code></pre>
<p>请求方式别名</p>
<ul>
<li>为了方便起见，Axios已经为所有支持的请求方法提供了别名。</li>
</ul>
<ol>
<li><table>
<thead>
<tr>
<th>方法名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>get(url)</td>
<td>发起GET请求</td>
</tr>
<tr>
<td>post(url,请求参数)</td>
<td>发起POST请求</td>
</tr>
</tbody></table>
</li>
</ol>
</li>
</ol>
<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><h2 id="1-基础语法"><a href="#1-基础语法" class="headerlink" title="1.基础语法"></a>1.基础语法</h2><ul>
<li><p>定义</p>
<pre><code class="javascript">var 变量名 = &#123;
    &quot;key1&quot;:value1,
    &quot;key2&quot;:value2,
    ...
&#125;;
</code></pre>
</li>
<li><p>获取数据</p>
<p><code>变量名.key</code></p>
</li>
</ul>
<h2 id="2-JSON和Java对象转换"><a href="#2-JSON和Java对象转换" class="headerlink" title="2.JSON和Java对象转换"></a>2.JSON和Java对象转换</h2><ul>
<li><p>请求数据：JSON字符串转换为Java对象</p>
</li>
<li><p>响应数据：Java对象转换为JSON字符串</p>
</li>
<li><p>Fstjson是阿里巴巴提供的一个Java语言编写的高性能功能完善的」SON库，是目前Java语言中最决的JSON<br>库，可以实ava对象和JSON字符串的相互转换。</p>
</li>
<li><p>使用</p>
<ol>
<li><p>导入坐标</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
    &lt;artifactld&gt;fastjson&lt;/artifactld&gt;
    &lt;version&gt;1.2.62&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>Java对象转JSON</p>
<p><code>String jsonStr = JSON.toJSONString(obj);</code></p>
</li>
<li><p>JSON字符串转Java对象</p>
<p><code>User user = JSON.parseObject(jsonStr,Uesr.class);</code></p>
</li>
</ol>
</li>
</ul>
<h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><ul>
<li>Vue是一套前端免除原生JavaScript中的DOM操作，简化书写</li>
<li>基于MVVM(Model-View-ViewModel)思想，实现数据的双向绑定，将编程氵主点放在数据上</li>
<li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/">官网</a></li>
</ul>
<p>==MVC：只能实现模型到视图的单向展示==</p>
<p>==MVVM：可以实现数据的双向绑定==</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><ol>
<li><p>新建HTML页面，引入Vue.js文件</p>
<p><code>&lt;script src=&quot;js/vue.js&quot;&gt;&lt;/script&gt;</code></p>
</li>
<li><p>在JS代码区域，创建Vue核心对象，进行数据绑定</p>
<pre><code class="javascript">new Vue(&#123;
    el:&quot;#app&quot;,
    data()&#123;
        return&#123;
            username:&quot;&quot;
        &#125;
    &#125;
&#125;);
</code></pre>
</li>
<li><p>编写视图</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
    &lt;input name=&quot;username&quot; v-model=&quot;username&quot;&gt;
    &#123;&#123;u&#125;&#125;
&lt;/div&gt;
</code></pre>
<h2 id="1-Vue常用命令"><a href="#1-Vue常用命令" class="headerlink" title="1.Vue常用命令"></a>1.Vue常用命令</h2><ul>
<li><p>指令：HTML标签上带有v-前缀的特殊属性，不同指令具有不同含义。例如：v-if,v-for..</p>
</li>
<li><p>常用指令</p>
<table>
<thead>
<tr>
<th>指令</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>v-bind</td>
<td>为HTML标签绑定属性值，如设置href,css样式等</td>
</tr>
<tr>
<td>v-model</td>
<td>在表单元素上创建双向数据绑定</td>
</tr>
<tr>
<td>v-on</td>
<td>为HTML标签绑定事件</td>
</tr>
<tr>
<td>v-if</td>
<td>条件性的渲染某元素，判定为true是渲染，否则不渲染</td>
</tr>
<tr>
<td>v-else</td>
<td>条件性的渲染某元素，判定为true是渲染，否则不渲染</td>
</tr>
<tr>
<td>v-else-if</td>
<td>条件性的渲染某元素，判定为true是渲染，否则不渲染</td>
</tr>
<tr>
<td>v-show</td>
<td>根据条件展示某元素，区别在于切换的事display属性的值</td>
</tr>
<tr>
<td>v-for</td>
<td>列表渲染，遍历容器的元素或者对象的属性</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2.生命周期"></a>2.生命周期</h2><ul>
<li><p>生命周期的八个阶段：每触发一个生命周期事件，会自动执行一个生命周期方法（钩子）</p>
<table>
<thead>
<tr>
<th>状态</th>
<th>阶段周期</th>
</tr>
</thead>
<tbody><tr>
<td>beforeCreate</td>
<td>创建前</td>
</tr>
<tr>
<td>created</td>
<td>创建后</td>
</tr>
<tr>
<td>beforeMount</td>
<td>载入前</td>
</tr>
<tr>
<td>Mount</td>
<td>挂载完成</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>更新前</td>
</tr>
<tr>
<td>update</td>
<td>更新后</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>销毁前</td>
</tr>
<tr>
<td>destroy</td>
<td>销毁后</td>
</tr>
</tbody></table>
</li>
<li><p>mounted：挂载完成，Vue初始化成功，HTML页面渲染成功</p>
<ul>
<li><p>发送异步请求，加载数据</p>
</li>
<li><p>示例</p>
<pre><code class="javascript">new vue(&#123;
    el:&quot;#app&quot;
    mounted()&#123;
    alert(&quot;vue挂载完成，发送异步请求&quot;)
&#125;
&#125;)
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</style></p></li></ol></li></ul>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/java/javase/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/java/javase/" class="post-title-link" itemprop="url">java基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-05 19:59:40" itemprop="dateCreated datePublished" datetime="2022-04-05T19:59:40+08:00">2022-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-06 14:31:38" itemprop="dateModified" datetime="2022-04-06T14:31:38+08:00">2022-04-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/java/javase/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/java/javase/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>方法名</p>
<h1 id="java-基本语法"><a href="#java-基本语法" class="headerlink" title="java 基本语法"></a>java 基本语法</h1><h2 id="1、注释"><a href="#1、注释" class="headerlink" title="1、注释"></a>1、注释</h2><ul>
<li><p><strong>什么事注释</strong></p>
<ul>
<li>注释是写在程序中对代码进行解释说明的文字,方便自己和其他人查看，以便理解程序的。</li>
</ul>
</li>
<li><p><strong>注释有哪些</strong></p>
<ul>
<li><p>单行注释</p>
<p><code>//注释内容，只能写一行</code></p>
</li>
<li><p>多行注释</p>
<pre><code class="java">/*
    注释内容1
    注释内容2
*/
</code></pre>
</li>
<li><p><strong>文档注释</strong></p>
<ul>
<li><p>对文档中的注释是可以提取到一个程序说明文档中去的</p>
<pre><code class="java">/**
    注释内容
    注释内容
*/
</code></pre></li></ul></li></ul></li></ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/java/javase/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/java/swing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%9F%AF%E5%93%80.gif">
      <meta itemprop="name" content="千岁">
      <meta itemprop="description" content="天予不取，反受其咎；时至不迎，反受其殃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千岁">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/java/swing/" class="post-title-link" itemprop="url">javaGui笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-05 19:52:00" itemprop="dateCreated datePublished" datetime="2022-04-05T19:52:00+08:00">2022-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-06 14:26:50" itemprop="dateModified" datetime="2022-04-06T14:26:50+08:00">2022-04-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/java/swing/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/java/swing/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AWT-编程"><a href="#AWT-编程" class="headerlink" title="AWT 编程"></a>AWT 编程</h1><h2 id="一、Container容器"><a href="#一、Container容器" class="headerlink" title="一、Container容器"></a>一、Container容器</h2><h3 id="1-1-Container继承体系"><a href="#1-1-Container继承体系" class="headerlink" title="1.1 Container继承体系"></a>1.1 Container继承体系</h3><pre><code class="mermaid">graph TB
A[Obect]==&gt;B(Component)
B==&gt;C(Container)
C==&gt;D(Window:窗口容器)
C==&gt;E(Panel:内嵌容器)
C==&gt;F(ScrollPane:含有滚动条的容器)
D==&gt;G(Frame:创建窗口)
D==&gt;H(Dialog:创建对话框)
E==&gt;I(Applet)
</code></pre>
<ul>
<li>Window是可以独立存在的顶级窗口，默认使用Borderlayout管理内部组件布局</li>
<li>Panel可以容纳其他组件，但不可以独立存在，他必须内嵌在其他容器中使用，默认使用Flowlayout管理内部组件布局</li>
<li>ScrollPane是一个带滚动的容器，他也不能独立存在，默认使用BorderLayout管理其内部布局</li></ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/java/swing/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="千岁"
      src="/images/%E6%9F%AF%E5%93%80.gif">
  <p class="site-author-name" itemprop="name">千岁</p>
  <div class="site-description" itemprop="description">天予不取，反受其咎；时至不迎，反受其殃</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/pc1608" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;pc1608" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2540188156@qq.com" title="E-Mail → mailto:2540188156@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/151309993" title="bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;151309993" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>bilibili</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">千岁</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'bG2iciQlWXvLMuEMOSfS3l1k-gzGzoHsz',
      appKey     : 'tvES47dxcLlv87yBWofHYIEc',
      placeholder: "写下您的评论",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":85,"height":170},"mobile":null,"log":false});</script></body>
</html>
